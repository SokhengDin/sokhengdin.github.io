<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8">
<title>Home - Sokheng Din</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="format-detection" content="telephone=no">
<link rel="icon" type="image/x-icon" href="/img/favicon.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"><link rel="preload" as="fetch" crossorigin="anonymous" href="/topics/linear-mpc/_payload.json"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.f3860a52.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.f420bd7b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.3369d6f6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_slug_.02e0cd06.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.10828927.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.16d71a3c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.a6ef77ff.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.19b7eca9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.50237ccd.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.1002f9a1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.21b62145.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.aa2f825a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.808bd028.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.bfa5d1c5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/math-render.fefbd92f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.1c6c5afe.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.f95e9543.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.f4394499.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.ea1041ff.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.ca72451b.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.634c8877.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.ecd05dd7.js"><style>.page-enter-active,.page-leave-active{transition:all .4s}.page-enter-from,.page-leave-to{filter:blur(1rem);opacity:0}</style><style>.katex{font-size:larger}</style><style>pre code .line{display:block;min-height:1rem}</style><style>/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose] *)){vertical-align:top}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(video):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(li):not(:where([class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(.prose>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.a .custom-code,.h1 .custom-code,.h2 .custom-code,.h3 .custom-code{color:inherit}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.relative{position:relative}.col-span-1{grid-column:span 1/span 1}.col-start-1{grid-column-start:1}.col-start-2{grid-column-start:2}.col-end-2{grid-column-end:2}.col-end-3{grid-column-end:3}.row-span-1{grid-row:span 1/span 1}.row-span-2{grid-row:span 2/span 2}.row-start-1{grid-row-start:1}.row-start-2{grid-row-start:2}.row-start-3{grid-row-start:3}.row-end-2{grid-row-end:2}.row-end-3{grid-row-end:3}.row-end-5{grid-row-end:5}.mx-10{margin-left:2.5rem;margin-right:2.5rem}.mx-20{margin-left:5rem;margin-right:5rem}.mx-auto{margin-left:auto;margin-right:auto}.my-10{margin-bottom:2.5rem;margin-top:2.5rem}.my-5{margin-bottom:1.25rem;margin-top:1.25rem}.mb-10{margin-bottom:2.5rem}.ml-10{margin-left:2.5rem}.mr-10{margin-right:2.5rem}.mt-10{margin-top:2.5rem}.mt-5{margin-top:1.25rem}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-8{height:2rem}.h-screen{height:100vh}.max-h-40{max-height:10rem}.min-h-\[400px\]{min-height:400px}.min-h-\[500px\]{min-height:500px}.w-8{width:2rem}.w-80{width:20rem}.max-w-\[1200px\]{max-width:1200px}.max-w-\[800px\]{max-width:800px}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-\[22\%_76\%\]{grid-template-columns:22% 76%}.grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-10{gap:2.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-7{gap:1.75rem}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.space-x-5>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1.25rem*var(--tw-space-x-reverse))}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.bg-slate-500{--tw-bg-opacity:1;background-color:rgb(100 116 139/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.fill-blue-600{fill:#2563eb}.p-10{padding:2.5rem}.p-5{padding:1.25rem}.px-20{padding-left:5rem;padding-right:5rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.pb-2{padding-bottom:.5rem}.pb-5{padding-bottom:1.25rem}.pl-10{padding-left:2.5rem}.pl-20{padding-left:5rem}.pl-5{padding-left:1.25rem}.pr-20{padding-right:5rem}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-thin{font-weight:100}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.ring-2{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.ring-black{--tw-ring-opacity:1;--tw-ring-color:rgb(0 0 0/var(--tw-ring-opacity))}.ring-blue-500{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246/var(--tw-ring-opacity))}.ring-slate-600{--tw-ring-opacity:1;--tw-ring-color:rgb(71 85 105/var(--tw-ring-opacity))}.blur{--tw-blur:blur(8px)}.blur,.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}@media (max-width:639px){.-sm\:prose-sm{font-size:.875rem;line-height:1.7142857}.-sm\:prose-sm :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em}.-sm\:prose-sm :where([class~=lead]):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.8888889em;margin-top:.8888889em}.-sm\:prose-sm :where(blockquote):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.1111111em}.-sm\:prose-sm :where(h1):not(:where([class~=not-prose] *)){font-size:2.1428571em;line-height:1.2;margin-bottom:.8em;margin-top:0}.-sm\:prose-sm :where(h2):not(:where([class~=not-prose] *)){font-size:1.4285714em;line-height:1.4;margin-bottom:.8em;margin-top:1.6em}.-sm\:prose-sm :where(h3):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.5555556em}.-sm\:prose-sm :where(h4):not(:where([class~=not-prose] *)){line-height:1.4285714;margin-bottom:.5714286em;margin-top:1.4285714em}.-sm\:prose-sm :where(img):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-sm\:prose-sm :where(video):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-sm\:prose-sm :where(figure):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-sm\:prose-sm :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.-sm\:prose-sm :where(figcaption):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.-sm\:prose-sm :where(code):not(:where([class~=not-prose] *)){font-size:.8571429em}.-sm\:prose-sm :where(h2 code):not(:where([class~=not-prose] *)){font-size:.9em}.-sm\:prose-sm :where(h3 code):not(:where([class~=not-prose] *)){font-size:.8888889em}.-sm\:prose-sm :where(pre):not(:where([class~=not-prose] *)){border-radius:.25rem;font-size:.8571429em;line-height:1.6666667;margin-bottom:1.6666667em;margin-top:1.6666667em;padding:.6666667em 1em}.-sm\:prose-sm :where(ol):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.-sm\:prose-sm :where(ul):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.-sm\:prose-sm :where(li):not(:where([class~=not-prose] *)){margin-bottom:.2857143em;margin-top:.2857143em}.-sm\:prose-sm :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.-sm\:prose-sm :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.-sm\:prose-sm :where(.-sm\:prose-sm>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.-sm\:prose-sm :where(.-sm\:prose-sm>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.-sm\:prose-sm :where(.-sm\:prose-sm>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.-sm\:prose-sm :where(.-sm\:prose-sm>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.-sm\:prose-sm :where(.-sm\:prose-sm>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.-sm\:prose-sm :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.-sm\:prose-sm :where(hr):not(:where([class~=not-prose] *)){margin-bottom:2.8571429em;margin-top:2.8571429em}.-sm\:prose-sm :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.-sm\:prose-sm :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.-sm\:prose-sm :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.-sm\:prose-sm :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.-sm\:prose-sm :where(table):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.5}.-sm\:prose-sm :where(thead th):not(:where([class~=not-prose] *)){padding-bottom:.6666667em;padding-left:1em;padding-right:1em}.-sm\:prose-sm :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.-sm\:prose-sm :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.-sm\:prose-sm :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.6666667em 1em}.-sm\:prose-sm :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.-sm\:prose-sm :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.-sm\:prose-sm :where(.-sm\:prose-sm>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.-sm\:prose-sm :where(.-sm\:prose-sm>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}}@media (max-width:767px){.-md\:prose-sm{font-size:.875rem;line-height:1.7142857}.-md\:prose-sm :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em}.-md\:prose-sm :where([class~=lead]):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.8888889em;margin-top:.8888889em}.-md\:prose-sm :where(blockquote):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.1111111em}.-md\:prose-sm :where(h1):not(:where([class~=not-prose] *)){font-size:2.1428571em;line-height:1.2;margin-bottom:.8em;margin-top:0}.-md\:prose-sm :where(h2):not(:where([class~=not-prose] *)){font-size:1.4285714em;line-height:1.4;margin-bottom:.8em;margin-top:1.6em}.-md\:prose-sm :where(h3):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.5555556em}.-md\:prose-sm :where(h4):not(:where([class~=not-prose] *)){line-height:1.4285714;margin-bottom:.5714286em;margin-top:1.4285714em}.-md\:prose-sm :where(img):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-md\:prose-sm :where(video):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-md\:prose-sm :where(figure):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.-md\:prose-sm :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.-md\:prose-sm :where(figcaption):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.-md\:prose-sm :where(code):not(:where([class~=not-prose] *)){font-size:.8571429em}.-md\:prose-sm :where(h2 code):not(:where([class~=not-prose] *)){font-size:.9em}.-md\:prose-sm :where(h3 code):not(:where([class~=not-prose] *)){font-size:.8888889em}.-md\:prose-sm :where(pre):not(:where([class~=not-prose] *)){border-radius:.25rem;font-size:.8571429em;line-height:1.6666667;margin-bottom:1.6666667em;margin-top:1.6666667em;padding:.6666667em 1em}.-md\:prose-sm :where(ol):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.-md\:prose-sm :where(ul):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.-md\:prose-sm :where(li):not(:where([class~=not-prose] *)){margin-bottom:.2857143em;margin-top:.2857143em}.-md\:prose-sm :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.-md\:prose-sm :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.-md\:prose-sm :where(.-md\:prose-sm>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.-md\:prose-sm :where(.-md\:prose-sm>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.-md\:prose-sm :where(.-md\:prose-sm>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.-md\:prose-sm :where(.-md\:prose-sm>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.-md\:prose-sm :where(.-md\:prose-sm>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.-md\:prose-sm :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.-md\:prose-sm :where(hr):not(:where([class~=not-prose] *)){margin-bottom:2.8571429em;margin-top:2.8571429em}.-md\:prose-sm :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.-md\:prose-sm :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.-md\:prose-sm :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.-md\:prose-sm :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.-md\:prose-sm :where(table):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.5}.-md\:prose-sm :where(thead th):not(:where([class~=not-prose] *)){padding-bottom:.6666667em;padding-left:1em;padding-right:1em}.-md\:prose-sm :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.-md\:prose-sm :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.-md\:prose-sm :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.6666667em 1em}.-md\:prose-sm :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.-md\:prose-sm :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.-md\:prose-sm :where(.-md\:prose-sm>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.-md\:prose-sm :where(.-md\:prose-sm>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:bottom-0:after{bottom:0;content:var(--tw-content)}.after\:left-0:after{content:var(--tw-content);left:0}.after\:h-\[2px\]:after{content:var(--tw-content);height:2px}.after\:w-0:after{content:var(--tw-content);width:0}.after\:bg-slate-400:after{--tw-bg-opacity:1;background-color:rgb(148 163 184/var(--tw-bg-opacity));content:var(--tw-content)}.after\:transition-all:after{content:var(--tw-content);transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.after\:duration-300:after{content:var(--tw-content);transition-duration:.3s}.hover\:text-blue-500:hover{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}.hover\:text-red-500:hover{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.hover\:after\:w-full:hover:after{content:var(--tw-content);width:100%}@media (prefers-color-scheme:dark){.dark\:text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}}@media (max-width:639px){.-sm\:mx-auto{margin-left:auto;margin-right:auto}.-sm\:flex{display:flex}.-sm\:min-h-\[400px\]{min-height:400px}.-sm\:w-\[280px\]{width:280px}.-sm\:max-w-\[600px\]{max-width:600px}.-sm\:max-w-md{max-width:28rem}.-sm\:max-w-sm{max-width:24rem}.-sm\:scale-75{--tw-scale-x:.75;--tw-scale-y:.75}.-sm\:scale-75,.-sm\:scale-90{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-sm\:scale-90{--tw-scale-x:.9;--tw-scale-y:.9}.-sm\:scale-95{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-sm\:flex-col{flex-direction:column}.-sm\:justify-center{justify-content:center}.-sm\:gap-5{gap:1.25rem}.-sm\:p-2{padding:.5rem}.-sm\:px-5{padding-left:1.25rem;padding-right:1.25rem}.-sm\:text-center{text-align:center}.-sm\:hover\:bg-slate-200:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240/var(--tw-bg-opacity))}}@media (max-width:767px){.-md\:mx-auto{margin-left:auto;margin-right:auto}.-md\:flex{display:flex}.-md\:h-\[600px\]{height:600px}.-md\:min-h-\[400px\]{min-height:400px}.-md\:w-\[380px\]{width:380px}.-md\:max-w-md{max-width:28rem}.-md\:scale-90{--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-md\:flex-col{flex-direction:column}.-md\:gap-6{gap:1.5rem}.-md\:px-8{padding-left:2rem;padding-right:2rem}.-md\:text-center{text-align:center}}@media (max-width:1023px){.-lg\:mx-auto{margin-left:auto;margin-right:auto}.-lg\:flex{display:flex}.-lg\:flex-col{flex-direction:column}.-lg\:gap-8{gap:2rem}}@media (max-width:1280px){.-xl\:gap-10{gap:2.5rem}}</style></head>
<body ><div id="__nuxt"><div><div class="flex flex-col overflow-x -sm:max-w-md"><div class="-sm:scale-75 p-5"><nav class="flex flex-row justify-center space-x-4 list-none text-black font-light font-sans text-xl"><li class="flex pb-2"><a href="/" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">Home</a></li><li class="flex pb-2"><a href="/about" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">About Me</a></li><li class="flex pb-2"><a href="/projects" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">Projects</a></li><li class="flex pb-2"><a href="/publications" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">Publications</a></li><li class="flex pb-2"><a href="/topics" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">Topics</a></li><li class="flex pb-2"><a href="/cv" class="relative after:bg-slate-400 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">CV</a></li></nav></div><div class="px-20 mx-auto max-w-[1200px] justify-center items-center font-sans prose -sm:prose-sm -sm:px-5 -md:prose-sm -md:px-8 -sm:mx-auto -md:mx-auto -sm:max-w-sm -md:max-w-md"><div><h1 id="what-is-model-predictive-control"><!--[-->What is Model Predictive Control ?<!--]--></h1><p><!--[-->Model Predictive Control (MPC) is the optimal control method that use optimization algorithms to solve the cost function the occurs from the desired input and obtain back the optimal input control over the finite and infinite horizons. Recently, MPC is hyping up among the control system researcher, since it is fast, efficiency and robustness for any high complex system.<!--]--></p><div class="grid grid-cols-2 space-x-10 justify-center items-center"><figure class="mb-4 inline-block max-w-sm">
  <img src="/topics/nmpc/predict_horizon.png" alt width="600px" height="300px" class="mx-auto"></figure><figure class="mb-4 inline-block max-w-sm">
  <img src="/topics/nmpc/set_points.png" alt width="600px" height="300px" class="mx-auto"></figure></div><figcaption class="text-center text-sm text-neutral-600 dark:text-neutral-400">
      A car with finite horizons prediction and set point prediction over finite horizons.
</figcaption><h2 id="how-it-work"><a href="#how-it-work"><!--[-->How it work ?<!--]--></a></h2><p><!--[-->It works by solving the cost function that is produced by the sum of quadratic costs. For example, imagine you are riding a bike, and you want to get an ice cream because it is summer, and it tastes good 😆. So, to get the ice cream, you need to grab your bike and ride it to the mart to buy one. What does it take to get you from your home to the mart store? Of course, it must be the energy produced by your muscles to pedal the bike and move. Another way to think about it is the cost of how the system would react to the desired position or point that you want it to reach. MPC have two types, they are Linear MPC and Nonlinear MPC. In this blog, we will only talk about Linear MPC.<!--]--></p><h2 id="linear-mpc"><a href="#linear-mpc"><!--[-->Linear MPC<!--]--></a></h2><p><!--[-->Linear MPC or Linear Model Predictive Control is an optimal control method that use with the system that it behavors linearly. It means that we can easily control this system with lost cost computation of the optimization and also ensure the lower risk of the system too!. <br><!--]--></p><p><!--[-->Here is the formulation of the linear discrete system.<!--]--></p><div class="text-center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>A</mi><msub><mi>X</mi><mi>k</mi></msub><mo>+</mo><mi>B</mi><msub><mi>U</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">
X_{k+1}=AX_{k}+BU_{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div><h2 id="formulation"><a href="#formulation"><!--[-->Formulation<!--]--></a></h2><p><!--[-->As I mentioned, this is quadratic cost. It consists of summation of all the cost that was produced over the number of horizontal prediction.<!--]--></p><div class="text-center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>−</mo><msub><mi>X</mi><mi>k</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mi>Q</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>−</mo><msub><mi>X</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>U</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>−</mo><msub><mi>U</mi><mi>k</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mi>R</mi><mo stretchy="false">(</mo><msub><mi>U</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>−</mo><msub><mi>U</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>N</mi></msub><mo separator="true">,</mo><msub><mi>U</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(x,u) = \sum_{k=0}^{N-1}(X_{k, ref}-X_{k})^{T}Q(X_{k, ref}-X_{k})+(U_{k,ref}-U_{k})^{T}R(U_{k,ref}-U_{k}) + \phi(X_{N}, U_{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2809em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1274em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1274em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></div><p><!--[-->Notation<!--]--></p><ul><!--[--><li><!--[-->X is the state of the system. This shall be obtained from the optimiztion problem<!--]--></li><li><!--[-->X_ref is the reference state of the system or desired input state.<!--]--></li><li><!--[-->U is the input control of the system. This is a solution obtained from the optimization problem.<!--]--></li><li><!--[-->U_ref is the reference control of the system or desired input control.<!--]--></li><!--]--></ul><h2 id="was-it-really-that-good"><a href="#was-it-really-that-good"><!--[-->Was it really that good ?<!--]--></a></h2><p><!--[-->I use MPC to control the differential drive robot to move from it zero position the the desired postion that I want to follow !.
I generate a circle trajectory and I fit this curve into my beautiful and robustness cost and then volia !!!.<!--]--></p><figure class="mb-4 inline-block max-w-sm">
  <img src="/topics/nmpc/diff_mpc.png" alt width="600px" height="300px" class="mx-auto"></figure><figcaption class="text-center text-sm text-neutral-600 dark:text-neutral-400">
    Plot of differential drive robot follow the circle trajectory !!!.
</figcaption><h2 id="how-to-implement-it-in-python"><a href="#how-to-implement-it-in-python"><!--[-->How to implement it in Python?<!--]--></a></h2><p><!--[-->There are so many great way to implement this control everywhere with many mathematical optimization library!!!. But for the sake of god, I use Casadi and CVXPY which I think one of the most easy tool to use. I will draft some python code here, but I cannot include them all in this post. You can check it more on my github repository, I do open-source some of my work !!! <a href="https://github.com/SokhengDin/PathTracking" rel="nofollow"><!--[-->Github<!--]--></a>. <br><!--]--></p><p><!--[-->I recommend you guys to have your own virtual enviroment, so I would be easier to work with any other related project of control system. <br><!--]--></p><p><!--[-->Make sure that you have install<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-806137">pip3</span><span class="ct-767297"> </span><span class="ct-244866">install</span><span class="ct-767297"> </span><span class="ct-244866">casadi</span><span class="ct-767297"> &amp;&amp; </span><span class="ct-806137">pip3</span><span class="ct-767297"> </span><span class="ct-244866">install</span><span class="ct-767297"> </span><span class="ct-244866">cvxpy</span></span></code></pre><!--]--><p><!--[-->It is a good idea to write your robot model as a class object in Python, because it can help handle the update state of your system. For me, I am gonna use Numpy for mathematical operation.<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-857441">import</span><span class="ct-767297"> numpy </span><span class="ct-857441">as</span><span class="ct-767297"> np
</span></span><span class="line" line="2"><span>
</span></span><span class="line" line="3"><span class="ct-857441">class</span><span class="ct-767297"> </span><span class="ct-806137">DifferentialDrive</span><span class="ct-767297">:
</span></span><span class="line" line="4"><span>
</span></span><span class="line" line="5"><span class="ct-767297">    </span><span class="ct-857441">def</span><span class="ct-767297"> </span><span class="ct-806137">forward_kinematic</span><span class="ct-767297">(self, yaw, v, omega):
</span></span><span class="line" line="6"><span class="ct-767297">        vx </span><span class="ct-857441">=</span><span class="ct-767297"> v </span><span class="ct-857441">*</span><span class="ct-767297"> np.cos(yaw)
</span></span><span class="line" line="7"><span class="ct-767297">        vy </span><span class="ct-857441">=</span><span class="ct-767297"> v </span><span class="ct-857441">*</span><span class="ct-767297"> np.sin(yaw)
</span></span><span class="line" line="8"><span class="ct-767297">        vyaw </span><span class="ct-857441">=</span><span class="ct-767297"> omega
</span></span><span class="line" line="9"><span>
</span></span><span class="line" line="10"><span class="ct-767297">        </span><span class="ct-857441">return</span><span class="ct-767297"> vx, vy, vyaw</span></span></code></pre><!--]--><p><!--[-->Next add this update state function into our <strong><!--[-->DifferentialDrive <!--]--></strong> class, by doing this we would have all the attribute of our robot system.<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-857441">def</span><span class="ct-767297"> </span><span class="ct-806137">update_state</span><span class="ct-767297">(self, x0, y0, yaw0, yaw, v, omega):
</span></span><span class="line" line="2"><span>
</span></span><span class="line" line="3"><span class="ct-767297">  dx, dy, dyaw </span><span class="ct-857441">=</span><span class="ct-767297"> </span><span class="ct-533739">self</span><span class="ct-767297">.robot_model.forward_kinematic(yaw, v, omega)
</span></span><span class="line" line="4"><span>
</span></span><span class="line" line="5"><span class="ct-767297">  x_next </span><span class="ct-857441">=</span><span class="ct-767297"> x0 </span><span class="ct-857441">+</span><span class="ct-767297"> dx</span><span class="ct-857441">*</span><span class="ct-533739">self</span><span class="ct-767297">.dtau
</span></span><span class="line" line="6"><span class="ct-767297">  y_next </span><span class="ct-857441">=</span><span class="ct-767297"> y0 </span><span class="ct-857441">+</span><span class="ct-767297"> dy</span><span class="ct-857441">*</span><span class="ct-533739">self</span><span class="ct-767297">.dtau
</span></span><span class="line" line="7"><span class="ct-767297">  yaw_next </span><span class="ct-857441">=</span><span class="ct-767297"> yaw0 </span><span class="ct-857441">+</span><span class="ct-767297"> dyaw</span><span class="ct-857441">*</span><span class="ct-533739">self</span><span class="ct-767297">.dtau
</span></span><span class="line" line="8"><span>
</span></span><span class="line" line="9"><span class="ct-767297">  </span><span class="ct-857441">return</span><span class="ct-767297"> x_next, y_next, yaw_next</span></span></code></pre><!--]--><p><!--[-->How to define the quadratic cost in Python with CVXPY ? and set the constraint for your system ? <br>
Here, how you would write it.<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-857441">for</span><span class="ct-767297"> t </span><span class="ct-857441">in</span><span class="ct-767297"> </span><span class="ct-533739">range</span><span class="ct-767297">(T):
</span></span><span class="line" line="2"><span class="ct-767297">    cost </span><span class="ct-857441">+=</span><span class="ct-767297"> cvxpy.quad_form(u[:, t], R)
</span></span><span class="line" line="3"><span>
</span></span><span class="line" line="4"><span class="ct-767297">    </span><span class="ct-857441">if</span><span class="ct-767297"> t </span><span class="ct-857441">!=</span><span class="ct-767297"> </span><span class="ct-533739">0</span><span class="ct-767297">:
</span></span><span class="line" line="5"><span class="ct-767297">        cost </span><span class="ct-857441">+=</span><span class="ct-767297"> cvxpy.quad_form(x_ref[:, t] </span><span class="ct-857441">-</span><span class="ct-767297"> x[:, t], Q)
</span></span><span class="line" line="6"><span>
</span></span><span class="line" line="7"><span class="ct-767297">    A, B, C </span><span class="ct-857441">=</span><span class="ct-767297"> get_linear_model_matrix(x_ref, u_ref)
</span></span><span class="line" line="8"><span class="ct-767297">    constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [x[:, t </span><span class="ct-857441">+</span><span class="ct-767297"> </span><span class="ct-533739">1</span><span class="ct-767297">] </span><span class="ct-857441">==</span><span class="ct-767297"> A </span><span class="ct-857441">@</span><span class="ct-767297"> x[:, t] </span><span class="ct-857441">+</span><span class="ct-767297"> B </span><span class="ct-857441">@</span><span class="ct-767297"> u[:, t] </span><span class="ct-857441">+</span><span class="ct-767297"> C]
</span></span><span class="line" line="9"><span>
</span></span><span class="line" line="10"><span class="ct-767297">    </span><span class="ct-857441">if</span><span class="ct-767297"> t </span><span class="ct-857441">&lt;</span><span class="ct-767297"> (T </span><span class="ct-857441">-</span><span class="ct-767297"> </span><span class="ct-533739">1</span><span class="ct-767297">):
</span></span><span class="line" line="11"><span class="ct-767297">        cost </span><span class="ct-857441">+=</span><span class="ct-767297"> cvxpy.quad_form(u[:, t </span><span class="ct-857441">+</span><span class="ct-767297"> </span><span class="ct-533739">1</span><span class="ct-767297">] </span><span class="ct-857441">-</span><span class="ct-767297"> u[:, t], Rd)
</span></span><span class="line" line="12"><span class="ct-767297">        constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [cvxpy.abs(u[</span><span class="ct-533739">1</span><span class="ct-767297">, t </span><span class="ct-857441">+</span><span class="ct-767297"> </span><span class="ct-533739">1</span><span class="ct-767297">] </span><span class="ct-857441">-</span><span class="ct-767297"> u[</span><span class="ct-533739">1</span><span class="ct-767297">, t]) </span><span class="ct-857441">&lt;=</span><span class="ct-767297"> </span><span class="ct-533739">DESIRED_CONTROL</span><span class="ct-767297">]
</span></span><span class="line" line="13"><span>
</span></span><span class="line" line="14"><span class="ct-767297">cost </span><span class="ct-857441">+=</span><span class="ct-767297"> cvxpy.quad_form(xref[:, T] </span><span class="ct-857441">-</span><span class="ct-767297"> x[:, T], Q)</span></span></code></pre><!--]--><p><!--[-->The function <strong><!--[--> get_linear_model_matrix <!--]--></strong> would return the linearized model as the shown as the formula above. <br>
We can set more constraint by adding<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-767297">  constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [x[:, </span><span class="ct-533739">0</span><span class="ct-767297">] </span><span class="ct-857441">==</span><span class="ct-767297"> x0]
</span></span><span class="line" line="2"><span class="ct-767297">  constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [x[</span><span class="ct-533739">2</span><span class="ct-767297">, :] </span><span class="ct-857441">&lt;=</span><span class="ct-767297"> </span><span class="ct-533739">MAX_SPEED</span><span class="ct-767297">]
</span></span><span class="line" line="3"><span class="ct-767297">  constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [x[</span><span class="ct-533739">2</span><span class="ct-767297">, :] </span><span class="ct-857441">&gt;=</span><span class="ct-767297"> </span><span class="ct-533739">MIN_SPEED</span><span class="ct-767297">]
</span></span><span class="line" line="4"><span class="ct-767297">  constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [cvxpy.abs(u[</span><span class="ct-533739">0</span><span class="ct-767297">, :]) </span><span class="ct-857441">&lt;=</span><span class="ct-767297"> </span><span class="ct-533739">MAX_ACCEL</span><span class="ct-767297">]
</span></span><span class="line" line="5"><span class="ct-767297">  constraints </span><span class="ct-857441">+=</span><span class="ct-767297"> [cvxpy.abs(u[</span><span class="ct-533739">1</span><span class="ct-767297">, :]) </span><span class="ct-857441">&lt;=</span><span class="ct-767297"> </span><span class="ct-533739">MAX_STEER</span><span class="ct-767297">]</span></span></code></pre><!--]--><p><!--[-->Finally, we define the optimizer for our system by<!--]--></p><!--[--><pre><code><span class="line" line="1"><span class="ct-767297">prob </span><span class="ct-857441">=</span><span class="ct-767297"> cvxpy.Problem(cvxpy.Minimize(cost), constraints)
</span></span><span class="line" line="2"><span class="ct-767297">prob.solve(</span><span class="ct-657843">solver</span><span class="ct-857441">=</span><span class="ct-767297">cvxpy.</span><span class="ct-533739">ECOS</span><span class="ct-767297">, </span><span class="ct-657843">verbose</span><span class="ct-857441">=</span><span class="ct-533739">False</span><span class="ct-767297">)</span></span></code></pre><!--]--><p><!--[-->For more detail about using CVXPY, here is the link <a href="https://www.cvxpy.org" rel="nofollow"><!--[-->CVXPY<!--]--></a><!--]--></p><h2 id="in-conclusion"><a href="#in-conclusion"><!--[-->In conclusion<!--]--></a></h2><p><!--[-->In my opinion, I think MPC is suitable for the control system, since it can provide the significant control input that was predicted over the finite future of time. This can ensure the safety of the system and also can provide a quick look or reaction to the control action of the system too. Next post, I will explain about Nonlinear Model Predictive Control by using Casadi framework for mathematical optimization.<!--]--></p><style>.ct-806137{color:#B392F0;}
.ct-767297{color:#E1E4E8;}
.ct-244866{color:#9ECBFF;}
.ct-857441{color:#F97583;}
.ct-533739{color:#79B8FF;}
.ct-657843{color:#FFAB70;}</style></div></div><div class="-sm:flex -sm:flex-col -sm:scale-90 -md:flex -md:flex-col -md:scale-90 p-5"><footer class="mx-20 rounded-2xl ring-2 ring-black font-thin text-black py-4"><div class="container mx-auto text-center"><p>© 2023 DIN SOKHENG. All rights reserved.</p></div></footer></div></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/topics/linear-mpc/_payload.json">[{"state":1,"_errors":3,"serverRendered":6,"path":7,"prerenderedAt":8},["Reactive",2],{},["Reactive",4],{"content-/topics/linear-mpc":5},null,true,"/topics/linear-mpc",1693412006918]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{locales:[],defaultLocale:"",integrity:1693411993093,experimental:{stripQueryParameters:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{default:"github-dark"},preload:["c","java","cpp","javascript","python","latex","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script><script type="module" src="/_nuxt/entry.f3860a52.js" crossorigin></script></body>
</html>