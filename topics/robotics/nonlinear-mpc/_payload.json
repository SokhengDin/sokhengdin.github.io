[{"data":1,"prerenderedAt":4089},["Reactive",2],{"content-/topics/robotics/nonlinear-mpc":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"author":10,"slug":11,"tag":11,"img":12,"body":13,"_type":4084,"_id":4085,"_source":4086,"_file":4087,"_extension":4088},"/topics/robotics/nonlinear-mpc","robotics",false,"","Nonlinear Model Predictive Control","Introduction to Nonlinear Model Predictive Control","Din Sokheng","nonlinear-mpc","/topics/robotics/nmpc/predict_horizon.png",{"type":14,"children":15,"toc":4073},"root",[16,25,31,57,68,74,88,93,98,103,108,113,156,161,165,170,218,224,237,241,246,251,256,261,265,269,274,1518,1524,1529,1533,1537,1542,1546,1552,1557,1561,1577,1581,1585,1589,1595,1608,1640,1645,2178,2183,2361,2370,2626,2631,3645,3650,4001,4007,4012,4026,4032,4038,4043,4049,4068],{"type":17,"tag":18,"props":19,"children":21},"element","h2",{"id":20},"what-is-model-predictive-control",[22],{"type":23,"value":24},"text","What is Model Predictive Control ?",{"type":17,"tag":26,"props":27,"children":28},"p",{},[29],{"type":23,"value":30},"Model Predictive Control (MPC) is the optimal control method that use optimization algorithms to solve the cost function the occurs from the desired input and obtain back the optimal input control over the finite and infinite horizons. Recently, MPC is hyping up among the control system researcher, since it is fast, efficiency and robustness for any high complex system.",{"type":17,"tag":32,"props":33,"children":40},"div",{"className":34},[35,36,37,38,39],"grid","grid-cols-2","space-x-10","justify-center","items-center",[41,43,51,52],{"type":23,"value":42},"\n  ",{"type":17,"tag":44,"props":45,"children":50},"img",{"className":46,"src":12,"width":48,"height":49},[47],"mx-auto",600,300,[],{"type":23,"value":42},{"type":17,"tag":44,"props":53,"children":56},{"className":54,"src":55,"width":48,"height":49},[47],"/topics/robotics/nmpc/set_points.png",[],{"type":17,"tag":58,"props":59,"children":65},"figcaption",{"className":60},[61,62,63,64],"text-center","text-sm","text-neutral-600","dark:text-neutral-400",[66],{"type":23,"value":67},"\n  A car with finite horizons prediction and set point prediction over finite horizons.\n",{"type":17,"tag":18,"props":69,"children":71},{"id":70},"nonlinear-model-predictive-control",[72],{"type":23,"value":73},"Nonlinear Model Predictive Control ?",{"type":17,"tag":26,"props":75,"children":76},{},[77,79,83,85],{"type":23,"value":78},"Nonlinear Model Predictive Control has the same basic core of its control algorithms. The different is about the mathematical solving over the system. ",{"type":17,"tag":80,"props":81,"children":82},"br",{},[],{"type":23,"value":84},"\nIn the real-life application, most of the system certainly nonlinear and it's more complex than linear model. Linear systems are mostly time-invariant, meaning that the response of the system input is time-independent. Nonlinear systems are time-varying meaning that the response of the system to any input is time-dependent.",{"type":17,"tag":80,"props":86,"children":87},{},[],{"type":17,"tag":26,"props":89,"children":90},{},[91],{"type":23,"value":92},"The system model can be represent as state-space model",{"type":17,"tag":26,"props":94,"children":95},{},[96],{"type":23,"value":97},"$$ \\dot{X} = f(X,U) $$",{"type":17,"tag":26,"props":99,"children":100},{},[101],{"type":23,"value":102},"Nonlinear Model Predictive Control also works by solving the quardratic cost subject to the nonlinear function over a future finite horizons. The quadractic cost can be define as",{"type":17,"tag":104,"props":105,"children":107},"math-render-b",{"latex-express":106,"styles":61},"J(x,u) = \\displaystyle\\sum_{k=0}^{N-1}(X_{k, ref}-X_{k})^{T}Q(X_{k, ref}-X_{k})+(U_{k,ref}-U_{k})^{T}R(U_{k,ref}-U_{k}) + \\phi(X_{N})",[],{"type":17,"tag":26,"props":109,"children":110},{},[111],{"type":23,"value":112},"Notation",{"type":17,"tag":114,"props":115,"children":116},"ul",{},[117,129,138,147],{"type":17,"tag":118,"props":119,"children":120},"li",{},[121,127],{"type":17,"tag":122,"props":123,"children":126},"math-render",{"latex-express":124,"styles":125},"X","inline-flex",[],{"type":23,"value":128}," is the state of the system. This shall be obtained from the optimiztion problem.",{"type":17,"tag":118,"props":130,"children":131},{},[132,136],{"type":17,"tag":122,"props":133,"children":135},{"latex-express":134,"styles":125},"X_{ref}",[],{"type":23,"value":137}," is the reference state of the system or desired input state.",{"type":17,"tag":118,"props":139,"children":140},{},[141,145],{"type":17,"tag":122,"props":142,"children":144},{"latex-express":143,"styles":125},"U",[],{"type":23,"value":146}," is the input control of the system. This is a solution obtained from the optimization problem.",{"type":17,"tag":118,"props":148,"children":149},{},[150,154],{"type":17,"tag":122,"props":151,"children":153},{"latex-express":152,"styles":125},"U_{ref}",[],{"type":23,"value":155}," is the reference control of the system or desired input control.",{"type":17,"tag":26,"props":157,"children":158},{},[159],{"type":23,"value":160},"Rewrite the optimization of NMPC problem.",{"type":17,"tag":104,"props":162,"children":164},{"latex-express":163,"styles":61},"\n      \\begin{align*}\n            \\min_{u_{0}, u_{1}, ..., u_{N-1} } \\quad \\sum_{k=0}^{N-1}(X_{k, ref}-X_{k})^{T}&Q(X_{k, ref}-X_{k})+(U_{k,ref}-U_{k})^{T}R(U_{k,ref}-U_{k}) + \\phi(X_{N})\\\\\n            \\text{subject to} \\quad & x_{k+1} = f(x_k, u_k) \\quad \\text{(System dynamics)} \\\\\n            & g(x_k, x_k) \\leq 0 \\quad \\text{(State constraints)} \\\\\n            & h(x_k, x_k) \\leq 0 \\quad \\text{(Input constraints)} \\\\\n            & p(x_k) \\leq 0 \\quad \\text{(Path constraints)} \\\\\n            & x_0=x(0)  \\quad \\text{(Initial condition)}\n      \\end{align*}\n            ",[],{"type":17,"tag":26,"props":166,"children":167},{},[168],{"type":23,"value":169},"Which,",{"type":17,"tag":114,"props":171,"children":172},{},[173,182,191,200,208],{"type":17,"tag":118,"props":174,"children":175},{},[176,180],{"type":17,"tag":122,"props":177,"children":179},{"latex-express":178,"styles":125},"f",[],{"type":23,"value":181}," is the system dynamics model.",{"type":17,"tag":118,"props":183,"children":184},{},[185,189],{"type":17,"tag":122,"props":186,"children":188},{"latex-express":187,"styles":125},"g",[],{"type":23,"value":190}," is the state constraints of the system.",{"type":17,"tag":118,"props":192,"children":193},{},[194,198],{"type":17,"tag":122,"props":195,"children":197},{"latex-express":196,"styles":125},"h",[],{"type":23,"value":199}," is the input constraints of the system.",{"type":17,"tag":118,"props":201,"children":202},{},[203,206],{"type":17,"tag":122,"props":204,"children":205},{"latex-express":26,"styles":125},[],{"type":23,"value":207}," is the path constraint, it help to ensure the safety following path of our system.",{"type":17,"tag":118,"props":209,"children":210},{},[211,216],{"type":17,"tag":122,"props":212,"children":215},{"latex-express":213,"styles":125,"dist-cond":214},"\\phi(X_{N})","false",[],{"type":23,"value":217}," is the terminal cost of the system.",{"type":17,"tag":18,"props":219,"children":221},{"id":220},"discretize-the-system-model-with-runge-kutta-4th-order",[222],{"type":23,"value":223},"Discretize the system model with Runge-Kutta 4th order",{"type":17,"tag":26,"props":225,"children":226},{},[227,229,235],{"type":23,"value":228},"I will choose a simple system mode robot ",{"type":17,"tag":230,"props":231,"children":232},"strong",{},[233],{"type":23,"value":234}," DifferentialDrive ",{"type":23,"value":236},".\nThe forward kinematic equation",{"type":17,"tag":104,"props":238,"children":240},{"latex-express":239,"styles":61},"\n\\begin{bmatrix} v_{x} \\\\ v_{y} \\\\ v_{\\theta} \\end{bmatrix} = \\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{(\\theta)} \\\\ \\omega \\end{bmatrix}\n ",[],{"type":17,"tag":26,"props":242,"children":243},{},[244],{"type":23,"value":245},"State constraints are the restriction imposed on the state variable of the system. It helps our optimizer not to obtain the solution that is outside the boundary region and also ensure the system to always perform the minimal action control in any critical condition.",{"type":17,"tag":26,"props":247,"children":248},{},[249],{"type":23,"value":250},"We, then can do the approximation",{"type":17,"tag":104,"props":252,"children":255},{"latex-express":253,"styles":61,"dist-cond":254},"\n    \\begin{align*}\n        k_{1} &= f(x^{*}, u^{*}) \\\\\n        k_{2} &= f(x^{*}+k_{1}\\frac{dt}{2}, u^{*}) \\\\ \n        k_{3} &= f(x^{*}+k_{2}\\frac{dt}{2}, u^{*}) \\\\\n        k_{4} &= f(x^{*}+k_{3}dt, u^{*}) \\\\ \n        \\Rightarrow{x_{k+1} } &= x_{k} + (k_{1}+2k_{2}+2k_{3}+k_{4})\\frac{dt}{6}\n    \\end{align*}\n","true",[],{"type":17,"tag":26,"props":257,"children":258},{},[259],{"type":23,"value":260},"Let's evaluate it with our model.",{"type":17,"tag":104,"props":262,"children":264},{"latex-express":263,"styles":61},"\n      \\begin{align*}\n        k_{1} &= \\begin{bmatrix} v^{*}\\cos{(\\theta)} \\\\ v^{*}\\sin{(\\theta)} \\\\ \\omega^{*}  \\end{bmatrix} \\\\\n        k_{2} &= \\begin{bmatrix} v^{*}\\cos{(\\theta + \\frac{dt}{2} \\times k_{1})} \\\\ v^{*}\\sin{(\\theta+ \\frac{dt}{2}\\times k_{1})} \\\\ \\omega^{*} \\end{bmatrix} \\\\\n        k_{3} &= \\begin{bmatrix} v^{*}\\cos{(\\theta + \\frac{dt}{2} \\times k_{2})} \\\\ v^{*}\\sin{(\\theta+ \\frac{dt}{2}\\times k_{2})} \\\\ \\omega^{*} \\end{bmatrix} \\\\\n        k_{4} &= \\begin{bmatrix} v^{*}\\cos{(\\theta + dt \\times k_{3})} \\\\ v^{*}\\sin{(\\theta+ dt\\times k_{3})} \\\\ \\omega^{*}  \\end{bmatrix} \\\\\n    \\end{align*}\n      ",[],{"type":17,"tag":104,"props":266,"children":268},{"latex-express":267,"styles":61},"\n      \\Rightarrow{x_{k+1} } = x_{k} + \\left( \\begin{bmatrix} v^{*}\\cos{(\\theta)} \\\\ v^{*}\\sin{(\\theta)} \\\\ \\omega^{*}  \\end{bmatrix} + 2 \\times \\begin{bmatrix} v^{*}\\cos{(\\theta + \\frac{dt}{2} \\times k_{1})} \\\\ v^{*}\\sin{(\\theta+ \\frac{dt}{2}\\times k_{1})} \\\\ \\omega^{*} \\end{bmatrix} + 2 \\times \\begin{bmatrix} v^{*}\\cos{(\\theta + \\frac{dt}{2} \\times k_{2})} \\\\ v^{*}\\sin{(\\theta+ \\frac{dt}{2}\\times k_{2})} \\\\ \\omega^{*} \\end{bmatrix} + \\begin{bmatrix} v^{*}\\cos{(\\theta + dt \\times k_{3})} \\\\ v^{*}\\sin{(\\theta+ dt\\times k_{3})} \\\\ \\omega^{*}  \\end{bmatrix}   \\right) \\frac{dt}{6}\n",[],{"type":17,"tag":26,"props":270,"children":271},{},[272],{"type":23,"value":273},"How to implement it in Python ???",{"type":17,"tag":275,"props":276,"children":281},"code",{"className":277,"code":279,"language":280,"meta":7},[278],"language-python","import numpy as np\n\n## Define sampling time dt 100Hz\ndt = 0.01\n## Define the num steps for function approximation \nnum_steps = 100\n## Define initial states\nx = 0.0\ny = 0.0\nyaw = 0.0\n## Define input control\nv = 1.5 #m/s\nomega = 1.57 #rad/s\n## Define state represent model\n### define lambda function take variable x\nf = lambda x, u :  np.array([\n      [u[0]*np.cos(x[2])],\n      [u[0]*np.sin(x[2])],\n      [u[1]]\n])\n\nfor _ in range(num_steps):\n    k1 = f([x, y, yaw], [v, omega])\n    k2 = f([x + (dt / 2) * k1[0], y + (dt / 2) * k1[1], yaw + (dt / 2) * k1[2]], [v, omega])\n    k3 = f([x + (dt / 2) * k2[0], y + (dt / 2) * k2[1], yaw + (dt / 2) * k2[2]], [v, omega])\n    k4 = f([x + dt * k3[0], y + dt * k3[1], yaw + dt * k3[2]], [v, omega])\n\n    # Update state of the robot\n    x += (k1[0] + 2 * k2[0] + 2 * k3[0] + k4[0]) * dt / 6\n    y += (k1[1] + 2 * k2[1] + 2 * k3[1] + k4[1]) * dt / 6\n    yaw += (k1[2] + 2 * k2[2] + 2 * k3[2] + k4[2]) * dt / 6\n","python",[282],{"type":17,"tag":283,"props":284,"children":285},"pre",{},[286],{"type":17,"tag":275,"props":287,"children":288},{"__ignoreMap":7},[289,317,326,336,361,370,392,401,423,444,465,474,505,536,545,554,581,620,653,671,680,688,721,739,885,1023,1114,1122,1136,1267,1392],{"type":17,"tag":290,"props":291,"children":294},"span",{"class":292,"line":293},"line",1,[295,301,307,312],{"type":17,"tag":290,"props":296,"children":298},{"class":297},"ct-857441",[299],{"type":23,"value":300},"import",{"type":17,"tag":290,"props":302,"children":304},{"class":303},"ct-767297",[305],{"type":23,"value":306}," numpy ",{"type":17,"tag":290,"props":308,"children":309},{"class":297},[310],{"type":23,"value":311},"as",{"type":17,"tag":290,"props":313,"children":314},{"class":303},[315],{"type":23,"value":316}," np\n",{"type":17,"tag":290,"props":318,"children":320},{"class":292,"line":319},2,[321],{"type":17,"tag":290,"props":322,"children":323},{},[324],{"type":23,"value":325},"\n",{"type":17,"tag":290,"props":327,"children":329},{"class":292,"line":328},3,[330],{"type":17,"tag":290,"props":331,"children":333},{"class":332},"ct-326375",[334],{"type":23,"value":335},"## Define sampling time dt 100Hz\n",{"type":17,"tag":290,"props":337,"children":339},{"class":292,"line":338},4,[340,345,350,355],{"type":17,"tag":290,"props":341,"children":342},{"class":303},[343],{"type":23,"value":344},"dt ",{"type":17,"tag":290,"props":346,"children":347},{"class":297},[348],{"type":23,"value":349},"=",{"type":17,"tag":290,"props":351,"children":352},{"class":303},[353],{"type":23,"value":354}," ",{"type":17,"tag":290,"props":356,"children":358},{"class":357},"ct-533739",[359],{"type":23,"value":360},"0.01\n",{"type":17,"tag":290,"props":362,"children":364},{"class":292,"line":363},5,[365],{"type":17,"tag":290,"props":366,"children":367},{"class":332},[368],{"type":23,"value":369},"## Define the num steps for function approximation \n",{"type":17,"tag":290,"props":371,"children":373},{"class":292,"line":372},6,[374,379,383,387],{"type":17,"tag":290,"props":375,"children":376},{"class":303},[377],{"type":23,"value":378},"num_steps ",{"type":17,"tag":290,"props":380,"children":381},{"class":297},[382],{"type":23,"value":349},{"type":17,"tag":290,"props":384,"children":385},{"class":303},[386],{"type":23,"value":354},{"type":17,"tag":290,"props":388,"children":389},{"class":357},[390],{"type":23,"value":391},"100\n",{"type":17,"tag":290,"props":393,"children":395},{"class":292,"line":394},7,[396],{"type":17,"tag":290,"props":397,"children":398},{"class":332},[399],{"type":23,"value":400},"## Define initial states\n",{"type":17,"tag":290,"props":402,"children":404},{"class":292,"line":403},8,[405,410,414,418],{"type":17,"tag":290,"props":406,"children":407},{"class":303},[408],{"type":23,"value":409},"x ",{"type":17,"tag":290,"props":411,"children":412},{"class":297},[413],{"type":23,"value":349},{"type":17,"tag":290,"props":415,"children":416},{"class":303},[417],{"type":23,"value":354},{"type":17,"tag":290,"props":419,"children":420},{"class":357},[421],{"type":23,"value":422},"0.0\n",{"type":17,"tag":290,"props":424,"children":426},{"class":292,"line":425},9,[427,432,436,440],{"type":17,"tag":290,"props":428,"children":429},{"class":303},[430],{"type":23,"value":431},"y ",{"type":17,"tag":290,"props":433,"children":434},{"class":297},[435],{"type":23,"value":349},{"type":17,"tag":290,"props":437,"children":438},{"class":303},[439],{"type":23,"value":354},{"type":17,"tag":290,"props":441,"children":442},{"class":357},[443],{"type":23,"value":422},{"type":17,"tag":290,"props":445,"children":447},{"class":292,"line":446},10,[448,453,457,461],{"type":17,"tag":290,"props":449,"children":450},{"class":303},[451],{"type":23,"value":452},"yaw ",{"type":17,"tag":290,"props":454,"children":455},{"class":297},[456],{"type":23,"value":349},{"type":17,"tag":290,"props":458,"children":459},{"class":303},[460],{"type":23,"value":354},{"type":17,"tag":290,"props":462,"children":463},{"class":357},[464],{"type":23,"value":422},{"type":17,"tag":290,"props":466,"children":468},{"class":292,"line":467},11,[469],{"type":17,"tag":290,"props":470,"children":471},{"class":332},[472],{"type":23,"value":473},"## Define input control\n",{"type":17,"tag":290,"props":475,"children":477},{"class":292,"line":476},12,[478,483,487,491,496,500],{"type":17,"tag":290,"props":479,"children":480},{"class":303},[481],{"type":23,"value":482},"v ",{"type":17,"tag":290,"props":484,"children":485},{"class":297},[486],{"type":23,"value":349},{"type":17,"tag":290,"props":488,"children":489},{"class":303},[490],{"type":23,"value":354},{"type":17,"tag":290,"props":492,"children":493},{"class":357},[494],{"type":23,"value":495},"1.5",{"type":17,"tag":290,"props":497,"children":498},{"class":303},[499],{"type":23,"value":354},{"type":17,"tag":290,"props":501,"children":502},{"class":332},[503],{"type":23,"value":504},"#m/s\n",{"type":17,"tag":290,"props":506,"children":508},{"class":292,"line":507},13,[509,514,518,522,527,531],{"type":17,"tag":290,"props":510,"children":511},{"class":303},[512],{"type":23,"value":513},"omega ",{"type":17,"tag":290,"props":515,"children":516},{"class":297},[517],{"type":23,"value":349},{"type":17,"tag":290,"props":519,"children":520},{"class":303},[521],{"type":23,"value":354},{"type":17,"tag":290,"props":523,"children":524},{"class":357},[525],{"type":23,"value":526},"1.57",{"type":17,"tag":290,"props":528,"children":529},{"class":303},[530],{"type":23,"value":354},{"type":17,"tag":290,"props":532,"children":533},{"class":332},[534],{"type":23,"value":535},"#rad/s\n",{"type":17,"tag":290,"props":537,"children":539},{"class":292,"line":538},14,[540],{"type":17,"tag":290,"props":541,"children":542},{"class":332},[543],{"type":23,"value":544},"## Define state represent model\n",{"type":17,"tag":290,"props":546,"children":548},{"class":292,"line":547},15,[549],{"type":17,"tag":290,"props":550,"children":551},{"class":332},[552],{"type":23,"value":553},"### define lambda function take variable x\n",{"type":17,"tag":290,"props":555,"children":557},{"class":292,"line":556},16,[558,563,567,571,576],{"type":17,"tag":290,"props":559,"children":560},{"class":303},[561],{"type":23,"value":562},"f ",{"type":17,"tag":290,"props":564,"children":565},{"class":297},[566],{"type":23,"value":349},{"type":17,"tag":290,"props":568,"children":569},{"class":303},[570],{"type":23,"value":354},{"type":17,"tag":290,"props":572,"children":573},{"class":297},[574],{"type":23,"value":575},"lambda",{"type":17,"tag":290,"props":577,"children":578},{"class":303},[579],{"type":23,"value":580}," x, u :  np.array([\n",{"type":17,"tag":290,"props":582,"children":584},{"class":292,"line":583},17,[585,590,595,600,605,610,615],{"type":17,"tag":290,"props":586,"children":587},{"class":303},[588],{"type":23,"value":589},"      [u[",{"type":17,"tag":290,"props":591,"children":592},{"class":357},[593],{"type":23,"value":594},"0",{"type":17,"tag":290,"props":596,"children":597},{"class":303},[598],{"type":23,"value":599},"]",{"type":17,"tag":290,"props":601,"children":602},{"class":297},[603],{"type":23,"value":604},"*",{"type":17,"tag":290,"props":606,"children":607},{"class":303},[608],{"type":23,"value":609},"np.cos(x[",{"type":17,"tag":290,"props":611,"children":612},{"class":357},[613],{"type":23,"value":614},"2",{"type":17,"tag":290,"props":616,"children":617},{"class":303},[618],{"type":23,"value":619},"])],\n",{"type":17,"tag":290,"props":621,"children":623},{"class":292,"line":622},18,[624,628,632,636,640,645,649],{"type":17,"tag":290,"props":625,"children":626},{"class":303},[627],{"type":23,"value":589},{"type":17,"tag":290,"props":629,"children":630},{"class":357},[631],{"type":23,"value":594},{"type":17,"tag":290,"props":633,"children":634},{"class":303},[635],{"type":23,"value":599},{"type":17,"tag":290,"props":637,"children":638},{"class":297},[639],{"type":23,"value":604},{"type":17,"tag":290,"props":641,"children":642},{"class":303},[643],{"type":23,"value":644},"np.sin(x[",{"type":17,"tag":290,"props":646,"children":647},{"class":357},[648],{"type":23,"value":614},{"type":17,"tag":290,"props":650,"children":651},{"class":303},[652],{"type":23,"value":619},{"type":17,"tag":290,"props":654,"children":656},{"class":292,"line":655},19,[657,661,666],{"type":17,"tag":290,"props":658,"children":659},{"class":303},[660],{"type":23,"value":589},{"type":17,"tag":290,"props":662,"children":663},{"class":357},[664],{"type":23,"value":665},"1",{"type":17,"tag":290,"props":667,"children":668},{"class":303},[669],{"type":23,"value":670},"]]\n",{"type":17,"tag":290,"props":672,"children":674},{"class":292,"line":673},20,[675],{"type":17,"tag":290,"props":676,"children":677},{"class":303},[678],{"type":23,"value":679},"])\n",{"type":17,"tag":290,"props":681,"children":683},{"class":292,"line":682},21,[684],{"type":17,"tag":290,"props":685,"children":686},{},[687],{"type":23,"value":325},{"type":17,"tag":290,"props":689,"children":691},{"class":292,"line":690},22,[692,697,702,707,711,716],{"type":17,"tag":290,"props":693,"children":694},{"class":297},[695],{"type":23,"value":696},"for",{"type":17,"tag":290,"props":698,"children":699},{"class":303},[700],{"type":23,"value":701}," _ ",{"type":17,"tag":290,"props":703,"children":704},{"class":297},[705],{"type":23,"value":706},"in",{"type":17,"tag":290,"props":708,"children":709},{"class":303},[710],{"type":23,"value":354},{"type":17,"tag":290,"props":712,"children":713},{"class":357},[714],{"type":23,"value":715},"range",{"type":17,"tag":290,"props":717,"children":718},{"class":303},[719],{"type":23,"value":720},"(num_steps):\n",{"type":17,"tag":290,"props":722,"children":724},{"class":292,"line":723},23,[725,730,734],{"type":17,"tag":290,"props":726,"children":727},{"class":303},[728],{"type":23,"value":729},"    k1 ",{"type":17,"tag":290,"props":731,"children":732},{"class":297},[733],{"type":23,"value":349},{"type":17,"tag":290,"props":735,"children":736},{"class":303},[737],{"type":23,"value":738}," f([x, y, yaw], [v, omega])\n",{"type":17,"tag":290,"props":740,"children":742},{"class":292,"line":741},24,[743,748,752,757,762,767,772,776,780,785,789,794,798,803,807,811,815,819,823,827,831,835,839,844,848,852,856,860,864,868,872,876,880],{"type":17,"tag":290,"props":744,"children":745},{"class":303},[746],{"type":23,"value":747},"    k2 ",{"type":17,"tag":290,"props":749,"children":750},{"class":297},[751],{"type":23,"value":349},{"type":17,"tag":290,"props":753,"children":754},{"class":303},[755],{"type":23,"value":756}," f([x ",{"type":17,"tag":290,"props":758,"children":759},{"class":297},[760],{"type":23,"value":761},"+",{"type":17,"tag":290,"props":763,"children":764},{"class":303},[765],{"type":23,"value":766}," (dt ",{"type":17,"tag":290,"props":768,"children":769},{"class":297},[770],{"type":23,"value":771},"/",{"type":17,"tag":290,"props":773,"children":774},{"class":303},[775],{"type":23,"value":354},{"type":17,"tag":290,"props":777,"children":778},{"class":357},[779],{"type":23,"value":614},{"type":17,"tag":290,"props":781,"children":782},{"class":303},[783],{"type":23,"value":784},") ",{"type":17,"tag":290,"props":786,"children":787},{"class":297},[788],{"type":23,"value":604},{"type":17,"tag":290,"props":790,"children":791},{"class":303},[792],{"type":23,"value":793}," k1[",{"type":17,"tag":290,"props":795,"children":796},{"class":357},[797],{"type":23,"value":594},{"type":17,"tag":290,"props":799,"children":800},{"class":303},[801],{"type":23,"value":802},"], y ",{"type":17,"tag":290,"props":804,"children":805},{"class":297},[806],{"type":23,"value":761},{"type":17,"tag":290,"props":808,"children":809},{"class":303},[810],{"type":23,"value":766},{"type":17,"tag":290,"props":812,"children":813},{"class":297},[814],{"type":23,"value":771},{"type":17,"tag":290,"props":816,"children":817},{"class":303},[818],{"type":23,"value":354},{"type":17,"tag":290,"props":820,"children":821},{"class":357},[822],{"type":23,"value":614},{"type":17,"tag":290,"props":824,"children":825},{"class":303},[826],{"type":23,"value":784},{"type":17,"tag":290,"props":828,"children":829},{"class":297},[830],{"type":23,"value":604},{"type":17,"tag":290,"props":832,"children":833},{"class":303},[834],{"type":23,"value":793},{"type":17,"tag":290,"props":836,"children":837},{"class":357},[838],{"type":23,"value":665},{"type":17,"tag":290,"props":840,"children":841},{"class":303},[842],{"type":23,"value":843},"], yaw ",{"type":17,"tag":290,"props":845,"children":846},{"class":297},[847],{"type":23,"value":761},{"type":17,"tag":290,"props":849,"children":850},{"class":303},[851],{"type":23,"value":766},{"type":17,"tag":290,"props":853,"children":854},{"class":297},[855],{"type":23,"value":771},{"type":17,"tag":290,"props":857,"children":858},{"class":303},[859],{"type":23,"value":354},{"type":17,"tag":290,"props":861,"children":862},{"class":357},[863],{"type":23,"value":614},{"type":17,"tag":290,"props":865,"children":866},{"class":303},[867],{"type":23,"value":784},{"type":17,"tag":290,"props":869,"children":870},{"class":297},[871],{"type":23,"value":604},{"type":17,"tag":290,"props":873,"children":874},{"class":303},[875],{"type":23,"value":793},{"type":17,"tag":290,"props":877,"children":878},{"class":357},[879],{"type":23,"value":614},{"type":17,"tag":290,"props":881,"children":882},{"class":303},[883],{"type":23,"value":884},"]], [v, omega])\n",{"type":17,"tag":290,"props":886,"children":888},{"class":292,"line":887},25,[889,894,898,902,906,910,914,918,922,926,930,935,939,943,947,951,955,959,963,967,971,975,979,983,987,991,995,999,1003,1007,1011,1015,1019],{"type":17,"tag":290,"props":890,"children":891},{"class":303},[892],{"type":23,"value":893},"    k3 ",{"type":17,"tag":290,"props":895,"children":896},{"class":297},[897],{"type":23,"value":349},{"type":17,"tag":290,"props":899,"children":900},{"class":303},[901],{"type":23,"value":756},{"type":17,"tag":290,"props":903,"children":904},{"class":297},[905],{"type":23,"value":761},{"type":17,"tag":290,"props":907,"children":908},{"class":303},[909],{"type":23,"value":766},{"type":17,"tag":290,"props":911,"children":912},{"class":297},[913],{"type":23,"value":771},{"type":17,"tag":290,"props":915,"children":916},{"class":303},[917],{"type":23,"value":354},{"type":17,"tag":290,"props":919,"children":920},{"class":357},[921],{"type":23,"value":614},{"type":17,"tag":290,"props":923,"children":924},{"class":303},[925],{"type":23,"value":784},{"type":17,"tag":290,"props":927,"children":928},{"class":297},[929],{"type":23,"value":604},{"type":17,"tag":290,"props":931,"children":932},{"class":303},[933],{"type":23,"value":934}," k2[",{"type":17,"tag":290,"props":936,"children":937},{"class":357},[938],{"type":23,"value":594},{"type":17,"tag":290,"props":940,"children":941},{"class":303},[942],{"type":23,"value":802},{"type":17,"tag":290,"props":944,"children":945},{"class":297},[946],{"type":23,"value":761},{"type":17,"tag":290,"props":948,"children":949},{"class":303},[950],{"type":23,"value":766},{"type":17,"tag":290,"props":952,"children":953},{"class":297},[954],{"type":23,"value":771},{"type":17,"tag":290,"props":956,"children":957},{"class":303},[958],{"type":23,"value":354},{"type":17,"tag":290,"props":960,"children":961},{"class":357},[962],{"type":23,"value":614},{"type":17,"tag":290,"props":964,"children":965},{"class":303},[966],{"type":23,"value":784},{"type":17,"tag":290,"props":968,"children":969},{"class":297},[970],{"type":23,"value":604},{"type":17,"tag":290,"props":972,"children":973},{"class":303},[974],{"type":23,"value":934},{"type":17,"tag":290,"props":976,"children":977},{"class":357},[978],{"type":23,"value":665},{"type":17,"tag":290,"props":980,"children":981},{"class":303},[982],{"type":23,"value":843},{"type":17,"tag":290,"props":984,"children":985},{"class":297},[986],{"type":23,"value":761},{"type":17,"tag":290,"props":988,"children":989},{"class":303},[990],{"type":23,"value":766},{"type":17,"tag":290,"props":992,"children":993},{"class":297},[994],{"type":23,"value":771},{"type":17,"tag":290,"props":996,"children":997},{"class":303},[998],{"type":23,"value":354},{"type":17,"tag":290,"props":1000,"children":1001},{"class":357},[1002],{"type":23,"value":614},{"type":17,"tag":290,"props":1004,"children":1005},{"class":303},[1006],{"type":23,"value":784},{"type":17,"tag":290,"props":1008,"children":1009},{"class":297},[1010],{"type":23,"value":604},{"type":17,"tag":290,"props":1012,"children":1013},{"class":303},[1014],{"type":23,"value":934},{"type":17,"tag":290,"props":1016,"children":1017},{"class":357},[1018],{"type":23,"value":614},{"type":17,"tag":290,"props":1020,"children":1021},{"class":303},[1022],{"type":23,"value":884},{"type":17,"tag":290,"props":1024,"children":1026},{"class":292,"line":1025},26,[1027,1032,1036,1040,1044,1049,1053,1058,1062,1066,1070,1074,1078,1082,1086,1090,1094,1098,1102,1106,1110],{"type":17,"tag":290,"props":1028,"children":1029},{"class":303},[1030],{"type":23,"value":1031},"    k4 ",{"type":17,"tag":290,"props":1033,"children":1034},{"class":297},[1035],{"type":23,"value":349},{"type":17,"tag":290,"props":1037,"children":1038},{"class":303},[1039],{"type":23,"value":756},{"type":17,"tag":290,"props":1041,"children":1042},{"class":297},[1043],{"type":23,"value":761},{"type":17,"tag":290,"props":1045,"children":1046},{"class":303},[1047],{"type":23,"value":1048}," dt ",{"type":17,"tag":290,"props":1050,"children":1051},{"class":297},[1052],{"type":23,"value":604},{"type":17,"tag":290,"props":1054,"children":1055},{"class":303},[1056],{"type":23,"value":1057}," k3[",{"type":17,"tag":290,"props":1059,"children":1060},{"class":357},[1061],{"type":23,"value":594},{"type":17,"tag":290,"props":1063,"children":1064},{"class":303},[1065],{"type":23,"value":802},{"type":17,"tag":290,"props":1067,"children":1068},{"class":297},[1069],{"type":23,"value":761},{"type":17,"tag":290,"props":1071,"children":1072},{"class":303},[1073],{"type":23,"value":1048},{"type":17,"tag":290,"props":1075,"children":1076},{"class":297},[1077],{"type":23,"value":604},{"type":17,"tag":290,"props":1079,"children":1080},{"class":303},[1081],{"type":23,"value":1057},{"type":17,"tag":290,"props":1083,"children":1084},{"class":357},[1085],{"type":23,"value":665},{"type":17,"tag":290,"props":1087,"children":1088},{"class":303},[1089],{"type":23,"value":843},{"type":17,"tag":290,"props":1091,"children":1092},{"class":297},[1093],{"type":23,"value":761},{"type":17,"tag":290,"props":1095,"children":1096},{"class":303},[1097],{"type":23,"value":1048},{"type":17,"tag":290,"props":1099,"children":1100},{"class":297},[1101],{"type":23,"value":604},{"type":17,"tag":290,"props":1103,"children":1104},{"class":303},[1105],{"type":23,"value":1057},{"type":17,"tag":290,"props":1107,"children":1108},{"class":357},[1109],{"type":23,"value":614},{"type":17,"tag":290,"props":1111,"children":1112},{"class":303},[1113],{"type":23,"value":884},{"type":17,"tag":290,"props":1115,"children":1117},{"class":292,"line":1116},27,[1118],{"type":17,"tag":290,"props":1119,"children":1120},{},[1121],{"type":23,"value":325},{"type":17,"tag":290,"props":1123,"children":1125},{"class":292,"line":1124},28,[1126,1131],{"type":17,"tag":290,"props":1127,"children":1128},{"class":303},[1129],{"type":23,"value":1130},"    ",{"type":17,"tag":290,"props":1132,"children":1133},{"class":332},[1134],{"type":23,"value":1135},"# Update state of the robot\n",{"type":17,"tag":290,"props":1137,"children":1139},{"class":292,"line":1138},29,[1140,1145,1150,1155,1159,1164,1168,1172,1176,1180,1184,1188,1192,1196,1200,1204,1208,1212,1216,1220,1224,1228,1232,1237,1241,1246,1250,1254,1258,1262],{"type":17,"tag":290,"props":1141,"children":1142},{"class":303},[1143],{"type":23,"value":1144},"    x ",{"type":17,"tag":290,"props":1146,"children":1147},{"class":297},[1148],{"type":23,"value":1149},"+=",{"type":17,"tag":290,"props":1151,"children":1152},{"class":303},[1153],{"type":23,"value":1154}," (k1[",{"type":17,"tag":290,"props":1156,"children":1157},{"class":357},[1158],{"type":23,"value":594},{"type":17,"tag":290,"props":1160,"children":1161},{"class":303},[1162],{"type":23,"value":1163},"] ",{"type":17,"tag":290,"props":1165,"children":1166},{"class":297},[1167],{"type":23,"value":761},{"type":17,"tag":290,"props":1169,"children":1170},{"class":303},[1171],{"type":23,"value":354},{"type":17,"tag":290,"props":1173,"children":1174},{"class":357},[1175],{"type":23,"value":614},{"type":17,"tag":290,"props":1177,"children":1178},{"class":303},[1179],{"type":23,"value":354},{"type":17,"tag":290,"props":1181,"children":1182},{"class":297},[1183],{"type":23,"value":604},{"type":17,"tag":290,"props":1185,"children":1186},{"class":303},[1187],{"type":23,"value":934},{"type":17,"tag":290,"props":1189,"children":1190},{"class":357},[1191],{"type":23,"value":594},{"type":17,"tag":290,"props":1193,"children":1194},{"class":303},[1195],{"type":23,"value":1163},{"type":17,"tag":290,"props":1197,"children":1198},{"class":297},[1199],{"type":23,"value":761},{"type":17,"tag":290,"props":1201,"children":1202},{"class":303},[1203],{"type":23,"value":354},{"type":17,"tag":290,"props":1205,"children":1206},{"class":357},[1207],{"type":23,"value":614},{"type":17,"tag":290,"props":1209,"children":1210},{"class":303},[1211],{"type":23,"value":354},{"type":17,"tag":290,"props":1213,"children":1214},{"class":297},[1215],{"type":23,"value":604},{"type":17,"tag":290,"props":1217,"children":1218},{"class":303},[1219],{"type":23,"value":1057},{"type":17,"tag":290,"props":1221,"children":1222},{"class":357},[1223],{"type":23,"value":594},{"type":17,"tag":290,"props":1225,"children":1226},{"class":303},[1227],{"type":23,"value":1163},{"type":17,"tag":290,"props":1229,"children":1230},{"class":297},[1231],{"type":23,"value":761},{"type":17,"tag":290,"props":1233,"children":1234},{"class":303},[1235],{"type":23,"value":1236}," k4[",{"type":17,"tag":290,"props":1238,"children":1239},{"class":357},[1240],{"type":23,"value":594},{"type":17,"tag":290,"props":1242,"children":1243},{"class":303},[1244],{"type":23,"value":1245},"]) ",{"type":17,"tag":290,"props":1247,"children":1248},{"class":297},[1249],{"type":23,"value":604},{"type":17,"tag":290,"props":1251,"children":1252},{"class":303},[1253],{"type":23,"value":1048},{"type":17,"tag":290,"props":1255,"children":1256},{"class":297},[1257],{"type":23,"value":771},{"type":17,"tag":290,"props":1259,"children":1260},{"class":303},[1261],{"type":23,"value":354},{"type":17,"tag":290,"props":1263,"children":1264},{"class":357},[1265],{"type":23,"value":1266},"6\n",{"type":17,"tag":290,"props":1268,"children":1270},{"class":292,"line":1269},30,[1271,1276,1280,1284,1288,1292,1296,1300,1304,1308,1312,1316,1320,1324,1328,1332,1336,1340,1344,1348,1352,1356,1360,1364,1368,1372,1376,1380,1384,1388],{"type":17,"tag":290,"props":1272,"children":1273},{"class":303},[1274],{"type":23,"value":1275},"    y ",{"type":17,"tag":290,"props":1277,"children":1278},{"class":297},[1279],{"type":23,"value":1149},{"type":17,"tag":290,"props":1281,"children":1282},{"class":303},[1283],{"type":23,"value":1154},{"type":17,"tag":290,"props":1285,"children":1286},{"class":357},[1287],{"type":23,"value":665},{"type":17,"tag":290,"props":1289,"children":1290},{"class":303},[1291],{"type":23,"value":1163},{"type":17,"tag":290,"props":1293,"children":1294},{"class":297},[1295],{"type":23,"value":761},{"type":17,"tag":290,"props":1297,"children":1298},{"class":303},[1299],{"type":23,"value":354},{"type":17,"tag":290,"props":1301,"children":1302},{"class":357},[1303],{"type":23,"value":614},{"type":17,"tag":290,"props":1305,"children":1306},{"class":303},[1307],{"type":23,"value":354},{"type":17,"tag":290,"props":1309,"children":1310},{"class":297},[1311],{"type":23,"value":604},{"type":17,"tag":290,"props":1313,"children":1314},{"class":303},[1315],{"type":23,"value":934},{"type":17,"tag":290,"props":1317,"children":1318},{"class":357},[1319],{"type":23,"value":665},{"type":17,"tag":290,"props":1321,"children":1322},{"class":303},[1323],{"type":23,"value":1163},{"type":17,"tag":290,"props":1325,"children":1326},{"class":297},[1327],{"type":23,"value":761},{"type":17,"tag":290,"props":1329,"children":1330},{"class":303},[1331],{"type":23,"value":354},{"type":17,"tag":290,"props":1333,"children":1334},{"class":357},[1335],{"type":23,"value":614},{"type":17,"tag":290,"props":1337,"children":1338},{"class":303},[1339],{"type":23,"value":354},{"type":17,"tag":290,"props":1341,"children":1342},{"class":297},[1343],{"type":23,"value":604},{"type":17,"tag":290,"props":1345,"children":1346},{"class":303},[1347],{"type":23,"value":1057},{"type":17,"tag":290,"props":1349,"children":1350},{"class":357},[1351],{"type":23,"value":665},{"type":17,"tag":290,"props":1353,"children":1354},{"class":303},[1355],{"type":23,"value":1163},{"type":17,"tag":290,"props":1357,"children":1358},{"class":297},[1359],{"type":23,"value":761},{"type":17,"tag":290,"props":1361,"children":1362},{"class":303},[1363],{"type":23,"value":1236},{"type":17,"tag":290,"props":1365,"children":1366},{"class":357},[1367],{"type":23,"value":665},{"type":17,"tag":290,"props":1369,"children":1370},{"class":303},[1371],{"type":23,"value":1245},{"type":17,"tag":290,"props":1373,"children":1374},{"class":297},[1375],{"type":23,"value":604},{"type":17,"tag":290,"props":1377,"children":1378},{"class":303},[1379],{"type":23,"value":1048},{"type":17,"tag":290,"props":1381,"children":1382},{"class":297},[1383],{"type":23,"value":771},{"type":17,"tag":290,"props":1385,"children":1386},{"class":303},[1387],{"type":23,"value":354},{"type":17,"tag":290,"props":1389,"children":1390},{"class":357},[1391],{"type":23,"value":1266},{"type":17,"tag":290,"props":1393,"children":1395},{"class":292,"line":1394},31,[1396,1401,1405,1409,1413,1417,1421,1425,1429,1433,1437,1441,1445,1449,1453,1457,1461,1465,1469,1473,1477,1481,1485,1489,1493,1497,1501,1505,1509,1513],{"type":17,"tag":290,"props":1397,"children":1398},{"class":303},[1399],{"type":23,"value":1400},"    yaw ",{"type":17,"tag":290,"props":1402,"children":1403},{"class":297},[1404],{"type":23,"value":1149},{"type":17,"tag":290,"props":1406,"children":1407},{"class":303},[1408],{"type":23,"value":1154},{"type":17,"tag":290,"props":1410,"children":1411},{"class":357},[1412],{"type":23,"value":614},{"type":17,"tag":290,"props":1414,"children":1415},{"class":303},[1416],{"type":23,"value":1163},{"type":17,"tag":290,"props":1418,"children":1419},{"class":297},[1420],{"type":23,"value":761},{"type":17,"tag":290,"props":1422,"children":1423},{"class":303},[1424],{"type":23,"value":354},{"type":17,"tag":290,"props":1426,"children":1427},{"class":357},[1428],{"type":23,"value":614},{"type":17,"tag":290,"props":1430,"children":1431},{"class":303},[1432],{"type":23,"value":354},{"type":17,"tag":290,"props":1434,"children":1435},{"class":297},[1436],{"type":23,"value":604},{"type":17,"tag":290,"props":1438,"children":1439},{"class":303},[1440],{"type":23,"value":934},{"type":17,"tag":290,"props":1442,"children":1443},{"class":357},[1444],{"type":23,"value":614},{"type":17,"tag":290,"props":1446,"children":1447},{"class":303},[1448],{"type":23,"value":1163},{"type":17,"tag":290,"props":1450,"children":1451},{"class":297},[1452],{"type":23,"value":761},{"type":17,"tag":290,"props":1454,"children":1455},{"class":303},[1456],{"type":23,"value":354},{"type":17,"tag":290,"props":1458,"children":1459},{"class":357},[1460],{"type":23,"value":614},{"type":17,"tag":290,"props":1462,"children":1463},{"class":303},[1464],{"type":23,"value":354},{"type":17,"tag":290,"props":1466,"children":1467},{"class":297},[1468],{"type":23,"value":604},{"type":17,"tag":290,"props":1470,"children":1471},{"class":303},[1472],{"type":23,"value":1057},{"type":17,"tag":290,"props":1474,"children":1475},{"class":357},[1476],{"type":23,"value":614},{"type":17,"tag":290,"props":1478,"children":1479},{"class":303},[1480],{"type":23,"value":1163},{"type":17,"tag":290,"props":1482,"children":1483},{"class":297},[1484],{"type":23,"value":761},{"type":17,"tag":290,"props":1486,"children":1487},{"class":303},[1488],{"type":23,"value":1236},{"type":17,"tag":290,"props":1490,"children":1491},{"class":357},[1492],{"type":23,"value":614},{"type":17,"tag":290,"props":1494,"children":1495},{"class":303},[1496],{"type":23,"value":1245},{"type":17,"tag":290,"props":1498,"children":1499},{"class":297},[1500],{"type":23,"value":604},{"type":17,"tag":290,"props":1502,"children":1503},{"class":303},[1504],{"type":23,"value":1048},{"type":17,"tag":290,"props":1506,"children":1507},{"class":297},[1508],{"type":23,"value":771},{"type":17,"tag":290,"props":1510,"children":1511},{"class":303},[1512],{"type":23,"value":354},{"type":17,"tag":290,"props":1514,"children":1515},{"class":357},[1516],{"type":23,"value":1517},"6",{"type":17,"tag":18,"props":1519,"children":1521},{"id":1520},"single-shooting-method",[1522],{"type":23,"value":1523},"Single Shooting Method",{"type":17,"tag":26,"props":1525,"children":1526},{},[1527],{"type":23,"value":1528},"Single Shooting Method is a method that we transform the optimal control problem to the nonlinear programming problem with just one decision variable.",{"type":17,"tag":104,"props":1530,"children":1532},{"latex-express":1531,"styles":61},"\n      \\begin{align*}\n            \\text{Problem Decision Variable} \\\\\n            w = \\left [ u_{0}, ..., u_{N-1}\\right]\n        \\end{align*}\n",[],{"type":17,"tag":104,"props":1534,"children":1536},{"latex-express":1535,"styles":61},"\n      \\begin{align*}\n            x_{u} &= F(w,x_{0},t_{k}) \\\\\n            F(w,x_{0},t_{0}) &= x_{0} \\\\\n        \\end{align*}\n",[],{"type":17,"tag":26,"props":1538,"children":1539},{},[1540],{"type":23,"value":1541},"Then solve the NLP",{"type":17,"tag":104,"props":1543,"children":1545},{"latex-express":1544,"styles":61},"\n      \\begin{align*}\n            \\min_{w}\\Phi(F(w,x_{0},t_{k}), w) \\\\ \n            \\text{Subject to} \\hspace{1cm}  g_{1}(F(w,x_{0},t_{k}),w) \\leq{0}\n        \\end{align*}\n",[],{"type":17,"tag":18,"props":1547,"children":1549},{"id":1548},"multiple-shooting-method",[1550],{"type":23,"value":1551},"Multiple Shooting Method",{"type":17,"tag":26,"props":1553,"children":1554},{},[1555],{"type":23,"value":1556},"Multiple Shooting Method is a method that consist of transforming of optimal control problem to the nonlinear programming problem with multiple decision variables.",{"type":17,"tag":104,"props":1558,"children":1560},{"latex-express":1559,"styles":61},"\n      \\begin{align*}\n            \\text{Problem Decision Variable} \\\\\n            w = \\left [ u_{0}, ..., u_{N-1}, x_{0}, ..., x_{N}\\right]\n        \\end{align*}\n",[],{"type":17,"tag":114,"props":1562,"children":1563},{},[1564,1572],{"type":17,"tag":118,"props":1565,"children":1566},{},[1567,1570],{"type":17,"tag":122,"props":1568,"children":1569},{"latex-express":124,"styles":125},[],{"type":23,"value":1571}," becoming decision variable in the opimization problem as well as u",{"type":17,"tag":118,"props":1573,"children":1574},{},[1575],{"type":23,"value":1576},"We apply path constraint at each iteration step",{"type":17,"tag":104,"props":1578,"children":1580},{"latex-express":1579,"styles":61},"\n      \\begin{equation*}\n                x_{k+1}-f(x_{k},u_{k}) = 0\n            \\end{equation*}\n",[],{"type":17,"tag":26,"props":1582,"children":1583},{},[1584],{"type":23,"value":1541},{"type":17,"tag":104,"props":1586,"children":1588},{"latex-express":1587,"styles":61},"\n      \\begin{align*}\n            \\min_{w}  \\Phi(F(w,x_{0},t_{k}),& w) \\\\ \n            \\text{s.t}\\hspace{0.5cm}  g_{1}(F(w,x_{0},t_{k}),w) &\\leq{0} \\\\ \n                               g_{2}(w) = \\begin{bmatrix}\n                                  \\bar{x}_{0}-x_{0} \\\\\n                                  f(x_{0},u_{0})-x_{1} \\\\ \n                                  \\vdots \\\\\n                                  f(x_{N-1}, u_{N-1}-x_{N})\n                              \\end{bmatrix} &= 0\n        \\end{align*}\n",[],{"type":17,"tag":18,"props":1590,"children":1592},{"id":1591},"full-implement-in-python",[1593],{"type":23,"value":1594},"Full Implement in Python",{"type":17,"tag":26,"props":1596,"children":1597},{},[1598,1600,1606],{"type":23,"value":1599},"We will use ",{"type":17,"tag":1601,"props":1602,"children":1603},"code-inline",{},[1604],{"type":23,"value":1605},"Casadi",{"type":23,"value":1607}," as a numerical optimization framework.",{"type":17,"tag":275,"props":1609,"children":1612},{"className":1610,"code":1611,"language":280,"meta":7},[278],"import casadi as ca\n",[1613],{"type":17,"tag":283,"props":1614,"children":1615},{},[1616],{"type":17,"tag":275,"props":1617,"children":1618},{"__ignoreMap":7},[1619],{"type":17,"tag":290,"props":1620,"children":1621},{"class":292,"line":293},[1622,1626,1631,1635],{"type":17,"tag":290,"props":1623,"children":1624},{"class":297},[1625],{"type":23,"value":300},{"type":17,"tag":290,"props":1627,"children":1628},{"class":303},[1629],{"type":23,"value":1630}," casadi ",{"type":17,"tag":290,"props":1632,"children":1633},{"class":297},[1634],{"type":23,"value":311},{"type":17,"tag":290,"props":1636,"children":1637},{"class":303},[1638],{"type":23,"value":1639}," ca",{"type":17,"tag":26,"props":1641,"children":1642},{},[1643],{"type":23,"value":1644},"Define state representation and input control of our nonlinear model.",{"type":17,"tag":275,"props":1646,"children":1649},{"className":1647,"code":1648,"language":280,"meta":7},[278],"# Symbolic Variables\n## States\nx = ca.SX.sym(\"x\")\ny = ca.SX.sym(\"y\")\ntheta = ca.SX.sym(\"theta\")\nstates = ca.vertcat(x, y, theta)\nnum_states = states.numel()\n\n## Control\nu1 = ca.SX.sym(\"u1\")\nu2 = ca.SX.sym(\"u2\")\ncontrols = ca.vertcat(u1, u2)\nnum_controls = controls.numel()\n\n# Define Nonlinear model\n## Rotation Matrix\nrot_mat = ca.vertcat(\n    ca.horzcat(ca.cos(theta), ca.sin(theta), 0),\n    ca.horzcat(-ca.sin(theta), ca.cos(theta), 0),\n    ca.horzcat(0, 0, 1)\n)\n\nvx = u1 * ca.cos(theta)\nvy = u1 * ca.sin(theta)\nvyaw = u2\n\nrhs = ca.vertcat(vx, vy, vyaw)\n## Define mapped nonlinear function f(x,u) -> rhs\nf = ca.Function('f', [states, controls], [rhs])\n",[1650],{"type":17,"tag":283,"props":1651,"children":1652},{},[1653],{"type":17,"tag":275,"props":1654,"children":1655},{"__ignoreMap":7},[1656,1664,1672,1709,1741,1774,1791,1808,1815,1823,1856,1889,1906,1923,1930,1938,1946,1963,1980,2006,2038,2045,2052,2078,2103,2120,2127,2144,2152],{"type":17,"tag":290,"props":1657,"children":1658},{"class":292,"line":293},[1659],{"type":17,"tag":290,"props":1660,"children":1661},{"class":332},[1662],{"type":23,"value":1663},"# Symbolic Variables\n",{"type":17,"tag":290,"props":1665,"children":1666},{"class":292,"line":319},[1667],{"type":17,"tag":290,"props":1668,"children":1669},{"class":332},[1670],{"type":23,"value":1671},"## States\n",{"type":17,"tag":290,"props":1673,"children":1674},{"class":292,"line":328},[1675,1679,1683,1688,1693,1698,1704],{"type":17,"tag":290,"props":1676,"children":1677},{"class":303},[1678],{"type":23,"value":409},{"type":17,"tag":290,"props":1680,"children":1681},{"class":297},[1682],{"type":23,"value":349},{"type":17,"tag":290,"props":1684,"children":1685},{"class":303},[1686],{"type":23,"value":1687}," ca.",{"type":17,"tag":290,"props":1689,"children":1690},{"class":357},[1691],{"type":23,"value":1692},"SX",{"type":17,"tag":290,"props":1694,"children":1695},{"class":303},[1696],{"type":23,"value":1697},".sym(",{"type":17,"tag":290,"props":1699,"children":1701},{"class":1700},"ct-244866",[1702],{"type":23,"value":1703},"\"x\"",{"type":17,"tag":290,"props":1705,"children":1706},{"class":303},[1707],{"type":23,"value":1708},")\n",{"type":17,"tag":290,"props":1710,"children":1711},{"class":292,"line":338},[1712,1716,1720,1724,1728,1732,1737],{"type":17,"tag":290,"props":1713,"children":1714},{"class":303},[1715],{"type":23,"value":431},{"type":17,"tag":290,"props":1717,"children":1718},{"class":297},[1719],{"type":23,"value":349},{"type":17,"tag":290,"props":1721,"children":1722},{"class":303},[1723],{"type":23,"value":1687},{"type":17,"tag":290,"props":1725,"children":1726},{"class":357},[1727],{"type":23,"value":1692},{"type":17,"tag":290,"props":1729,"children":1730},{"class":303},[1731],{"type":23,"value":1697},{"type":17,"tag":290,"props":1733,"children":1734},{"class":1700},[1735],{"type":23,"value":1736},"\"y\"",{"type":17,"tag":290,"props":1738,"children":1739},{"class":303},[1740],{"type":23,"value":1708},{"type":17,"tag":290,"props":1742,"children":1743},{"class":292,"line":363},[1744,1749,1753,1757,1761,1765,1770],{"type":17,"tag":290,"props":1745,"children":1746},{"class":303},[1747],{"type":23,"value":1748},"theta ",{"type":17,"tag":290,"props":1750,"children":1751},{"class":297},[1752],{"type":23,"value":349},{"type":17,"tag":290,"props":1754,"children":1755},{"class":303},[1756],{"type":23,"value":1687},{"type":17,"tag":290,"props":1758,"children":1759},{"class":357},[1760],{"type":23,"value":1692},{"type":17,"tag":290,"props":1762,"children":1763},{"class":303},[1764],{"type":23,"value":1697},{"type":17,"tag":290,"props":1766,"children":1767},{"class":1700},[1768],{"type":23,"value":1769},"\"theta\"",{"type":17,"tag":290,"props":1771,"children":1772},{"class":303},[1773],{"type":23,"value":1708},{"type":17,"tag":290,"props":1775,"children":1776},{"class":292,"line":372},[1777,1782,1786],{"type":17,"tag":290,"props":1778,"children":1779},{"class":303},[1780],{"type":23,"value":1781},"states ",{"type":17,"tag":290,"props":1783,"children":1784},{"class":297},[1785],{"type":23,"value":349},{"type":17,"tag":290,"props":1787,"children":1788},{"class":303},[1789],{"type":23,"value":1790}," ca.vertcat(x, y, theta)\n",{"type":17,"tag":290,"props":1792,"children":1793},{"class":292,"line":394},[1794,1799,1803],{"type":17,"tag":290,"props":1795,"children":1796},{"class":303},[1797],{"type":23,"value":1798},"num_states ",{"type":17,"tag":290,"props":1800,"children":1801},{"class":297},[1802],{"type":23,"value":349},{"type":17,"tag":290,"props":1804,"children":1805},{"class":303},[1806],{"type":23,"value":1807}," states.numel()\n",{"type":17,"tag":290,"props":1809,"children":1810},{"class":292,"line":403},[1811],{"type":17,"tag":290,"props":1812,"children":1813},{},[1814],{"type":23,"value":325},{"type":17,"tag":290,"props":1816,"children":1817},{"class":292,"line":425},[1818],{"type":17,"tag":290,"props":1819,"children":1820},{"class":332},[1821],{"type":23,"value":1822},"## Control\n",{"type":17,"tag":290,"props":1824,"children":1825},{"class":292,"line":446},[1826,1831,1835,1839,1843,1847,1852],{"type":17,"tag":290,"props":1827,"children":1828},{"class":303},[1829],{"type":23,"value":1830},"u1 ",{"type":17,"tag":290,"props":1832,"children":1833},{"class":297},[1834],{"type":23,"value":349},{"type":17,"tag":290,"props":1836,"children":1837},{"class":303},[1838],{"type":23,"value":1687},{"type":17,"tag":290,"props":1840,"children":1841},{"class":357},[1842],{"type":23,"value":1692},{"type":17,"tag":290,"props":1844,"children":1845},{"class":303},[1846],{"type":23,"value":1697},{"type":17,"tag":290,"props":1848,"children":1849},{"class":1700},[1850],{"type":23,"value":1851},"\"u1\"",{"type":17,"tag":290,"props":1853,"children":1854},{"class":303},[1855],{"type":23,"value":1708},{"type":17,"tag":290,"props":1857,"children":1858},{"class":292,"line":467},[1859,1864,1868,1872,1876,1880,1885],{"type":17,"tag":290,"props":1860,"children":1861},{"class":303},[1862],{"type":23,"value":1863},"u2 ",{"type":17,"tag":290,"props":1865,"children":1866},{"class":297},[1867],{"type":23,"value":349},{"type":17,"tag":290,"props":1869,"children":1870},{"class":303},[1871],{"type":23,"value":1687},{"type":17,"tag":290,"props":1873,"children":1874},{"class":357},[1875],{"type":23,"value":1692},{"type":17,"tag":290,"props":1877,"children":1878},{"class":303},[1879],{"type":23,"value":1697},{"type":17,"tag":290,"props":1881,"children":1882},{"class":1700},[1883],{"type":23,"value":1884},"\"u2\"",{"type":17,"tag":290,"props":1886,"children":1887},{"class":303},[1888],{"type":23,"value":1708},{"type":17,"tag":290,"props":1890,"children":1891},{"class":292,"line":476},[1892,1897,1901],{"type":17,"tag":290,"props":1893,"children":1894},{"class":303},[1895],{"type":23,"value":1896},"controls ",{"type":17,"tag":290,"props":1898,"children":1899},{"class":297},[1900],{"type":23,"value":349},{"type":17,"tag":290,"props":1902,"children":1903},{"class":303},[1904],{"type":23,"value":1905}," ca.vertcat(u1, u2)\n",{"type":17,"tag":290,"props":1907,"children":1908},{"class":292,"line":507},[1909,1914,1918],{"type":17,"tag":290,"props":1910,"children":1911},{"class":303},[1912],{"type":23,"value":1913},"num_controls ",{"type":17,"tag":290,"props":1915,"children":1916},{"class":297},[1917],{"type":23,"value":349},{"type":17,"tag":290,"props":1919,"children":1920},{"class":303},[1921],{"type":23,"value":1922}," controls.numel()\n",{"type":17,"tag":290,"props":1924,"children":1925},{"class":292,"line":538},[1926],{"type":17,"tag":290,"props":1927,"children":1928},{},[1929],{"type":23,"value":325},{"type":17,"tag":290,"props":1931,"children":1932},{"class":292,"line":547},[1933],{"type":17,"tag":290,"props":1934,"children":1935},{"class":332},[1936],{"type":23,"value":1937},"# Define Nonlinear model\n",{"type":17,"tag":290,"props":1939,"children":1940},{"class":292,"line":556},[1941],{"type":17,"tag":290,"props":1942,"children":1943},{"class":332},[1944],{"type":23,"value":1945},"## Rotation Matrix\n",{"type":17,"tag":290,"props":1947,"children":1948},{"class":292,"line":583},[1949,1954,1958],{"type":17,"tag":290,"props":1950,"children":1951},{"class":303},[1952],{"type":23,"value":1953},"rot_mat ",{"type":17,"tag":290,"props":1955,"children":1956},{"class":297},[1957],{"type":23,"value":349},{"type":17,"tag":290,"props":1959,"children":1960},{"class":303},[1961],{"type":23,"value":1962}," ca.vertcat(\n",{"type":17,"tag":290,"props":1964,"children":1965},{"class":292,"line":622},[1966,1971,1975],{"type":17,"tag":290,"props":1967,"children":1968},{"class":303},[1969],{"type":23,"value":1970},"    ca.horzcat(ca.cos(theta), ca.sin(theta), ",{"type":17,"tag":290,"props":1972,"children":1973},{"class":357},[1974],{"type":23,"value":594},{"type":17,"tag":290,"props":1976,"children":1977},{"class":303},[1978],{"type":23,"value":1979},"),\n",{"type":17,"tag":290,"props":1981,"children":1982},{"class":292,"line":655},[1983,1988,1993,1998,2002],{"type":17,"tag":290,"props":1984,"children":1985},{"class":303},[1986],{"type":23,"value":1987},"    ca.horzcat(",{"type":17,"tag":290,"props":1989,"children":1990},{"class":297},[1991],{"type":23,"value":1992},"-",{"type":17,"tag":290,"props":1994,"children":1995},{"class":303},[1996],{"type":23,"value":1997},"ca.sin(theta), ca.cos(theta), ",{"type":17,"tag":290,"props":1999,"children":2000},{"class":357},[2001],{"type":23,"value":594},{"type":17,"tag":290,"props":2003,"children":2004},{"class":303},[2005],{"type":23,"value":1979},{"type":17,"tag":290,"props":2007,"children":2008},{"class":292,"line":673},[2009,2013,2017,2022,2026,2030,2034],{"type":17,"tag":290,"props":2010,"children":2011},{"class":303},[2012],{"type":23,"value":1987},{"type":17,"tag":290,"props":2014,"children":2015},{"class":357},[2016],{"type":23,"value":594},{"type":17,"tag":290,"props":2018,"children":2019},{"class":303},[2020],{"type":23,"value":2021},", ",{"type":17,"tag":290,"props":2023,"children":2024},{"class":357},[2025],{"type":23,"value":594},{"type":17,"tag":290,"props":2027,"children":2028},{"class":303},[2029],{"type":23,"value":2021},{"type":17,"tag":290,"props":2031,"children":2032},{"class":357},[2033],{"type":23,"value":665},{"type":17,"tag":290,"props":2035,"children":2036},{"class":303},[2037],{"type":23,"value":1708},{"type":17,"tag":290,"props":2039,"children":2040},{"class":292,"line":682},[2041],{"type":17,"tag":290,"props":2042,"children":2043},{"class":303},[2044],{"type":23,"value":1708},{"type":17,"tag":290,"props":2046,"children":2047},{"class":292,"line":690},[2048],{"type":17,"tag":290,"props":2049,"children":2050},{},[2051],{"type":23,"value":325},{"type":17,"tag":290,"props":2053,"children":2054},{"class":292,"line":723},[2055,2060,2064,2069,2073],{"type":17,"tag":290,"props":2056,"children":2057},{"class":303},[2058],{"type":23,"value":2059},"vx ",{"type":17,"tag":290,"props":2061,"children":2062},{"class":297},[2063],{"type":23,"value":349},{"type":17,"tag":290,"props":2065,"children":2066},{"class":303},[2067],{"type":23,"value":2068}," u1 ",{"type":17,"tag":290,"props":2070,"children":2071},{"class":297},[2072],{"type":23,"value":604},{"type":17,"tag":290,"props":2074,"children":2075},{"class":303},[2076],{"type":23,"value":2077}," ca.cos(theta)\n",{"type":17,"tag":290,"props":2079,"children":2080},{"class":292,"line":741},[2081,2086,2090,2094,2098],{"type":17,"tag":290,"props":2082,"children":2083},{"class":303},[2084],{"type":23,"value":2085},"vy ",{"type":17,"tag":290,"props":2087,"children":2088},{"class":297},[2089],{"type":23,"value":349},{"type":17,"tag":290,"props":2091,"children":2092},{"class":303},[2093],{"type":23,"value":2068},{"type":17,"tag":290,"props":2095,"children":2096},{"class":297},[2097],{"type":23,"value":604},{"type":17,"tag":290,"props":2099,"children":2100},{"class":303},[2101],{"type":23,"value":2102}," ca.sin(theta)\n",{"type":17,"tag":290,"props":2104,"children":2105},{"class":292,"line":887},[2106,2111,2115],{"type":17,"tag":290,"props":2107,"children":2108},{"class":303},[2109],{"type":23,"value":2110},"vyaw ",{"type":17,"tag":290,"props":2112,"children":2113},{"class":297},[2114],{"type":23,"value":349},{"type":17,"tag":290,"props":2116,"children":2117},{"class":303},[2118],{"type":23,"value":2119}," u2\n",{"type":17,"tag":290,"props":2121,"children":2122},{"class":292,"line":1025},[2123],{"type":17,"tag":290,"props":2124,"children":2125},{},[2126],{"type":23,"value":325},{"type":17,"tag":290,"props":2128,"children":2129},{"class":292,"line":1116},[2130,2135,2139],{"type":17,"tag":290,"props":2131,"children":2132},{"class":303},[2133],{"type":23,"value":2134},"rhs ",{"type":17,"tag":290,"props":2136,"children":2137},{"class":297},[2138],{"type":23,"value":349},{"type":17,"tag":290,"props":2140,"children":2141},{"class":303},[2142],{"type":23,"value":2143}," ca.vertcat(vx, vy, vyaw)\n",{"type":17,"tag":290,"props":2145,"children":2146},{"class":292,"line":1124},[2147],{"type":17,"tag":290,"props":2148,"children":2149},{"class":332},[2150],{"type":23,"value":2151},"## Define mapped nonlinear function f(x,u) -> rhs\n",{"type":17,"tag":290,"props":2153,"children":2154},{"class":292,"line":1138},[2155,2159,2163,2168,2173],{"type":17,"tag":290,"props":2156,"children":2157},{"class":303},[2158],{"type":23,"value":562},{"type":17,"tag":290,"props":2160,"children":2161},{"class":297},[2162],{"type":23,"value":349},{"type":17,"tag":290,"props":2164,"children":2165},{"class":303},[2166],{"type":23,"value":2167}," ca.Function(",{"type":17,"tag":290,"props":2169,"children":2170},{"class":1700},[2171],{"type":23,"value":2172},"'f'",{"type":17,"tag":290,"props":2174,"children":2175},{"class":303},[2176],{"type":23,"value":2177},", [states, controls], [rhs])",{"type":17,"tag":26,"props":2179,"children":2180},{},[2181],{"type":23,"value":2182},"Declare symbolic matrix",{"type":17,"tag":275,"props":2184,"children":2187},{"className":2185,"code":2186,"language":280,"meta":7},[278],"X = ca.SX.sym('X', num_states, prediction_horizons + 1)\nX_ref = ca.SX.sym('X_ref', num_states, prediction_horizons + 1)\nU = ca.SX.sym('U', num_controls, prediction_horizons)\nU_ref = ca.SX.sym('U_ref', num_controls, prediction_horizons)\n",[2188],{"type":17,"tag":283,"props":2189,"children":2190},{},[2191],{"type":17,"tag":275,"props":2192,"children":2193},{"__ignoreMap":7},[2194,2244,2293,2327],{"type":17,"tag":290,"props":2195,"children":2196},{"class":292,"line":293},[2197,2202,2206,2210,2214,2218,2223,2228,2232,2236,2240],{"type":17,"tag":290,"props":2198,"children":2199},{"class":303},[2200],{"type":23,"value":2201},"X ",{"type":17,"tag":290,"props":2203,"children":2204},{"class":297},[2205],{"type":23,"value":349},{"type":17,"tag":290,"props":2207,"children":2208},{"class":303},[2209],{"type":23,"value":1687},{"type":17,"tag":290,"props":2211,"children":2212},{"class":357},[2213],{"type":23,"value":1692},{"type":17,"tag":290,"props":2215,"children":2216},{"class":303},[2217],{"type":23,"value":1697},{"type":17,"tag":290,"props":2219,"children":2220},{"class":1700},[2221],{"type":23,"value":2222},"'X'",{"type":17,"tag":290,"props":2224,"children":2225},{"class":303},[2226],{"type":23,"value":2227},", num_states, prediction_horizons ",{"type":17,"tag":290,"props":2229,"children":2230},{"class":297},[2231],{"type":23,"value":761},{"type":17,"tag":290,"props":2233,"children":2234},{"class":303},[2235],{"type":23,"value":354},{"type":17,"tag":290,"props":2237,"children":2238},{"class":357},[2239],{"type":23,"value":665},{"type":17,"tag":290,"props":2241,"children":2242},{"class":303},[2243],{"type":23,"value":1708},{"type":17,"tag":290,"props":2245,"children":2246},{"class":292,"line":319},[2247,2252,2256,2260,2264,2268,2273,2277,2281,2285,2289],{"type":17,"tag":290,"props":2248,"children":2249},{"class":303},[2250],{"type":23,"value":2251},"X_ref ",{"type":17,"tag":290,"props":2253,"children":2254},{"class":297},[2255],{"type":23,"value":349},{"type":17,"tag":290,"props":2257,"children":2258},{"class":303},[2259],{"type":23,"value":1687},{"type":17,"tag":290,"props":2261,"children":2262},{"class":357},[2263],{"type":23,"value":1692},{"type":17,"tag":290,"props":2265,"children":2266},{"class":303},[2267],{"type":23,"value":1697},{"type":17,"tag":290,"props":2269,"children":2270},{"class":1700},[2271],{"type":23,"value":2272},"'X_ref'",{"type":17,"tag":290,"props":2274,"children":2275},{"class":303},[2276],{"type":23,"value":2227},{"type":17,"tag":290,"props":2278,"children":2279},{"class":297},[2280],{"type":23,"value":761},{"type":17,"tag":290,"props":2282,"children":2283},{"class":303},[2284],{"type":23,"value":354},{"type":17,"tag":290,"props":2286,"children":2287},{"class":357},[2288],{"type":23,"value":665},{"type":17,"tag":290,"props":2290,"children":2291},{"class":303},[2292],{"type":23,"value":1708},{"type":17,"tag":290,"props":2294,"children":2295},{"class":292,"line":328},[2296,2301,2305,2309,2313,2317,2322],{"type":17,"tag":290,"props":2297,"children":2298},{"class":303},[2299],{"type":23,"value":2300},"U ",{"type":17,"tag":290,"props":2302,"children":2303},{"class":297},[2304],{"type":23,"value":349},{"type":17,"tag":290,"props":2306,"children":2307},{"class":303},[2308],{"type":23,"value":1687},{"type":17,"tag":290,"props":2310,"children":2311},{"class":357},[2312],{"type":23,"value":1692},{"type":17,"tag":290,"props":2314,"children":2315},{"class":303},[2316],{"type":23,"value":1697},{"type":17,"tag":290,"props":2318,"children":2319},{"class":1700},[2320],{"type":23,"value":2321},"'U'",{"type":17,"tag":290,"props":2323,"children":2324},{"class":303},[2325],{"type":23,"value":2326},", num_controls, prediction_horizons)\n",{"type":17,"tag":290,"props":2328,"children":2329},{"class":292,"line":338},[2330,2335,2339,2343,2347,2351,2356],{"type":17,"tag":290,"props":2331,"children":2332},{"class":303},[2333],{"type":23,"value":2334},"U_ref ",{"type":17,"tag":290,"props":2336,"children":2337},{"class":297},[2338],{"type":23,"value":349},{"type":17,"tag":290,"props":2340,"children":2341},{"class":303},[2342],{"type":23,"value":1687},{"type":17,"tag":290,"props":2344,"children":2345},{"class":357},[2346],{"type":23,"value":1692},{"type":17,"tag":290,"props":2348,"children":2349},{"class":303},[2350],{"type":23,"value":1697},{"type":17,"tag":290,"props":2352,"children":2353},{"class":1700},[2354],{"type":23,"value":2355},"'U_ref'",{"type":17,"tag":290,"props":2357,"children":2358},{"class":303},[2359],{"type":23,"value":2360},", num_controls, prediction_horizons)",{"type":17,"tag":26,"props":2362,"children":2363},{},[2364,2366],{"type":23,"value":2365},"Define nonlinear programming and options for ",{"type":17,"tag":1601,"props":2367,"children":2368},{},[2369],{"type":23,"value":1605},{"type":17,"tag":275,"props":2371,"children":2374},{"className":2372,"code":2373,"language":280,"meta":7},[278],"nlp_prob = {\n    'f': cost_fn,\n    'x': opt_var,\n    'p': opt_dec,\n    'g': g\n}\n\nnlp_opts = {\n    'ipopt.max_iter': 5000,\n    'ipopt.print_level': 0,\n    'ipopt.acceptable_tol': 1e-6,\n    'ipopt.acceptable_obj_change_tol': 1e-4,\n    'print_time': 0\n}\n",[2375],{"type":17,"tag":283,"props":2376,"children":2377},{},[2378],{"type":17,"tag":275,"props":2379,"children":2380},{"__ignoreMap":7},[2381,2398,2414,2431,2448,2465,2473,2480,2496,2523,2547,2572,2597,2618],{"type":17,"tag":290,"props":2382,"children":2383},{"class":292,"line":293},[2384,2389,2393],{"type":17,"tag":290,"props":2385,"children":2386},{"class":303},[2387],{"type":23,"value":2388},"nlp_prob ",{"type":17,"tag":290,"props":2390,"children":2391},{"class":297},[2392],{"type":23,"value":349},{"type":17,"tag":290,"props":2394,"children":2395},{"class":303},[2396],{"type":23,"value":2397}," {\n",{"type":17,"tag":290,"props":2399,"children":2400},{"class":292,"line":319},[2401,2405,2409],{"type":17,"tag":290,"props":2402,"children":2403},{"class":303},[2404],{"type":23,"value":1130},{"type":17,"tag":290,"props":2406,"children":2407},{"class":1700},[2408],{"type":23,"value":2172},{"type":17,"tag":290,"props":2410,"children":2411},{"class":303},[2412],{"type":23,"value":2413},": cost_fn,\n",{"type":17,"tag":290,"props":2415,"children":2416},{"class":292,"line":328},[2417,2421,2426],{"type":17,"tag":290,"props":2418,"children":2419},{"class":303},[2420],{"type":23,"value":1130},{"type":17,"tag":290,"props":2422,"children":2423},{"class":1700},[2424],{"type":23,"value":2425},"'x'",{"type":17,"tag":290,"props":2427,"children":2428},{"class":303},[2429],{"type":23,"value":2430},": opt_var,\n",{"type":17,"tag":290,"props":2432,"children":2433},{"class":292,"line":338},[2434,2438,2443],{"type":17,"tag":290,"props":2435,"children":2436},{"class":303},[2437],{"type":23,"value":1130},{"type":17,"tag":290,"props":2439,"children":2440},{"class":1700},[2441],{"type":23,"value":2442},"'p'",{"type":17,"tag":290,"props":2444,"children":2445},{"class":303},[2446],{"type":23,"value":2447},": opt_dec,\n",{"type":17,"tag":290,"props":2449,"children":2450},{"class":292,"line":363},[2451,2455,2460],{"type":17,"tag":290,"props":2452,"children":2453},{"class":303},[2454],{"type":23,"value":1130},{"type":17,"tag":290,"props":2456,"children":2457},{"class":1700},[2458],{"type":23,"value":2459},"'g'",{"type":17,"tag":290,"props":2461,"children":2462},{"class":303},[2463],{"type":23,"value":2464},": g\n",{"type":17,"tag":290,"props":2466,"children":2467},{"class":292,"line":372},[2468],{"type":17,"tag":290,"props":2469,"children":2470},{"class":303},[2471],{"type":23,"value":2472},"}\n",{"type":17,"tag":290,"props":2474,"children":2475},{"class":292,"line":394},[2476],{"type":17,"tag":290,"props":2477,"children":2478},{},[2479],{"type":23,"value":325},{"type":17,"tag":290,"props":2481,"children":2482},{"class":292,"line":403},[2483,2488,2492],{"type":17,"tag":290,"props":2484,"children":2485},{"class":303},[2486],{"type":23,"value":2487},"nlp_opts ",{"type":17,"tag":290,"props":2489,"children":2490},{"class":297},[2491],{"type":23,"value":349},{"type":17,"tag":290,"props":2493,"children":2494},{"class":303},[2495],{"type":23,"value":2397},{"type":17,"tag":290,"props":2497,"children":2498},{"class":292,"line":425},[2499,2503,2508,2513,2518],{"type":17,"tag":290,"props":2500,"children":2501},{"class":303},[2502],{"type":23,"value":1130},{"type":17,"tag":290,"props":2504,"children":2505},{"class":1700},[2506],{"type":23,"value":2507},"'ipopt.max_iter'",{"type":17,"tag":290,"props":2509,"children":2510},{"class":303},[2511],{"type":23,"value":2512},": ",{"type":17,"tag":290,"props":2514,"children":2515},{"class":357},[2516],{"type":23,"value":2517},"5000",{"type":17,"tag":290,"props":2519,"children":2520},{"class":303},[2521],{"type":23,"value":2522},",\n",{"type":17,"tag":290,"props":2524,"children":2525},{"class":292,"line":446},[2526,2530,2535,2539,2543],{"type":17,"tag":290,"props":2527,"children":2528},{"class":303},[2529],{"type":23,"value":1130},{"type":17,"tag":290,"props":2531,"children":2532},{"class":1700},[2533],{"type":23,"value":2534},"'ipopt.print_level'",{"type":17,"tag":290,"props":2536,"children":2537},{"class":303},[2538],{"type":23,"value":2512},{"type":17,"tag":290,"props":2540,"children":2541},{"class":357},[2542],{"type":23,"value":594},{"type":17,"tag":290,"props":2544,"children":2545},{"class":303},[2546],{"type":23,"value":2522},{"type":17,"tag":290,"props":2548,"children":2549},{"class":292,"line":467},[2550,2554,2559,2563,2568],{"type":17,"tag":290,"props":2551,"children":2552},{"class":303},[2553],{"type":23,"value":1130},{"type":17,"tag":290,"props":2555,"children":2556},{"class":1700},[2557],{"type":23,"value":2558},"'ipopt.acceptable_tol'",{"type":17,"tag":290,"props":2560,"children":2561},{"class":303},[2562],{"type":23,"value":2512},{"type":17,"tag":290,"props":2564,"children":2565},{"class":357},[2566],{"type":23,"value":2567},"1e-6",{"type":17,"tag":290,"props":2569,"children":2570},{"class":303},[2571],{"type":23,"value":2522},{"type":17,"tag":290,"props":2573,"children":2574},{"class":292,"line":476},[2575,2579,2584,2588,2593],{"type":17,"tag":290,"props":2576,"children":2577},{"class":303},[2578],{"type":23,"value":1130},{"type":17,"tag":290,"props":2580,"children":2581},{"class":1700},[2582],{"type":23,"value":2583},"'ipopt.acceptable_obj_change_tol'",{"type":17,"tag":290,"props":2585,"children":2586},{"class":303},[2587],{"type":23,"value":2512},{"type":17,"tag":290,"props":2589,"children":2590},{"class":357},[2591],{"type":23,"value":2592},"1e-4",{"type":17,"tag":290,"props":2594,"children":2595},{"class":303},[2596],{"type":23,"value":2522},{"type":17,"tag":290,"props":2598,"children":2599},{"class":292,"line":507},[2600,2604,2609,2613],{"type":17,"tag":290,"props":2601,"children":2602},{"class":303},[2603],{"type":23,"value":1130},{"type":17,"tag":290,"props":2605,"children":2606},{"class":1700},[2607],{"type":23,"value":2608},"'print_time'",{"type":17,"tag":290,"props":2610,"children":2611},{"class":303},[2612],{"type":23,"value":2512},{"type":17,"tag":290,"props":2614,"children":2615},{"class":357},[2616],{"type":23,"value":2617},"0\n",{"type":17,"tag":290,"props":2619,"children":2620},{"class":292,"line":538},[2621],{"type":17,"tag":290,"props":2622,"children":2623},{"class":303},[2624],{"type":23,"value":2625},"}",{"type":17,"tag":26,"props":2627,"children":2628},{},[2629],{"type":23,"value":2630},"Determine boundary and constraint for our optimizer",{"type":17,"tag":275,"props":2632,"children":2635},{"className":2633,"code":2634,"language":280,"meta":7},[278],"lbx = ca.DM.zeros((num_states * (prediction_horizons + 1) + num_controls * prediction_horizons, 1))\nubx = ca.DM.zeros((num_states * (prediction_horizons + 1) + num_controls * prediction_horizons, 1))\n\nlbx[0: num_states * (prediction_horizons + 1): num_states] = x_min\nlbx[1: num_states * (prediction_horizons + 1): num_states] = y_min\nlbx[2: num_states * (prediction_horizons + 1): num_states] = theta_min\n\nubx[0: num_states * (prediction_horizons + 1): num_states] = x_max\nubx[1: num_states * (prediction_horizons + 1): num_states] = y_max\nubx[2: num_states * (prediction_horizons + 1): num_states] = theta_max\n\nlbx[num_states * (prediction_horizons + 1): num_states * (prediction_horizons + 1) + num_controls * prediction_horizons: num_controls] = u_min\nlbx[num_states * (prediction_horizons + 1) + 1: num_states * (prediction_horizons + 1) + num_controls * prediction_horizons: num_controls] = u_min\n\nubx[num_states * (prediction_horizons + 1): num_states * (prediction_horizons + 1) + num_controls * prediction_horizons: num_controls] = u_max\nubx[num_states * (prediction_horizons + 1) + 1: num_states * (prediction_horizons + 1) + num_controls * prediction_horizons: num_controls] = u_max\n\nargs = {\n    'lbg': ca.DM.zeros((num_states * (prediction_horizons + 1), 1)),\n    'ubg': ca.DM.zeros((num_states * (prediction_horizons + 1), 1)),\n    'lbx': lbx,\n    'ubx': ubx\n}\n",[2636],{"type":17,"tag":283,"props":2637,"children":2638},{},[2639],{"type":17,"tag":275,"props":2640,"children":2641},{"__ignoreMap":7},[2642,2720,2792,2799,2850,2898,2946,2953,3002,3050,3098,3105,3188,3283,3290,3371,3466,3473,3489,3548,3604,3621,3638],{"type":17,"tag":290,"props":2643,"children":2644},{"class":292,"line":293},[2645,2650,2654,2658,2663,2668,2672,2677,2681,2685,2689,2693,2697,2702,2706,2711,2715],{"type":17,"tag":290,"props":2646,"children":2647},{"class":303},[2648],{"type":23,"value":2649},"lbx ",{"type":17,"tag":290,"props":2651,"children":2652},{"class":297},[2653],{"type":23,"value":349},{"type":17,"tag":290,"props":2655,"children":2656},{"class":303},[2657],{"type":23,"value":1687},{"type":17,"tag":290,"props":2659,"children":2660},{"class":357},[2661],{"type":23,"value":2662},"DM",{"type":17,"tag":290,"props":2664,"children":2665},{"class":303},[2666],{"type":23,"value":2667},".zeros((num_states ",{"type":17,"tag":290,"props":2669,"children":2670},{"class":297},[2671],{"type":23,"value":604},{"type":17,"tag":290,"props":2673,"children":2674},{"class":303},[2675],{"type":23,"value":2676}," (prediction_horizons ",{"type":17,"tag":290,"props":2678,"children":2679},{"class":297},[2680],{"type":23,"value":761},{"type":17,"tag":290,"props":2682,"children":2683},{"class":303},[2684],{"type":23,"value":354},{"type":17,"tag":290,"props":2686,"children":2687},{"class":357},[2688],{"type":23,"value":665},{"type":17,"tag":290,"props":2690,"children":2691},{"class":303},[2692],{"type":23,"value":784},{"type":17,"tag":290,"props":2694,"children":2695},{"class":297},[2696],{"type":23,"value":761},{"type":17,"tag":290,"props":2698,"children":2699},{"class":303},[2700],{"type":23,"value":2701}," num_controls ",{"type":17,"tag":290,"props":2703,"children":2704},{"class":297},[2705],{"type":23,"value":604},{"type":17,"tag":290,"props":2707,"children":2708},{"class":303},[2709],{"type":23,"value":2710}," prediction_horizons, ",{"type":17,"tag":290,"props":2712,"children":2713},{"class":357},[2714],{"type":23,"value":665},{"type":17,"tag":290,"props":2716,"children":2717},{"class":303},[2718],{"type":23,"value":2719},"))\n",{"type":17,"tag":290,"props":2721,"children":2722},{"class":292,"line":319},[2723,2728,2732,2736,2740,2744,2748,2752,2756,2760,2764,2768,2772,2776,2780,2784,2788],{"type":17,"tag":290,"props":2724,"children":2725},{"class":303},[2726],{"type":23,"value":2727},"ubx ",{"type":17,"tag":290,"props":2729,"children":2730},{"class":297},[2731],{"type":23,"value":349},{"type":17,"tag":290,"props":2733,"children":2734},{"class":303},[2735],{"type":23,"value":1687},{"type":17,"tag":290,"props":2737,"children":2738},{"class":357},[2739],{"type":23,"value":2662},{"type":17,"tag":290,"props":2741,"children":2742},{"class":303},[2743],{"type":23,"value":2667},{"type":17,"tag":290,"props":2745,"children":2746},{"class":297},[2747],{"type":23,"value":604},{"type":17,"tag":290,"props":2749,"children":2750},{"class":303},[2751],{"type":23,"value":2676},{"type":17,"tag":290,"props":2753,"children":2754},{"class":297},[2755],{"type":23,"value":761},{"type":17,"tag":290,"props":2757,"children":2758},{"class":303},[2759],{"type":23,"value":354},{"type":17,"tag":290,"props":2761,"children":2762},{"class":357},[2763],{"type":23,"value":665},{"type":17,"tag":290,"props":2765,"children":2766},{"class":303},[2767],{"type":23,"value":784},{"type":17,"tag":290,"props":2769,"children":2770},{"class":297},[2771],{"type":23,"value":761},{"type":17,"tag":290,"props":2773,"children":2774},{"class":303},[2775],{"type":23,"value":2701},{"type":17,"tag":290,"props":2777,"children":2778},{"class":297},[2779],{"type":23,"value":604},{"type":17,"tag":290,"props":2781,"children":2782},{"class":303},[2783],{"type":23,"value":2710},{"type":17,"tag":290,"props":2785,"children":2786},{"class":357},[2787],{"type":23,"value":665},{"type":17,"tag":290,"props":2789,"children":2790},{"class":303},[2791],{"type":23,"value":2719},{"type":17,"tag":290,"props":2793,"children":2794},{"class":292,"line":328},[2795],{"type":17,"tag":290,"props":2796,"children":2797},{},[2798],{"type":23,"value":325},{"type":17,"tag":290,"props":2800,"children":2801},{"class":292,"line":338},[2802,2807,2811,2816,2820,2824,2828,2832,2836,2841,2845],{"type":17,"tag":290,"props":2803,"children":2804},{"class":303},[2805],{"type":23,"value":2806},"lbx[",{"type":17,"tag":290,"props":2808,"children":2809},{"class":357},[2810],{"type":23,"value":594},{"type":17,"tag":290,"props":2812,"children":2813},{"class":303},[2814],{"type":23,"value":2815},": num_states ",{"type":17,"tag":290,"props":2817,"children":2818},{"class":297},[2819],{"type":23,"value":604},{"type":17,"tag":290,"props":2821,"children":2822},{"class":303},[2823],{"type":23,"value":2676},{"type":17,"tag":290,"props":2825,"children":2826},{"class":297},[2827],{"type":23,"value":761},{"type":17,"tag":290,"props":2829,"children":2830},{"class":303},[2831],{"type":23,"value":354},{"type":17,"tag":290,"props":2833,"children":2834},{"class":357},[2835],{"type":23,"value":665},{"type":17,"tag":290,"props":2837,"children":2838},{"class":303},[2839],{"type":23,"value":2840},"): num_states] ",{"type":17,"tag":290,"props":2842,"children":2843},{"class":297},[2844],{"type":23,"value":349},{"type":17,"tag":290,"props":2846,"children":2847},{"class":303},[2848],{"type":23,"value":2849}," x_min\n",{"type":17,"tag":290,"props":2851,"children":2852},{"class":292,"line":363},[2853,2857,2861,2865,2869,2873,2877,2881,2885,2889,2893],{"type":17,"tag":290,"props":2854,"children":2855},{"class":303},[2856],{"type":23,"value":2806},{"type":17,"tag":290,"props":2858,"children":2859},{"class":357},[2860],{"type":23,"value":665},{"type":17,"tag":290,"props":2862,"children":2863},{"class":303},[2864],{"type":23,"value":2815},{"type":17,"tag":290,"props":2866,"children":2867},{"class":297},[2868],{"type":23,"value":604},{"type":17,"tag":290,"props":2870,"children":2871},{"class":303},[2872],{"type":23,"value":2676},{"type":17,"tag":290,"props":2874,"children":2875},{"class":297},[2876],{"type":23,"value":761},{"type":17,"tag":290,"props":2878,"children":2879},{"class":303},[2880],{"type":23,"value":354},{"type":17,"tag":290,"props":2882,"children":2883},{"class":357},[2884],{"type":23,"value":665},{"type":17,"tag":290,"props":2886,"children":2887},{"class":303},[2888],{"type":23,"value":2840},{"type":17,"tag":290,"props":2890,"children":2891},{"class":297},[2892],{"type":23,"value":349},{"type":17,"tag":290,"props":2894,"children":2895},{"class":303},[2896],{"type":23,"value":2897}," y_min\n",{"type":17,"tag":290,"props":2899,"children":2900},{"class":292,"line":372},[2901,2905,2909,2913,2917,2921,2925,2929,2933,2937,2941],{"type":17,"tag":290,"props":2902,"children":2903},{"class":303},[2904],{"type":23,"value":2806},{"type":17,"tag":290,"props":2906,"children":2907},{"class":357},[2908],{"type":23,"value":614},{"type":17,"tag":290,"props":2910,"children":2911},{"class":303},[2912],{"type":23,"value":2815},{"type":17,"tag":290,"props":2914,"children":2915},{"class":297},[2916],{"type":23,"value":604},{"type":17,"tag":290,"props":2918,"children":2919},{"class":303},[2920],{"type":23,"value":2676},{"type":17,"tag":290,"props":2922,"children":2923},{"class":297},[2924],{"type":23,"value":761},{"type":17,"tag":290,"props":2926,"children":2927},{"class":303},[2928],{"type":23,"value":354},{"type":17,"tag":290,"props":2930,"children":2931},{"class":357},[2932],{"type":23,"value":665},{"type":17,"tag":290,"props":2934,"children":2935},{"class":303},[2936],{"type":23,"value":2840},{"type":17,"tag":290,"props":2938,"children":2939},{"class":297},[2940],{"type":23,"value":349},{"type":17,"tag":290,"props":2942,"children":2943},{"class":303},[2944],{"type":23,"value":2945}," theta_min\n",{"type":17,"tag":290,"props":2947,"children":2948},{"class":292,"line":394},[2949],{"type":17,"tag":290,"props":2950,"children":2951},{},[2952],{"type":23,"value":325},{"type":17,"tag":290,"props":2954,"children":2955},{"class":292,"line":403},[2956,2961,2965,2969,2973,2977,2981,2985,2989,2993,2997],{"type":17,"tag":290,"props":2957,"children":2958},{"class":303},[2959],{"type":23,"value":2960},"ubx[",{"type":17,"tag":290,"props":2962,"children":2963},{"class":357},[2964],{"type":23,"value":594},{"type":17,"tag":290,"props":2966,"children":2967},{"class":303},[2968],{"type":23,"value":2815},{"type":17,"tag":290,"props":2970,"children":2971},{"class":297},[2972],{"type":23,"value":604},{"type":17,"tag":290,"props":2974,"children":2975},{"class":303},[2976],{"type":23,"value":2676},{"type":17,"tag":290,"props":2978,"children":2979},{"class":297},[2980],{"type":23,"value":761},{"type":17,"tag":290,"props":2982,"children":2983},{"class":303},[2984],{"type":23,"value":354},{"type":17,"tag":290,"props":2986,"children":2987},{"class":357},[2988],{"type":23,"value":665},{"type":17,"tag":290,"props":2990,"children":2991},{"class":303},[2992],{"type":23,"value":2840},{"type":17,"tag":290,"props":2994,"children":2995},{"class":297},[2996],{"type":23,"value":349},{"type":17,"tag":290,"props":2998,"children":2999},{"class":303},[3000],{"type":23,"value":3001}," x_max\n",{"type":17,"tag":290,"props":3003,"children":3004},{"class":292,"line":425},[3005,3009,3013,3017,3021,3025,3029,3033,3037,3041,3045],{"type":17,"tag":290,"props":3006,"children":3007},{"class":303},[3008],{"type":23,"value":2960},{"type":17,"tag":290,"props":3010,"children":3011},{"class":357},[3012],{"type":23,"value":665},{"type":17,"tag":290,"props":3014,"children":3015},{"class":303},[3016],{"type":23,"value":2815},{"type":17,"tag":290,"props":3018,"children":3019},{"class":297},[3020],{"type":23,"value":604},{"type":17,"tag":290,"props":3022,"children":3023},{"class":303},[3024],{"type":23,"value":2676},{"type":17,"tag":290,"props":3026,"children":3027},{"class":297},[3028],{"type":23,"value":761},{"type":17,"tag":290,"props":3030,"children":3031},{"class":303},[3032],{"type":23,"value":354},{"type":17,"tag":290,"props":3034,"children":3035},{"class":357},[3036],{"type":23,"value":665},{"type":17,"tag":290,"props":3038,"children":3039},{"class":303},[3040],{"type":23,"value":2840},{"type":17,"tag":290,"props":3042,"children":3043},{"class":297},[3044],{"type":23,"value":349},{"type":17,"tag":290,"props":3046,"children":3047},{"class":303},[3048],{"type":23,"value":3049}," y_max\n",{"type":17,"tag":290,"props":3051,"children":3052},{"class":292,"line":446},[3053,3057,3061,3065,3069,3073,3077,3081,3085,3089,3093],{"type":17,"tag":290,"props":3054,"children":3055},{"class":303},[3056],{"type":23,"value":2960},{"type":17,"tag":290,"props":3058,"children":3059},{"class":357},[3060],{"type":23,"value":614},{"type":17,"tag":290,"props":3062,"children":3063},{"class":303},[3064],{"type":23,"value":2815},{"type":17,"tag":290,"props":3066,"children":3067},{"class":297},[3068],{"type":23,"value":604},{"type":17,"tag":290,"props":3070,"children":3071},{"class":303},[3072],{"type":23,"value":2676},{"type":17,"tag":290,"props":3074,"children":3075},{"class":297},[3076],{"type":23,"value":761},{"type":17,"tag":290,"props":3078,"children":3079},{"class":303},[3080],{"type":23,"value":354},{"type":17,"tag":290,"props":3082,"children":3083},{"class":357},[3084],{"type":23,"value":665},{"type":17,"tag":290,"props":3086,"children":3087},{"class":303},[3088],{"type":23,"value":2840},{"type":17,"tag":290,"props":3090,"children":3091},{"class":297},[3092],{"type":23,"value":349},{"type":17,"tag":290,"props":3094,"children":3095},{"class":303},[3096],{"type":23,"value":3097}," theta_max\n",{"type":17,"tag":290,"props":3099,"children":3100},{"class":292,"line":467},[3101],{"type":17,"tag":290,"props":3102,"children":3103},{},[3104],{"type":23,"value":325},{"type":17,"tag":290,"props":3106,"children":3107},{"class":292,"line":476},[3108,3113,3117,3121,3125,3129,3133,3138,3142,3146,3150,3154,3158,3162,3166,3170,3174,3179,3183],{"type":17,"tag":290,"props":3109,"children":3110},{"class":303},[3111],{"type":23,"value":3112},"lbx[num_states ",{"type":17,"tag":290,"props":3114,"children":3115},{"class":297},[3116],{"type":23,"value":604},{"type":17,"tag":290,"props":3118,"children":3119},{"class":303},[3120],{"type":23,"value":2676},{"type":17,"tag":290,"props":3122,"children":3123},{"class":297},[3124],{"type":23,"value":761},{"type":17,"tag":290,"props":3126,"children":3127},{"class":303},[3128],{"type":23,"value":354},{"type":17,"tag":290,"props":3130,"children":3131},{"class":357},[3132],{"type":23,"value":665},{"type":17,"tag":290,"props":3134,"children":3135},{"class":303},[3136],{"type":23,"value":3137},"): num_states ",{"type":17,"tag":290,"props":3139,"children":3140},{"class":297},[3141],{"type":23,"value":604},{"type":17,"tag":290,"props":3143,"children":3144},{"class":303},[3145],{"type":23,"value":2676},{"type":17,"tag":290,"props":3147,"children":3148},{"class":297},[3149],{"type":23,"value":761},{"type":17,"tag":290,"props":3151,"children":3152},{"class":303},[3153],{"type":23,"value":354},{"type":17,"tag":290,"props":3155,"children":3156},{"class":357},[3157],{"type":23,"value":665},{"type":17,"tag":290,"props":3159,"children":3160},{"class":303},[3161],{"type":23,"value":784},{"type":17,"tag":290,"props":3163,"children":3164},{"class":297},[3165],{"type":23,"value":761},{"type":17,"tag":290,"props":3167,"children":3168},{"class":303},[3169],{"type":23,"value":2701},{"type":17,"tag":290,"props":3171,"children":3172},{"class":297},[3173],{"type":23,"value":604},{"type":17,"tag":290,"props":3175,"children":3176},{"class":303},[3177],{"type":23,"value":3178}," prediction_horizons: num_controls] ",{"type":17,"tag":290,"props":3180,"children":3181},{"class":297},[3182],{"type":23,"value":349},{"type":17,"tag":290,"props":3184,"children":3185},{"class":303},[3186],{"type":23,"value":3187}," u_min\n",{"type":17,"tag":290,"props":3189,"children":3190},{"class":292,"line":507},[3191,3195,3199,3203,3207,3211,3215,3219,3223,3227,3231,3235,3239,3243,3247,3251,3255,3259,3263,3267,3271,3275,3279],{"type":17,"tag":290,"props":3192,"children":3193},{"class":303},[3194],{"type":23,"value":3112},{"type":17,"tag":290,"props":3196,"children":3197},{"class":297},[3198],{"type":23,"value":604},{"type":17,"tag":290,"props":3200,"children":3201},{"class":303},[3202],{"type":23,"value":2676},{"type":17,"tag":290,"props":3204,"children":3205},{"class":297},[3206],{"type":23,"value":761},{"type":17,"tag":290,"props":3208,"children":3209},{"class":303},[3210],{"type":23,"value":354},{"type":17,"tag":290,"props":3212,"children":3213},{"class":357},[3214],{"type":23,"value":665},{"type":17,"tag":290,"props":3216,"children":3217},{"class":303},[3218],{"type":23,"value":784},{"type":17,"tag":290,"props":3220,"children":3221},{"class":297},[3222],{"type":23,"value":761},{"type":17,"tag":290,"props":3224,"children":3225},{"class":303},[3226],{"type":23,"value":354},{"type":17,"tag":290,"props":3228,"children":3229},{"class":357},[3230],{"type":23,"value":665},{"type":17,"tag":290,"props":3232,"children":3233},{"class":303},[3234],{"type":23,"value":2815},{"type":17,"tag":290,"props":3236,"children":3237},{"class":297},[3238],{"type":23,"value":604},{"type":17,"tag":290,"props":3240,"children":3241},{"class":303},[3242],{"type":23,"value":2676},{"type":17,"tag":290,"props":3244,"children":3245},{"class":297},[3246],{"type":23,"value":761},{"type":17,"tag":290,"props":3248,"children":3249},{"class":303},[3250],{"type":23,"value":354},{"type":17,"tag":290,"props":3252,"children":3253},{"class":357},[3254],{"type":23,"value":665},{"type":17,"tag":290,"props":3256,"children":3257},{"class":303},[3258],{"type":23,"value":784},{"type":17,"tag":290,"props":3260,"children":3261},{"class":297},[3262],{"type":23,"value":761},{"type":17,"tag":290,"props":3264,"children":3265},{"class":303},[3266],{"type":23,"value":2701},{"type":17,"tag":290,"props":3268,"children":3269},{"class":297},[3270],{"type":23,"value":604},{"type":17,"tag":290,"props":3272,"children":3273},{"class":303},[3274],{"type":23,"value":3178},{"type":17,"tag":290,"props":3276,"children":3277},{"class":297},[3278],{"type":23,"value":349},{"type":17,"tag":290,"props":3280,"children":3281},{"class":303},[3282],{"type":23,"value":3187},{"type":17,"tag":290,"props":3284,"children":3285},{"class":292,"line":538},[3286],{"type":17,"tag":290,"props":3287,"children":3288},{},[3289],{"type":23,"value":325},{"type":17,"tag":290,"props":3291,"children":3292},{"class":292,"line":547},[3293,3298,3302,3306,3310,3314,3318,3322,3326,3330,3334,3338,3342,3346,3350,3354,3358,3362,3366],{"type":17,"tag":290,"props":3294,"children":3295},{"class":303},[3296],{"type":23,"value":3297},"ubx[num_states ",{"type":17,"tag":290,"props":3299,"children":3300},{"class":297},[3301],{"type":23,"value":604},{"type":17,"tag":290,"props":3303,"children":3304},{"class":303},[3305],{"type":23,"value":2676},{"type":17,"tag":290,"props":3307,"children":3308},{"class":297},[3309],{"type":23,"value":761},{"type":17,"tag":290,"props":3311,"children":3312},{"class":303},[3313],{"type":23,"value":354},{"type":17,"tag":290,"props":3315,"children":3316},{"class":357},[3317],{"type":23,"value":665},{"type":17,"tag":290,"props":3319,"children":3320},{"class":303},[3321],{"type":23,"value":3137},{"type":17,"tag":290,"props":3323,"children":3324},{"class":297},[3325],{"type":23,"value":604},{"type":17,"tag":290,"props":3327,"children":3328},{"class":303},[3329],{"type":23,"value":2676},{"type":17,"tag":290,"props":3331,"children":3332},{"class":297},[3333],{"type":23,"value":761},{"type":17,"tag":290,"props":3335,"children":3336},{"class":303},[3337],{"type":23,"value":354},{"type":17,"tag":290,"props":3339,"children":3340},{"class":357},[3341],{"type":23,"value":665},{"type":17,"tag":290,"props":3343,"children":3344},{"class":303},[3345],{"type":23,"value":784},{"type":17,"tag":290,"props":3347,"children":3348},{"class":297},[3349],{"type":23,"value":761},{"type":17,"tag":290,"props":3351,"children":3352},{"class":303},[3353],{"type":23,"value":2701},{"type":17,"tag":290,"props":3355,"children":3356},{"class":297},[3357],{"type":23,"value":604},{"type":17,"tag":290,"props":3359,"children":3360},{"class":303},[3361],{"type":23,"value":3178},{"type":17,"tag":290,"props":3363,"children":3364},{"class":297},[3365],{"type":23,"value":349},{"type":17,"tag":290,"props":3367,"children":3368},{"class":303},[3369],{"type":23,"value":3370}," u_max\n",{"type":17,"tag":290,"props":3372,"children":3373},{"class":292,"line":556},[3374,3378,3382,3386,3390,3394,3398,3402,3406,3410,3414,3418,3422,3426,3430,3434,3438,3442,3446,3450,3454,3458,3462],{"type":17,"tag":290,"props":3375,"children":3376},{"class":303},[3377],{"type":23,"value":3297},{"type":17,"tag":290,"props":3379,"children":3380},{"class":297},[3381],{"type":23,"value":604},{"type":17,"tag":290,"props":3383,"children":3384},{"class":303},[3385],{"type":23,"value":2676},{"type":17,"tag":290,"props":3387,"children":3388},{"class":297},[3389],{"type":23,"value":761},{"type":17,"tag":290,"props":3391,"children":3392},{"class":303},[3393],{"type":23,"value":354},{"type":17,"tag":290,"props":3395,"children":3396},{"class":357},[3397],{"type":23,"value":665},{"type":17,"tag":290,"props":3399,"children":3400},{"class":303},[3401],{"type":23,"value":784},{"type":17,"tag":290,"props":3403,"children":3404},{"class":297},[3405],{"type":23,"value":761},{"type":17,"tag":290,"props":3407,"children":3408},{"class":303},[3409],{"type":23,"value":354},{"type":17,"tag":290,"props":3411,"children":3412},{"class":357},[3413],{"type":23,"value":665},{"type":17,"tag":290,"props":3415,"children":3416},{"class":303},[3417],{"type":23,"value":2815},{"type":17,"tag":290,"props":3419,"children":3420},{"class":297},[3421],{"type":23,"value":604},{"type":17,"tag":290,"props":3423,"children":3424},{"class":303},[3425],{"type":23,"value":2676},{"type":17,"tag":290,"props":3427,"children":3428},{"class":297},[3429],{"type":23,"value":761},{"type":17,"tag":290,"props":3431,"children":3432},{"class":303},[3433],{"type":23,"value":354},{"type":17,"tag":290,"props":3435,"children":3436},{"class":357},[3437],{"type":23,"value":665},{"type":17,"tag":290,"props":3439,"children":3440},{"class":303},[3441],{"type":23,"value":784},{"type":17,"tag":290,"props":3443,"children":3444},{"class":297},[3445],{"type":23,"value":761},{"type":17,"tag":290,"props":3447,"children":3448},{"class":303},[3449],{"type":23,"value":2701},{"type":17,"tag":290,"props":3451,"children":3452},{"class":297},[3453],{"type":23,"value":604},{"type":17,"tag":290,"props":3455,"children":3456},{"class":303},[3457],{"type":23,"value":3178},{"type":17,"tag":290,"props":3459,"children":3460},{"class":297},[3461],{"type":23,"value":349},{"type":17,"tag":290,"props":3463,"children":3464},{"class":303},[3465],{"type":23,"value":3370},{"type":17,"tag":290,"props":3467,"children":3468},{"class":292,"line":583},[3469],{"type":17,"tag":290,"props":3470,"children":3471},{},[3472],{"type":23,"value":325},{"type":17,"tag":290,"props":3474,"children":3475},{"class":292,"line":622},[3476,3481,3485],{"type":17,"tag":290,"props":3477,"children":3478},{"class":303},[3479],{"type":23,"value":3480},"args ",{"type":17,"tag":290,"props":3482,"children":3483},{"class":297},[3484],{"type":23,"value":349},{"type":17,"tag":290,"props":3486,"children":3487},{"class":303},[3488],{"type":23,"value":2397},{"type":17,"tag":290,"props":3490,"children":3491},{"class":292,"line":655},[3492,3496,3501,3506,3510,3514,3518,3522,3526,3530,3534,3539,3543],{"type":17,"tag":290,"props":3493,"children":3494},{"class":303},[3495],{"type":23,"value":1130},{"type":17,"tag":290,"props":3497,"children":3498},{"class":1700},[3499],{"type":23,"value":3500},"'lbg'",{"type":17,"tag":290,"props":3502,"children":3503},{"class":303},[3504],{"type":23,"value":3505},": ca.",{"type":17,"tag":290,"props":3507,"children":3508},{"class":357},[3509],{"type":23,"value":2662},{"type":17,"tag":290,"props":3511,"children":3512},{"class":303},[3513],{"type":23,"value":2667},{"type":17,"tag":290,"props":3515,"children":3516},{"class":297},[3517],{"type":23,"value":604},{"type":17,"tag":290,"props":3519,"children":3520},{"class":303},[3521],{"type":23,"value":2676},{"type":17,"tag":290,"props":3523,"children":3524},{"class":297},[3525],{"type":23,"value":761},{"type":17,"tag":290,"props":3527,"children":3528},{"class":303},[3529],{"type":23,"value":354},{"type":17,"tag":290,"props":3531,"children":3532},{"class":357},[3533],{"type":23,"value":665},{"type":17,"tag":290,"props":3535,"children":3536},{"class":303},[3537],{"type":23,"value":3538},"), ",{"type":17,"tag":290,"props":3540,"children":3541},{"class":357},[3542],{"type":23,"value":665},{"type":17,"tag":290,"props":3544,"children":3545},{"class":303},[3546],{"type":23,"value":3547},")),\n",{"type":17,"tag":290,"props":3549,"children":3550},{"class":292,"line":673},[3551,3555,3560,3564,3568,3572,3576,3580,3584,3588,3592,3596,3600],{"type":17,"tag":290,"props":3552,"children":3553},{"class":303},[3554],{"type":23,"value":1130},{"type":17,"tag":290,"props":3556,"children":3557},{"class":1700},[3558],{"type":23,"value":3559},"'ubg'",{"type":17,"tag":290,"props":3561,"children":3562},{"class":303},[3563],{"type":23,"value":3505},{"type":17,"tag":290,"props":3565,"children":3566},{"class":357},[3567],{"type":23,"value":2662},{"type":17,"tag":290,"props":3569,"children":3570},{"class":303},[3571],{"type":23,"value":2667},{"type":17,"tag":290,"props":3573,"children":3574},{"class":297},[3575],{"type":23,"value":604},{"type":17,"tag":290,"props":3577,"children":3578},{"class":303},[3579],{"type":23,"value":2676},{"type":17,"tag":290,"props":3581,"children":3582},{"class":297},[3583],{"type":23,"value":761},{"type":17,"tag":290,"props":3585,"children":3586},{"class":303},[3587],{"type":23,"value":354},{"type":17,"tag":290,"props":3589,"children":3590},{"class":357},[3591],{"type":23,"value":665},{"type":17,"tag":290,"props":3593,"children":3594},{"class":303},[3595],{"type":23,"value":3538},{"type":17,"tag":290,"props":3597,"children":3598},{"class":357},[3599],{"type":23,"value":665},{"type":17,"tag":290,"props":3601,"children":3602},{"class":303},[3603],{"type":23,"value":3547},{"type":17,"tag":290,"props":3605,"children":3606},{"class":292,"line":682},[3607,3611,3616],{"type":17,"tag":290,"props":3608,"children":3609},{"class":303},[3610],{"type":23,"value":1130},{"type":17,"tag":290,"props":3612,"children":3613},{"class":1700},[3614],{"type":23,"value":3615},"'lbx'",{"type":17,"tag":290,"props":3617,"children":3618},{"class":303},[3619],{"type":23,"value":3620},": lbx,\n",{"type":17,"tag":290,"props":3622,"children":3623},{"class":292,"line":690},[3624,3628,3633],{"type":17,"tag":290,"props":3625,"children":3626},{"class":303},[3627],{"type":23,"value":1130},{"type":17,"tag":290,"props":3629,"children":3630},{"class":1700},[3631],{"type":23,"value":3632},"'ubx'",{"type":17,"tag":290,"props":3634,"children":3635},{"class":303},[3636],{"type":23,"value":3637},": ubx\n",{"type":17,"tag":290,"props":3639,"children":3640},{"class":292,"line":723},[3641],{"type":17,"tag":290,"props":3642,"children":3643},{"class":303},[3644],{"type":23,"value":2625},{"type":17,"tag":26,"props":3646,"children":3647},{},[3648],{"type":23,"value":3649},"Obtain the solution from the solver at each iteration",{"type":17,"tag":275,"props":3651,"children":3654},{"className":3652,"code":3653,"language":280,"meta":7},[278],"sol = solver(\n            x0=args['x0'],\n            p=args['p'],\n            lbx=args['lbx'],\n            ubx=args['ubx'],\n            lbg=args['lbg'],\n            ubg=args['ubg'],\n        )\n\n        sol_x = ca.reshape(sol['x'][:num_states * (prediction_horizons + 1)], 3, prediction_horizons + 1)\n        sol_u = ca.reshape(sol['x'][num_states * (prediction_horizons + 1):], 2, prediction_horizons)\n",[3655],{"type":17,"tag":283,"props":3656,"children":3657},{},[3658],{"type":17,"tag":275,"props":3659,"children":3660},{"__ignoreMap":7},[3661,3678,3711,3738,3766,3794,3822,3850,3858,3865,3942],{"type":17,"tag":290,"props":3662,"children":3663},{"class":292,"line":293},[3664,3669,3673],{"type":17,"tag":290,"props":3665,"children":3666},{"class":303},[3667],{"type":23,"value":3668},"sol ",{"type":17,"tag":290,"props":3670,"children":3671},{"class":297},[3672],{"type":23,"value":349},{"type":17,"tag":290,"props":3674,"children":3675},{"class":303},[3676],{"type":23,"value":3677}," solver(\n",{"type":17,"tag":290,"props":3679,"children":3680},{"class":292,"line":319},[3681,3686,3692,3696,3701,3706],{"type":17,"tag":290,"props":3682,"children":3683},{"class":303},[3684],{"type":23,"value":3685},"            ",{"type":17,"tag":290,"props":3687,"children":3689},{"class":3688},"ct-657843",[3690],{"type":23,"value":3691},"x0",{"type":17,"tag":290,"props":3693,"children":3694},{"class":297},[3695],{"type":23,"value":349},{"type":17,"tag":290,"props":3697,"children":3698},{"class":303},[3699],{"type":23,"value":3700},"args[",{"type":17,"tag":290,"props":3702,"children":3703},{"class":1700},[3704],{"type":23,"value":3705},"'x0'",{"type":17,"tag":290,"props":3707,"children":3708},{"class":303},[3709],{"type":23,"value":3710},"],\n",{"type":17,"tag":290,"props":3712,"children":3713},{"class":292,"line":328},[3714,3718,3722,3726,3730,3734],{"type":17,"tag":290,"props":3715,"children":3716},{"class":303},[3717],{"type":23,"value":3685},{"type":17,"tag":290,"props":3719,"children":3720},{"class":3688},[3721],{"type":23,"value":26},{"type":17,"tag":290,"props":3723,"children":3724},{"class":297},[3725],{"type":23,"value":349},{"type":17,"tag":290,"props":3727,"children":3728},{"class":303},[3729],{"type":23,"value":3700},{"type":17,"tag":290,"props":3731,"children":3732},{"class":1700},[3733],{"type":23,"value":2442},{"type":17,"tag":290,"props":3735,"children":3736},{"class":303},[3737],{"type":23,"value":3710},{"type":17,"tag":290,"props":3739,"children":3740},{"class":292,"line":338},[3741,3745,3750,3754,3758,3762],{"type":17,"tag":290,"props":3742,"children":3743},{"class":303},[3744],{"type":23,"value":3685},{"type":17,"tag":290,"props":3746,"children":3747},{"class":3688},[3748],{"type":23,"value":3749},"lbx",{"type":17,"tag":290,"props":3751,"children":3752},{"class":297},[3753],{"type":23,"value":349},{"type":17,"tag":290,"props":3755,"children":3756},{"class":303},[3757],{"type":23,"value":3700},{"type":17,"tag":290,"props":3759,"children":3760},{"class":1700},[3761],{"type":23,"value":3615},{"type":17,"tag":290,"props":3763,"children":3764},{"class":303},[3765],{"type":23,"value":3710},{"type":17,"tag":290,"props":3767,"children":3768},{"class":292,"line":363},[3769,3773,3778,3782,3786,3790],{"type":17,"tag":290,"props":3770,"children":3771},{"class":303},[3772],{"type":23,"value":3685},{"type":17,"tag":290,"props":3774,"children":3775},{"class":3688},[3776],{"type":23,"value":3777},"ubx",{"type":17,"tag":290,"props":3779,"children":3780},{"class":297},[3781],{"type":23,"value":349},{"type":17,"tag":290,"props":3783,"children":3784},{"class":303},[3785],{"type":23,"value":3700},{"type":17,"tag":290,"props":3787,"children":3788},{"class":1700},[3789],{"type":23,"value":3632},{"type":17,"tag":290,"props":3791,"children":3792},{"class":303},[3793],{"type":23,"value":3710},{"type":17,"tag":290,"props":3795,"children":3796},{"class":292,"line":372},[3797,3801,3806,3810,3814,3818],{"type":17,"tag":290,"props":3798,"children":3799},{"class":303},[3800],{"type":23,"value":3685},{"type":17,"tag":290,"props":3802,"children":3803},{"class":3688},[3804],{"type":23,"value":3805},"lbg",{"type":17,"tag":290,"props":3807,"children":3808},{"class":297},[3809],{"type":23,"value":349},{"type":17,"tag":290,"props":3811,"children":3812},{"class":303},[3813],{"type":23,"value":3700},{"type":17,"tag":290,"props":3815,"children":3816},{"class":1700},[3817],{"type":23,"value":3500},{"type":17,"tag":290,"props":3819,"children":3820},{"class":303},[3821],{"type":23,"value":3710},{"type":17,"tag":290,"props":3823,"children":3824},{"class":292,"line":394},[3825,3829,3834,3838,3842,3846],{"type":17,"tag":290,"props":3826,"children":3827},{"class":303},[3828],{"type":23,"value":3685},{"type":17,"tag":290,"props":3830,"children":3831},{"class":3688},[3832],{"type":23,"value":3833},"ubg",{"type":17,"tag":290,"props":3835,"children":3836},{"class":297},[3837],{"type":23,"value":349},{"type":17,"tag":290,"props":3839,"children":3840},{"class":303},[3841],{"type":23,"value":3700},{"type":17,"tag":290,"props":3843,"children":3844},{"class":1700},[3845],{"type":23,"value":3559},{"type":17,"tag":290,"props":3847,"children":3848},{"class":303},[3849],{"type":23,"value":3710},{"type":17,"tag":290,"props":3851,"children":3852},{"class":292,"line":403},[3853],{"type":17,"tag":290,"props":3854,"children":3855},{"class":303},[3856],{"type":23,"value":3857},"        )\n",{"type":17,"tag":290,"props":3859,"children":3860},{"class":292,"line":425},[3861],{"type":17,"tag":290,"props":3862,"children":3863},{},[3864],{"type":23,"value":325},{"type":17,"tag":290,"props":3866,"children":3867},{"class":292,"line":446},[3868,3873,3877,3882,3886,3891,3895,3899,3903,3907,3911,3916,3921,3926,3930,3934,3938],{"type":17,"tag":290,"props":3869,"children":3870},{"class":303},[3871],{"type":23,"value":3872},"        sol_x ",{"type":17,"tag":290,"props":3874,"children":3875},{"class":297},[3876],{"type":23,"value":349},{"type":17,"tag":290,"props":3878,"children":3879},{"class":303},[3880],{"type":23,"value":3881}," ca.reshape(sol[",{"type":17,"tag":290,"props":3883,"children":3884},{"class":1700},[3885],{"type":23,"value":2425},{"type":17,"tag":290,"props":3887,"children":3888},{"class":303},[3889],{"type":23,"value":3890},"][:num_states ",{"type":17,"tag":290,"props":3892,"children":3893},{"class":297},[3894],{"type":23,"value":604},{"type":17,"tag":290,"props":3896,"children":3897},{"class":303},[3898],{"type":23,"value":2676},{"type":17,"tag":290,"props":3900,"children":3901},{"class":297},[3902],{"type":23,"value":761},{"type":17,"tag":290,"props":3904,"children":3905},{"class":303},[3906],{"type":23,"value":354},{"type":17,"tag":290,"props":3908,"children":3909},{"class":357},[3910],{"type":23,"value":665},{"type":17,"tag":290,"props":3912,"children":3913},{"class":303},[3914],{"type":23,"value":3915},")], ",{"type":17,"tag":290,"props":3917,"children":3918},{"class":357},[3919],{"type":23,"value":3920},"3",{"type":17,"tag":290,"props":3922,"children":3923},{"class":303},[3924],{"type":23,"value":3925},", prediction_horizons ",{"type":17,"tag":290,"props":3927,"children":3928},{"class":297},[3929],{"type":23,"value":761},{"type":17,"tag":290,"props":3931,"children":3932},{"class":303},[3933],{"type":23,"value":354},{"type":17,"tag":290,"props":3935,"children":3936},{"class":357},[3937],{"type":23,"value":665},{"type":17,"tag":290,"props":3939,"children":3940},{"class":303},[3941],{"type":23,"value":1708},{"type":17,"tag":290,"props":3943,"children":3944},{"class":292,"line":467},[3945,3950,3954,3958,3962,3967,3971,3975,3979,3983,3987,3992,3996],{"type":17,"tag":290,"props":3946,"children":3947},{"class":303},[3948],{"type":23,"value":3949},"        sol_u ",{"type":17,"tag":290,"props":3951,"children":3952},{"class":297},[3953],{"type":23,"value":349},{"type":17,"tag":290,"props":3955,"children":3956},{"class":303},[3957],{"type":23,"value":3881},{"type":17,"tag":290,"props":3959,"children":3960},{"class":1700},[3961],{"type":23,"value":2425},{"type":17,"tag":290,"props":3963,"children":3964},{"class":303},[3965],{"type":23,"value":3966},"][num_states ",{"type":17,"tag":290,"props":3968,"children":3969},{"class":297},[3970],{"type":23,"value":604},{"type":17,"tag":290,"props":3972,"children":3973},{"class":303},[3974],{"type":23,"value":2676},{"type":17,"tag":290,"props":3976,"children":3977},{"class":297},[3978],{"type":23,"value":761},{"type":17,"tag":290,"props":3980,"children":3981},{"class":303},[3982],{"type":23,"value":354},{"type":17,"tag":290,"props":3984,"children":3985},{"class":357},[3986],{"type":23,"value":665},{"type":17,"tag":290,"props":3988,"children":3989},{"class":303},[3990],{"type":23,"value":3991},"):], ",{"type":17,"tag":290,"props":3993,"children":3994},{"class":357},[3995],{"type":23,"value":614},{"type":17,"tag":290,"props":3997,"children":3998},{"class":303},[3999],{"type":23,"value":4000},", prediction_horizons)",{"type":17,"tag":18,"props":4002,"children":4004},{"id":4003},"result",[4005],{"type":23,"value":4006},"Result",{"type":17,"tag":26,"props":4008,"children":4009},{},[4010],{"type":23,"value":4011},"I use MPC to control the differential drive robot to move from it zero position the the desired postion that I want to follow !.\nI generate a circle trajectory and I fit this curve into my beautiful and robustness cost and then volia !!!.",{"type":17,"tag":4013,"props":4014,"children":4019},"figure",{"className":4015},[4016,4017,4018],"mb-4","inline-block","max-w-sm",[4020,4021],{"type":23,"value":42},{"type":17,"tag":44,"props":4022,"children":4025},{"className":4023,"src":4024,"width":48,"height":49},[47],"/topics/robotics/nmpc/diff_mpc.png",[],{"type":17,"tag":58,"props":4027,"children":4029},{"className":4028},[61,62,63,64],[4030],{"type":23,"value":4031},"\n    Plot of differential drive robot follow the circle trajectory !!!.\n",{"type":17,"tag":18,"props":4033,"children":4035},{"id":4034},"in-conclusion",[4036],{"type":23,"value":4037},"In conclusion",{"type":17,"tag":26,"props":4039,"children":4040},{},[4041],{"type":23,"value":4042},"In my opinion, I think MPC is suitable for the control system, since it can provide the significant control input that was predicted over the finite future of time. This can ensure the safety of the system and also can provide a quick look or reaction to the control action of the system too.",{"type":17,"tag":18,"props":4044,"children":4046},{"id":4045},"reference",[4047],{"type":23,"value":4048},"Reference",{"type":17,"tag":4050,"props":4051,"children":4052},"ol",{},[4053,4058,4063],{"type":17,"tag":118,"props":4054,"children":4055},{},[4056],{"type":23,"value":4057},"MPC-and-MHE-implementation-in-MATLAB-using-Casadi: https://github.com/MMehrez/MPC-and-MHE-implementation-in-MATLAB-using-Casadi",{"type":17,"tag":118,"props":4059,"children":4060},{},[4061],{"type":23,"value":4062},"CasAdi: https://web.casadi.org",{"type":17,"tag":118,"props":4064,"children":4065},{},[4066],{"type":23,"value":4067},"PathTracking: https://github.com/SokhengDin/PathTracking",{"type":17,"tag":4069,"children":4070},"style",[4071],{"type":23,"value":4072},".ct-857441{color:#F97583;}\n.ct-767297{color:#E1E4E8;}\n.ct-326375{color:#6A737D;}\n.ct-533739{color:#79B8FF;}\n.ct-244866{color:#9ECBFF;}\n.ct-657843{color:#FFAB70;}",{"title":7,"searchDepth":319,"depth":319,"links":4074},[4075,4076,4077,4078,4079,4080,4081,4082,4083],{"id":20,"depth":319,"text":24},{"id":70,"depth":319,"text":73},{"id":220,"depth":319,"text":223},{"id":1520,"depth":319,"text":1523},{"id":1548,"depth":319,"text":1551},{"id":1591,"depth":319,"text":1594},{"id":4003,"depth":319,"text":4006},{"id":4034,"depth":319,"text":4037},{"id":4045,"depth":319,"text":4048},"markdown","content:topics:robotics:nonlinear-mpc.md","content","topics/robotics/nonlinear-mpc.md","md",1695809073010]