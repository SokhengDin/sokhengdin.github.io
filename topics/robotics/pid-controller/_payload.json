[{"data":1,"prerenderedAt":2003},["Reactive",2],{"content-/topics/robotics/pid-controller":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"author":10,"slug":11,"tag":11,"img":12,"body":13,"_type":1998,"_id":1999,"_source":2000,"_file":2001,"_extension":2002},"/topics/robotics/pid-controller","robotics",false,"","Introduction to PID Controller in Python","PID Control is a feedback control","DIN SOKHENG","pid","/topics/robotics/nmpc/PID.png",{"type":14,"children":15,"toc":1984},"root",[16,25,39,45,50,56,62,103,119,129,135,145,151,156,190,196,201,206,216,222,227,231,236,240,245,690,709,1268,1273,1279,1286,1305,1393,1398,1460,1465,1549,1561,1859,1865,1884,1900,1906,1916,1922,1932,1938,1944,1949,1955,1979],{"type":17,"tag":18,"props":19,"children":21},"element","h2",{"id":20},"what-is-pid-controller",[22],{"type":23,"value":24},"text","What is PID Controller ?",{"type":17,"tag":26,"props":27,"children":28},"p",{},[29,31,37],{"type":23,"value":30},"The Proportional Integral Derivative (PID) controller is a traditional method in control systems that has found widespread use in control system engineering and industrial applications since its emergence in the 1940s. A PID controller is considered a feedback controller, aiming to minimize the error between the system's feedback and the desired setpoint by manually or automatically fine-tuning the coefficients ",{"type":17,"tag":32,"props":33,"children":36},"math-render",{"latex-express":34,"styles":35},"K_{P}, K_{I}, K_{D}","inline-flex",[],{"type":23,"value":38},".",{"type":17,"tag":18,"props":40,"children":42},{"id":41},"how-it-works",[43],{"type":23,"value":44},"How it works ?",{"type":17,"tag":26,"props":46,"children":47},{},[48],{"type":23,"value":49},"Imagine you want to control the speed of a DC motor to reach 300 RPM, but due to the natural response of the DC motor, it cannot reach the desired angular speed. PID offers a solution to this natural response by adjusting the system's time response using its three components, as shown in the formula below.",{"type":17,"tag":18,"props":51,"children":53},{"id":52},"formulation",[54],{"type":23,"value":55},"Formulation",{"type":17,"tag":57,"props":58,"children":61},"math-render-b",{"latex-express":59,"styles":60},"u(t) = K_{p}e(t) + K_{I} \\int_{0}^{t} e(t) dt + K_{D} \\frac{d e(t)}{dt} ","text-center",[],{"type":17,"tag":63,"props":64,"children":65},"ul",{},[66,76,85,94],{"type":17,"tag":67,"props":68,"children":69},"li",{},[70,74],{"type":17,"tag":32,"props":71,"children":73},{"latex-express":72,"styles":35},"K_{P}",[],{"type":23,"value":75}," represents the proportional gain.",{"type":17,"tag":67,"props":77,"children":78},{},[79,83],{"type":17,"tag":32,"props":80,"children":82},{"latex-express":81,"styles":35},"K_{I}",[],{"type":23,"value":84}," represents the integral gain.",{"type":17,"tag":67,"props":86,"children":87},{},[88,92],{"type":17,"tag":32,"props":89,"children":91},{"latex-express":90,"styles":35},"K_{D}",[],{"type":23,"value":93}," represents the derivative gain.",{"type":17,"tag":67,"props":95,"children":96},{},[97,101],{"type":17,"tag":32,"props":98,"children":100},{"latex-express":99,"styles":35},"e(t)=target-feedback",[],{"type":23,"value":102}," is the error between target point and feedback of the system",{"type":17,"tag":104,"props":105,"children":110},"figure",{"className":106},[107,108,109],"mb-4","inline-block","max-w-sm",[111,113],{"type":23,"value":112},"\n  ",{"type":17,"tag":114,"props":115,"children":118},"img",{"className":116,"src":12},[117],"mx-auto",[],{"type":17,"tag":120,"props":121,"children":126},"figcaption",{"className":122},[60,123,124,125],"text-sm","text-neutral-600","dark:text-neutral-400",[127],{"type":23,"value":128},"\n    The Block diagram of PID Controller\n",{"type":17,"tag":18,"props":130,"children":132},{"id":131},"response-time",[133],{"type":23,"value":134},"Response Time",{"type":17,"tag":104,"props":136,"children":138},{"className":137},[107,108,109],[139,140],{"type":23,"value":112},{"type":17,"tag":114,"props":141,"children":144},{"className":142,"src":143},[117],"/topics/robotics/nmpc/response_timepid.png",[],{"type":17,"tag":120,"props":146,"children":148},{"className":147},[60,123,124,125],[149],{"type":23,"value":150},"\n    The response time of the system with each K_P, K_I, K_D\n",{"type":17,"tag":26,"props":152,"children":153},{},[154],{"type":23,"value":155},"As you can see in the figure above, the response time of the system is difference.",{"type":17,"tag":63,"props":157,"children":158},{},[159,170,180],{"type":17,"tag":67,"props":160,"children":161},{},[162,164,168],{"type":23,"value":163},"The response time with ",{"type":17,"tag":32,"props":165,"children":167},{"latex-express":166,"styles":35},"K_{I}=2",[],{"type":23,"value":169}," the system is likely to overshoot before reaching the steady-state, which may not be suitable for applications like controlling a DC motor.",{"type":17,"tag":67,"props":171,"children":172},{},[173,174,178],{"type":23,"value":163},{"type":17,"tag":32,"props":175,"children":177},{"latex-express":176,"styles":35},"K_{i}=0.5, ",[],{"type":23,"value":179},"  the response does not overshoot but has a slower response to reach the steady-state.",{"type":17,"tag":67,"props":181,"children":182},{},[183,184,188],{"type":23,"value":163},{"type":17,"tag":32,"props":185,"children":187},{"latex-express":186,"styles":35},"K_{p}=1, K_{i}=1, K_{d}=1",[],{"type":23,"value":189},"  there is a slight overshoot, but the steady-state is reached faster.",{"type":17,"tag":18,"props":191,"children":193},{"id":192},"how-can-we-write-pid-code-in-python",[194],{"type":23,"value":195},"How can we write PID code in Python ?",{"type":17,"tag":26,"props":197,"children":198},{},[199],{"type":23,"value":200},"Let's use a differential drive robot as a case study system. A differential drive robot is commonly used in robotics and automation, making it an ideal choice for a demonstration.",{"type":17,"tag":26,"props":202,"children":203},{},[204],{"type":23,"value":205},"The configuration of Differential Drive Robot in axes OXY.",{"type":17,"tag":104,"props":207,"children":209},{"className":208},[107,108,109],[210,211],{"type":23,"value":112},{"type":17,"tag":114,"props":212,"children":215},{"className":213,"src":214},[117],"/topics/robotics/nmpc/diff_drive.png",[],{"type":17,"tag":120,"props":217,"children":219},{"className":218},[60,123,124,125],[220],{"type":23,"value":221},"\n    The configuration of Differential Drive Robot in axes OXY.\n",{"type":17,"tag":26,"props":223,"children":224},{},[225],{"type":23,"value":226},"The forward kinematic equation",{"type":17,"tag":57,"props":228,"children":230},{"latex-express":229,"styles":60},"\n\\begin{bmatrix} v_{x} \\\\ v_{y} \\\\ v_{\\theta} \\end{bmatrix} = \\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{\\theta} \\\\ \\omega \\end{bmatrix}\n ",[],{"type":17,"tag":26,"props":232,"children":233},{},[234],{"type":23,"value":235},"So, if we discretize the forward kinematic with a certain sampling time, we will get",{"type":17,"tag":32,"props":237,"children":239},{"latex-express":238,"styles":60},"\n\\begin{bmatrix} x_{t+1} \\\\ y_{t+1} \\\\ \\theta_{t+1} \\end{bmatrix} = \\begin{bmatrix} x_{t} \\\\ y_{t} \\\\ \\theta_{t} \\end{bmatrix} +\\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{(\\theta)} \\\\ \\omega \\end{bmatrix} \\times \\Delta t\n ",[],{"type":17,"tag":26,"props":241,"children":242},{},[243],{"type":23,"value":244},"In Python,",{"type":17,"tag":246,"props":247,"children":252},"code",{"className":248,"code":250,"language":251,"meta":7},[249],"language-python","class DifferentialDrive:\n    def __init__(self):\n        self.r = 0.05\n        self.L = 0.25\n    def forward_kinematic(self, v, omega, yaw):\n        vx = v*np.cos(yaw)\n        vy = v*np.sin(yaw)\n        vyaw = omega\n\n        return vx, vy, vyaw\n    def discrete_state(self, x, y, yaw, v, omega, dt):\n        dx, dy, dyaw = self.forward_kinematic(v, omega, yaw)\n        x_next = x + dx * dt\n        y_next = y + dy * dt\n        yaw_next = yaw + dyaw * dt\n\n        return x_next, y_next, yaw_next\n","python",[253],{"type":17,"tag":254,"props":255,"children":256},"pre",{},[257],{"type":17,"tag":246,"props":258,"children":259},{"__ignoreMap":7},[260,289,318,351,381,407,435,461,479,488,506,532,558,595,630,665,673],{"type":17,"tag":261,"props":262,"children":265},"span",{"class":263,"line":264},"line",1,[266,272,278,284],{"type":17,"tag":261,"props":267,"children":269},{"class":268},"ct-857441",[270],{"type":23,"value":271},"class",{"type":17,"tag":261,"props":273,"children":275},{"class":274},"ct-767297",[276],{"type":23,"value":277}," ",{"type":17,"tag":261,"props":279,"children":281},{"class":280},"ct-806137",[282],{"type":23,"value":283},"DifferentialDrive",{"type":17,"tag":261,"props":285,"children":286},{"class":274},[287],{"type":23,"value":288},":\n",{"type":17,"tag":261,"props":290,"children":292},{"class":263,"line":291},2,[293,298,303,307,313],{"type":17,"tag":261,"props":294,"children":295},{"class":274},[296],{"type":23,"value":297},"    ",{"type":17,"tag":261,"props":299,"children":300},{"class":268},[301],{"type":23,"value":302},"def",{"type":17,"tag":261,"props":304,"children":305},{"class":274},[306],{"type":23,"value":277},{"type":17,"tag":261,"props":308,"children":310},{"class":309},"ct-533739",[311],{"type":23,"value":312},"__init__",{"type":17,"tag":261,"props":314,"children":315},{"class":274},[316],{"type":23,"value":317},"(self):\n",{"type":17,"tag":261,"props":319,"children":321},{"class":263,"line":320},3,[322,327,332,337,342,346],{"type":17,"tag":261,"props":323,"children":324},{"class":274},[325],{"type":23,"value":326},"        ",{"type":17,"tag":261,"props":328,"children":329},{"class":309},[330],{"type":23,"value":331},"self",{"type":17,"tag":261,"props":333,"children":334},{"class":274},[335],{"type":23,"value":336},".r ",{"type":17,"tag":261,"props":338,"children":339},{"class":268},[340],{"type":23,"value":341},"=",{"type":17,"tag":261,"props":343,"children":344},{"class":274},[345],{"type":23,"value":277},{"type":17,"tag":261,"props":347,"children":348},{"class":309},[349],{"type":23,"value":350},"0.05\n",{"type":17,"tag":261,"props":352,"children":354},{"class":263,"line":353},4,[355,359,363,368,372,376],{"type":17,"tag":261,"props":356,"children":357},{"class":274},[358],{"type":23,"value":326},{"type":17,"tag":261,"props":360,"children":361},{"class":309},[362],{"type":23,"value":331},{"type":17,"tag":261,"props":364,"children":365},{"class":274},[366],{"type":23,"value":367},".L ",{"type":17,"tag":261,"props":369,"children":370},{"class":268},[371],{"type":23,"value":341},{"type":17,"tag":261,"props":373,"children":374},{"class":274},[375],{"type":23,"value":277},{"type":17,"tag":261,"props":377,"children":378},{"class":309},[379],{"type":23,"value":380},"0.25\n",{"type":17,"tag":261,"props":382,"children":384},{"class":263,"line":383},5,[385,389,393,397,402],{"type":17,"tag":261,"props":386,"children":387},{"class":274},[388],{"type":23,"value":297},{"type":17,"tag":261,"props":390,"children":391},{"class":268},[392],{"type":23,"value":302},{"type":17,"tag":261,"props":394,"children":395},{"class":274},[396],{"type":23,"value":277},{"type":17,"tag":261,"props":398,"children":399},{"class":280},[400],{"type":23,"value":401},"forward_kinematic",{"type":17,"tag":261,"props":403,"children":404},{"class":274},[405],{"type":23,"value":406},"(self, v, omega, yaw):\n",{"type":17,"tag":261,"props":408,"children":410},{"class":263,"line":409},6,[411,416,420,425,430],{"type":17,"tag":261,"props":412,"children":413},{"class":274},[414],{"type":23,"value":415},"        vx ",{"type":17,"tag":261,"props":417,"children":418},{"class":268},[419],{"type":23,"value":341},{"type":17,"tag":261,"props":421,"children":422},{"class":274},[423],{"type":23,"value":424}," v",{"type":17,"tag":261,"props":426,"children":427},{"class":268},[428],{"type":23,"value":429},"*",{"type":17,"tag":261,"props":431,"children":432},{"class":274},[433],{"type":23,"value":434},"np.cos(yaw)\n",{"type":17,"tag":261,"props":436,"children":438},{"class":263,"line":437},7,[439,444,448,452,456],{"type":17,"tag":261,"props":440,"children":441},{"class":274},[442],{"type":23,"value":443},"        vy ",{"type":17,"tag":261,"props":445,"children":446},{"class":268},[447],{"type":23,"value":341},{"type":17,"tag":261,"props":449,"children":450},{"class":274},[451],{"type":23,"value":424},{"type":17,"tag":261,"props":453,"children":454},{"class":268},[455],{"type":23,"value":429},{"type":17,"tag":261,"props":457,"children":458},{"class":274},[459],{"type":23,"value":460},"np.sin(yaw)\n",{"type":17,"tag":261,"props":462,"children":464},{"class":263,"line":463},8,[465,470,474],{"type":17,"tag":261,"props":466,"children":467},{"class":274},[468],{"type":23,"value":469},"        vyaw ",{"type":17,"tag":261,"props":471,"children":472},{"class":268},[473],{"type":23,"value":341},{"type":17,"tag":261,"props":475,"children":476},{"class":274},[477],{"type":23,"value":478}," omega\n",{"type":17,"tag":261,"props":480,"children":482},{"class":263,"line":481},9,[483],{"type":17,"tag":261,"props":484,"children":485},{},[486],{"type":23,"value":487},"\n",{"type":17,"tag":261,"props":489,"children":491},{"class":263,"line":490},10,[492,496,501],{"type":17,"tag":261,"props":493,"children":494},{"class":274},[495],{"type":23,"value":326},{"type":17,"tag":261,"props":497,"children":498},{"class":268},[499],{"type":23,"value":500},"return",{"type":17,"tag":261,"props":502,"children":503},{"class":274},[504],{"type":23,"value":505}," vx, vy, vyaw\n",{"type":17,"tag":261,"props":507,"children":509},{"class":263,"line":508},11,[510,514,518,522,527],{"type":17,"tag":261,"props":511,"children":512},{"class":274},[513],{"type":23,"value":297},{"type":17,"tag":261,"props":515,"children":516},{"class":268},[517],{"type":23,"value":302},{"type":17,"tag":261,"props":519,"children":520},{"class":274},[521],{"type":23,"value":277},{"type":17,"tag":261,"props":523,"children":524},{"class":280},[525],{"type":23,"value":526},"discrete_state",{"type":17,"tag":261,"props":528,"children":529},{"class":274},[530],{"type":23,"value":531},"(self, x, y, yaw, v, omega, dt):\n",{"type":17,"tag":261,"props":533,"children":535},{"class":263,"line":534},12,[536,541,545,549,553],{"type":17,"tag":261,"props":537,"children":538},{"class":274},[539],{"type":23,"value":540},"        dx, dy, dyaw ",{"type":17,"tag":261,"props":542,"children":543},{"class":268},[544],{"type":23,"value":341},{"type":17,"tag":261,"props":546,"children":547},{"class":274},[548],{"type":23,"value":277},{"type":17,"tag":261,"props":550,"children":551},{"class":309},[552],{"type":23,"value":331},{"type":17,"tag":261,"props":554,"children":555},{"class":274},[556],{"type":23,"value":557},".forward_kinematic(v, omega, yaw)\n",{"type":17,"tag":261,"props":559,"children":561},{"class":263,"line":560},13,[562,567,571,576,581,586,590],{"type":17,"tag":261,"props":563,"children":564},{"class":274},[565],{"type":23,"value":566},"        x_next ",{"type":17,"tag":261,"props":568,"children":569},{"class":268},[570],{"type":23,"value":341},{"type":17,"tag":261,"props":572,"children":573},{"class":274},[574],{"type":23,"value":575}," x ",{"type":17,"tag":261,"props":577,"children":578},{"class":268},[579],{"type":23,"value":580},"+",{"type":17,"tag":261,"props":582,"children":583},{"class":274},[584],{"type":23,"value":585}," dx ",{"type":17,"tag":261,"props":587,"children":588},{"class":268},[589],{"type":23,"value":429},{"type":17,"tag":261,"props":591,"children":592},{"class":274},[593],{"type":23,"value":594}," dt\n",{"type":17,"tag":261,"props":596,"children":598},{"class":263,"line":597},14,[599,604,608,613,617,622,626],{"type":17,"tag":261,"props":600,"children":601},{"class":274},[602],{"type":23,"value":603},"        y_next ",{"type":17,"tag":261,"props":605,"children":606},{"class":268},[607],{"type":23,"value":341},{"type":17,"tag":261,"props":609,"children":610},{"class":274},[611],{"type":23,"value":612}," y ",{"type":17,"tag":261,"props":614,"children":615},{"class":268},[616],{"type":23,"value":580},{"type":17,"tag":261,"props":618,"children":619},{"class":274},[620],{"type":23,"value":621}," dy ",{"type":17,"tag":261,"props":623,"children":624},{"class":268},[625],{"type":23,"value":429},{"type":17,"tag":261,"props":627,"children":628},{"class":274},[629],{"type":23,"value":594},{"type":17,"tag":261,"props":631,"children":633},{"class":263,"line":632},15,[634,639,643,648,652,657,661],{"type":17,"tag":261,"props":635,"children":636},{"class":274},[637],{"type":23,"value":638},"        yaw_next ",{"type":17,"tag":261,"props":640,"children":641},{"class":268},[642],{"type":23,"value":341},{"type":17,"tag":261,"props":644,"children":645},{"class":274},[646],{"type":23,"value":647}," yaw ",{"type":17,"tag":261,"props":649,"children":650},{"class":268},[651],{"type":23,"value":580},{"type":17,"tag":261,"props":653,"children":654},{"class":274},[655],{"type":23,"value":656}," dyaw ",{"type":17,"tag":261,"props":658,"children":659},{"class":268},[660],{"type":23,"value":429},{"type":17,"tag":261,"props":662,"children":663},{"class":274},[664],{"type":23,"value":594},{"type":17,"tag":261,"props":666,"children":668},{"class":263,"line":667},16,[669],{"type":17,"tag":261,"props":670,"children":671},{},[672],{"type":23,"value":487},{"type":17,"tag":261,"props":674,"children":676},{"class":263,"line":675},17,[677,681,685],{"type":17,"tag":261,"props":678,"children":679},{"class":274},[680],{"type":23,"value":326},{"type":17,"tag":261,"props":682,"children":683},{"class":268},[684],{"type":23,"value":500},{"type":17,"tag":261,"props":686,"children":687},{"class":274},[688],{"type":23,"value":689}," x_next, y_next, yaw_next",{"type":17,"tag":26,"props":691,"children":692},{},[693,695,701,703,708],{"type":23,"value":694},"The ",{"type":17,"tag":696,"props":697,"children":698},"strong",{},[699],{"type":23,"value":700}," DifferentialDrive ",{"type":23,"value":702}," class that we defined, has all the need attribute to use for PID control !!. We just need to write another class for our ",{"type":17,"tag":696,"props":704,"children":705},{},[706],{"type":23,"value":707}," PID Controller ",{"type":23,"value":38},{"type":17,"tag":246,"props":710,"children":713},{"className":711,"code":712,"language":251,"meta":7},[249],"class PIDController:\n    def __init__(self, kp, ki, kd, dt):\n\n        self.kp = kp\n        self.ki = ki\n        self.kd = kd\n        self.dt = dt\n        self.integral = 0\n\n    def calculate_pid(self, errors):\n        # Calculate proportional error\n        proportional = self.kp * errors[-1]\n        # Calculate integration error\n        integral = self.integral + self.ki * (errors[-1]) * self.dt\n        self.integral = integral\n        # Calculate derivative error\n        derivative = self.kd * (errors[-1] - errors[-2])/self.dt\n\n        output = proportional + integral + derivative\n\n        return output\n",[714],{"type":17,"tag":254,"props":715,"children":716},{},[717],{"type":17,"tag":246,"props":718,"children":719},{"__ignoreMap":7},[720,740,764,771,796,821,846,870,899,906,931,944,992,1004,1083,1107,1119,1199,1207,1243,1251],{"type":17,"tag":261,"props":721,"children":722},{"class":263,"line":264},[723,727,731,736],{"type":17,"tag":261,"props":724,"children":725},{"class":268},[726],{"type":23,"value":271},{"type":17,"tag":261,"props":728,"children":729},{"class":274},[730],{"type":23,"value":277},{"type":17,"tag":261,"props":732,"children":733},{"class":280},[734],{"type":23,"value":735},"PIDController",{"type":17,"tag":261,"props":737,"children":738},{"class":274},[739],{"type":23,"value":288},{"type":17,"tag":261,"props":741,"children":742},{"class":263,"line":291},[743,747,751,755,759],{"type":17,"tag":261,"props":744,"children":745},{"class":274},[746],{"type":23,"value":297},{"type":17,"tag":261,"props":748,"children":749},{"class":268},[750],{"type":23,"value":302},{"type":17,"tag":261,"props":752,"children":753},{"class":274},[754],{"type":23,"value":277},{"type":17,"tag":261,"props":756,"children":757},{"class":309},[758],{"type":23,"value":312},{"type":17,"tag":261,"props":760,"children":761},{"class":274},[762],{"type":23,"value":763},"(self, kp, ki, kd, dt):\n",{"type":17,"tag":261,"props":765,"children":766},{"class":263,"line":320},[767],{"type":17,"tag":261,"props":768,"children":769},{},[770],{"type":23,"value":487},{"type":17,"tag":261,"props":772,"children":773},{"class":263,"line":353},[774,778,782,787,791],{"type":17,"tag":261,"props":775,"children":776},{"class":274},[777],{"type":23,"value":326},{"type":17,"tag":261,"props":779,"children":780},{"class":309},[781],{"type":23,"value":331},{"type":17,"tag":261,"props":783,"children":784},{"class":274},[785],{"type":23,"value":786},".kp ",{"type":17,"tag":261,"props":788,"children":789},{"class":268},[790],{"type":23,"value":341},{"type":17,"tag":261,"props":792,"children":793},{"class":274},[794],{"type":23,"value":795}," kp\n",{"type":17,"tag":261,"props":797,"children":798},{"class":263,"line":383},[799,803,807,812,816],{"type":17,"tag":261,"props":800,"children":801},{"class":274},[802],{"type":23,"value":326},{"type":17,"tag":261,"props":804,"children":805},{"class":309},[806],{"type":23,"value":331},{"type":17,"tag":261,"props":808,"children":809},{"class":274},[810],{"type":23,"value":811},".ki ",{"type":17,"tag":261,"props":813,"children":814},{"class":268},[815],{"type":23,"value":341},{"type":17,"tag":261,"props":817,"children":818},{"class":274},[819],{"type":23,"value":820}," ki\n",{"type":17,"tag":261,"props":822,"children":823},{"class":263,"line":409},[824,828,832,837,841],{"type":17,"tag":261,"props":825,"children":826},{"class":274},[827],{"type":23,"value":326},{"type":17,"tag":261,"props":829,"children":830},{"class":309},[831],{"type":23,"value":331},{"type":17,"tag":261,"props":833,"children":834},{"class":274},[835],{"type":23,"value":836},".kd ",{"type":17,"tag":261,"props":838,"children":839},{"class":268},[840],{"type":23,"value":341},{"type":17,"tag":261,"props":842,"children":843},{"class":274},[844],{"type":23,"value":845}," kd\n",{"type":17,"tag":261,"props":847,"children":848},{"class":263,"line":437},[849,853,857,862,866],{"type":17,"tag":261,"props":850,"children":851},{"class":274},[852],{"type":23,"value":326},{"type":17,"tag":261,"props":854,"children":855},{"class":309},[856],{"type":23,"value":331},{"type":17,"tag":261,"props":858,"children":859},{"class":274},[860],{"type":23,"value":861},".dt ",{"type":17,"tag":261,"props":863,"children":864},{"class":268},[865],{"type":23,"value":341},{"type":17,"tag":261,"props":867,"children":868},{"class":274},[869],{"type":23,"value":594},{"type":17,"tag":261,"props":871,"children":872},{"class":263,"line":463},[873,877,881,886,890,894],{"type":17,"tag":261,"props":874,"children":875},{"class":274},[876],{"type":23,"value":326},{"type":17,"tag":261,"props":878,"children":879},{"class":309},[880],{"type":23,"value":331},{"type":17,"tag":261,"props":882,"children":883},{"class":274},[884],{"type":23,"value":885},".integral ",{"type":17,"tag":261,"props":887,"children":888},{"class":268},[889],{"type":23,"value":341},{"type":17,"tag":261,"props":891,"children":892},{"class":274},[893],{"type":23,"value":277},{"type":17,"tag":261,"props":895,"children":896},{"class":309},[897],{"type":23,"value":898},"0\n",{"type":17,"tag":261,"props":900,"children":901},{"class":263,"line":481},[902],{"type":17,"tag":261,"props":903,"children":904},{},[905],{"type":23,"value":487},{"type":17,"tag":261,"props":907,"children":908},{"class":263,"line":490},[909,913,917,921,926],{"type":17,"tag":261,"props":910,"children":911},{"class":274},[912],{"type":23,"value":297},{"type":17,"tag":261,"props":914,"children":915},{"class":268},[916],{"type":23,"value":302},{"type":17,"tag":261,"props":918,"children":919},{"class":274},[920],{"type":23,"value":277},{"type":17,"tag":261,"props":922,"children":923},{"class":280},[924],{"type":23,"value":925},"calculate_pid",{"type":17,"tag":261,"props":927,"children":928},{"class":274},[929],{"type":23,"value":930},"(self, errors):\n",{"type":17,"tag":261,"props":932,"children":933},{"class":263,"line":508},[934,938],{"type":17,"tag":261,"props":935,"children":936},{"class":274},[937],{"type":23,"value":326},{"type":17,"tag":261,"props":939,"children":941},{"class":940},"ct-326375",[942],{"type":23,"value":943},"# Calculate proportional error\n",{"type":17,"tag":261,"props":945,"children":946},{"class":263,"line":534},[947,952,956,960,964,968,972,977,982,987],{"type":17,"tag":261,"props":948,"children":949},{"class":274},[950],{"type":23,"value":951},"        proportional ",{"type":17,"tag":261,"props":953,"children":954},{"class":268},[955],{"type":23,"value":341},{"type":17,"tag":261,"props":957,"children":958},{"class":274},[959],{"type":23,"value":277},{"type":17,"tag":261,"props":961,"children":962},{"class":309},[963],{"type":23,"value":331},{"type":17,"tag":261,"props":965,"children":966},{"class":274},[967],{"type":23,"value":786},{"type":17,"tag":261,"props":969,"children":970},{"class":268},[971],{"type":23,"value":429},{"type":17,"tag":261,"props":973,"children":974},{"class":274},[975],{"type":23,"value":976}," errors[",{"type":17,"tag":261,"props":978,"children":979},{"class":268},[980],{"type":23,"value":981},"-",{"type":17,"tag":261,"props":983,"children":984},{"class":309},[985],{"type":23,"value":986},"1",{"type":17,"tag":261,"props":988,"children":989},{"class":274},[990],{"type":23,"value":991},"]\n",{"type":17,"tag":261,"props":993,"children":994},{"class":263,"line":560},[995,999],{"type":17,"tag":261,"props":996,"children":997},{"class":274},[998],{"type":23,"value":326},{"type":17,"tag":261,"props":1000,"children":1001},{"class":940},[1002],{"type":23,"value":1003},"# Calculate integration error\n",{"type":17,"tag":261,"props":1005,"children":1006},{"class":263,"line":597},[1007,1012,1016,1020,1024,1028,1032,1036,1040,1044,1048,1053,1057,1061,1066,1070,1074,1078],{"type":17,"tag":261,"props":1008,"children":1009},{"class":274},[1010],{"type":23,"value":1011},"        integral ",{"type":17,"tag":261,"props":1013,"children":1014},{"class":268},[1015],{"type":23,"value":341},{"type":17,"tag":261,"props":1017,"children":1018},{"class":274},[1019],{"type":23,"value":277},{"type":17,"tag":261,"props":1021,"children":1022},{"class":309},[1023],{"type":23,"value":331},{"type":17,"tag":261,"props":1025,"children":1026},{"class":274},[1027],{"type":23,"value":885},{"type":17,"tag":261,"props":1029,"children":1030},{"class":268},[1031],{"type":23,"value":580},{"type":17,"tag":261,"props":1033,"children":1034},{"class":274},[1035],{"type":23,"value":277},{"type":17,"tag":261,"props":1037,"children":1038},{"class":309},[1039],{"type":23,"value":331},{"type":17,"tag":261,"props":1041,"children":1042},{"class":274},[1043],{"type":23,"value":811},{"type":17,"tag":261,"props":1045,"children":1046},{"class":268},[1047],{"type":23,"value":429},{"type":17,"tag":261,"props":1049,"children":1050},{"class":274},[1051],{"type":23,"value":1052}," (errors[",{"type":17,"tag":261,"props":1054,"children":1055},{"class":268},[1056],{"type":23,"value":981},{"type":17,"tag":261,"props":1058,"children":1059},{"class":309},[1060],{"type":23,"value":986},{"type":17,"tag":261,"props":1062,"children":1063},{"class":274},[1064],{"type":23,"value":1065},"]) ",{"type":17,"tag":261,"props":1067,"children":1068},{"class":268},[1069],{"type":23,"value":429},{"type":17,"tag":261,"props":1071,"children":1072},{"class":274},[1073],{"type":23,"value":277},{"type":17,"tag":261,"props":1075,"children":1076},{"class":309},[1077],{"type":23,"value":331},{"type":17,"tag":261,"props":1079,"children":1080},{"class":274},[1081],{"type":23,"value":1082},".dt\n",{"type":17,"tag":261,"props":1084,"children":1085},{"class":263,"line":632},[1086,1090,1094,1098,1102],{"type":17,"tag":261,"props":1087,"children":1088},{"class":274},[1089],{"type":23,"value":326},{"type":17,"tag":261,"props":1091,"children":1092},{"class":309},[1093],{"type":23,"value":331},{"type":17,"tag":261,"props":1095,"children":1096},{"class":274},[1097],{"type":23,"value":885},{"type":17,"tag":261,"props":1099,"children":1100},{"class":268},[1101],{"type":23,"value":341},{"type":17,"tag":261,"props":1103,"children":1104},{"class":274},[1105],{"type":23,"value":1106}," integral\n",{"type":17,"tag":261,"props":1108,"children":1109},{"class":263,"line":667},[1110,1114],{"type":17,"tag":261,"props":1111,"children":1112},{"class":274},[1113],{"type":23,"value":326},{"type":17,"tag":261,"props":1115,"children":1116},{"class":940},[1117],{"type":23,"value":1118},"# Calculate derivative error\n",{"type":17,"tag":261,"props":1120,"children":1121},{"class":263,"line":675},[1122,1127,1131,1135,1139,1143,1147,1151,1155,1159,1164,1168,1172,1176,1181,1186,1191,1195],{"type":17,"tag":261,"props":1123,"children":1124},{"class":274},[1125],{"type":23,"value":1126},"        derivative ",{"type":17,"tag":261,"props":1128,"children":1129},{"class":268},[1130],{"type":23,"value":341},{"type":17,"tag":261,"props":1132,"children":1133},{"class":274},[1134],{"type":23,"value":277},{"type":17,"tag":261,"props":1136,"children":1137},{"class":309},[1138],{"type":23,"value":331},{"type":17,"tag":261,"props":1140,"children":1141},{"class":274},[1142],{"type":23,"value":836},{"type":17,"tag":261,"props":1144,"children":1145},{"class":268},[1146],{"type":23,"value":429},{"type":17,"tag":261,"props":1148,"children":1149},{"class":274},[1150],{"type":23,"value":1052},{"type":17,"tag":261,"props":1152,"children":1153},{"class":268},[1154],{"type":23,"value":981},{"type":17,"tag":261,"props":1156,"children":1157},{"class":309},[1158],{"type":23,"value":986},{"type":17,"tag":261,"props":1160,"children":1161},{"class":274},[1162],{"type":23,"value":1163},"] ",{"type":17,"tag":261,"props":1165,"children":1166},{"class":268},[1167],{"type":23,"value":981},{"type":17,"tag":261,"props":1169,"children":1170},{"class":274},[1171],{"type":23,"value":976},{"type":17,"tag":261,"props":1173,"children":1174},{"class":268},[1175],{"type":23,"value":981},{"type":17,"tag":261,"props":1177,"children":1178},{"class":309},[1179],{"type":23,"value":1180},"2",{"type":17,"tag":261,"props":1182,"children":1183},{"class":274},[1184],{"type":23,"value":1185},"])",{"type":17,"tag":261,"props":1187,"children":1188},{"class":268},[1189],{"type":23,"value":1190},"/",{"type":17,"tag":261,"props":1192,"children":1193},{"class":309},[1194],{"type":23,"value":331},{"type":17,"tag":261,"props":1196,"children":1197},{"class":274},[1198],{"type":23,"value":1082},{"type":17,"tag":261,"props":1200,"children":1202},{"class":263,"line":1201},18,[1203],{"type":17,"tag":261,"props":1204,"children":1205},{},[1206],{"type":23,"value":487},{"type":17,"tag":261,"props":1208,"children":1210},{"class":263,"line":1209},19,[1211,1216,1220,1225,1229,1234,1238],{"type":17,"tag":261,"props":1212,"children":1213},{"class":274},[1214],{"type":23,"value":1215},"        output ",{"type":17,"tag":261,"props":1217,"children":1218},{"class":268},[1219],{"type":23,"value":341},{"type":17,"tag":261,"props":1221,"children":1222},{"class":274},[1223],{"type":23,"value":1224}," proportional ",{"type":17,"tag":261,"props":1226,"children":1227},{"class":268},[1228],{"type":23,"value":580},{"type":17,"tag":261,"props":1230,"children":1231},{"class":274},[1232],{"type":23,"value":1233}," integral ",{"type":17,"tag":261,"props":1235,"children":1236},{"class":268},[1237],{"type":23,"value":580},{"type":17,"tag":261,"props":1239,"children":1240},{"class":274},[1241],{"type":23,"value":1242}," derivative\n",{"type":17,"tag":261,"props":1244,"children":1246},{"class":263,"line":1245},20,[1247],{"type":17,"tag":261,"props":1248,"children":1249},{},[1250],{"type":23,"value":487},{"type":17,"tag":261,"props":1252,"children":1254},{"class":263,"line":1253},21,[1255,1259,1263],{"type":17,"tag":261,"props":1256,"children":1257},{"class":274},[1258],{"type":23,"value":326},{"type":17,"tag":261,"props":1260,"children":1261},{"class":268},[1262],{"type":23,"value":500},{"type":17,"tag":261,"props":1264,"children":1265},{"class":274},[1266],{"type":23,"value":1267}," output",{"type":17,"tag":26,"props":1269,"children":1270},{},[1271],{"type":23,"value":1272},"Don't worry, this class just defined as the PID formula. So, by doing this, we will be able to use all the characteristic of our PID controller.",{"type":17,"tag":18,"props":1274,"children":1276},{"id":1275},"experiment",[1277],{"type":23,"value":1278},"Experiment",{"type":17,"tag":1280,"props":1281,"children":1283},"h3",{"id":1282},"pid-for-point-control",[1284],{"type":23,"value":1285},"PID for point control",{"type":17,"tag":26,"props":1287,"children":1288},{},[1289,1291,1295,1297,1303],{"type":23,"value":1290},"If I want my DifferentialDrive robot go to point ",{"type":17,"tag":32,"props":1292,"children":1294},{"latex-express":1293,"styles":35},"x_{ref}, y_{ref}, \\theta_{ref}",[],{"type":23,"value":1296},", Then I can calculate the error between the reference point and the feedback position of the robot. I simulated my robot in the  ",{"type":17,"tag":1298,"props":1299,"children":1300},"code-inline",{},[1301],{"type":23,"value":1302},"for loop",{"type":23,"value":1304}," and calculate this error recursively.",{"type":17,"tag":246,"props":1306,"children":1309},{"className":1307,"code":1308,"language":251,"meta":7},[249],"error_x.append(ref_path[0]-current_x)\nerror_y.append(ref_path[1]-current_y)\nerror_yaw.append(ref_path[2]-current_yaw)\n",[1310],{"type":17,"tag":254,"props":1311,"children":1312},{},[1313],{"type":17,"tag":246,"props":1314,"children":1315},{"__ignoreMap":7},[1316,1343,1368],{"type":17,"tag":261,"props":1317,"children":1318},{"class":263,"line":264},[1319,1324,1329,1334,1338],{"type":17,"tag":261,"props":1320,"children":1321},{"class":274},[1322],{"type":23,"value":1323},"error_x.append(ref_path[",{"type":17,"tag":261,"props":1325,"children":1326},{"class":309},[1327],{"type":23,"value":1328},"0",{"type":17,"tag":261,"props":1330,"children":1331},{"class":274},[1332],{"type":23,"value":1333},"]",{"type":17,"tag":261,"props":1335,"children":1336},{"class":268},[1337],{"type":23,"value":981},{"type":17,"tag":261,"props":1339,"children":1340},{"class":274},[1341],{"type":23,"value":1342},"current_x)\n",{"type":17,"tag":261,"props":1344,"children":1345},{"class":263,"line":291},[1346,1351,1355,1359,1363],{"type":17,"tag":261,"props":1347,"children":1348},{"class":274},[1349],{"type":23,"value":1350},"error_y.append(ref_path[",{"type":17,"tag":261,"props":1352,"children":1353},{"class":309},[1354],{"type":23,"value":986},{"type":17,"tag":261,"props":1356,"children":1357},{"class":274},[1358],{"type":23,"value":1333},{"type":17,"tag":261,"props":1360,"children":1361},{"class":268},[1362],{"type":23,"value":981},{"type":17,"tag":261,"props":1364,"children":1365},{"class":274},[1366],{"type":23,"value":1367},"current_y)\n",{"type":17,"tag":261,"props":1369,"children":1370},{"class":263,"line":320},[1371,1376,1380,1384,1388],{"type":17,"tag":261,"props":1372,"children":1373},{"class":274},[1374],{"type":23,"value":1375},"error_yaw.append(ref_path[",{"type":17,"tag":261,"props":1377,"children":1378},{"class":309},[1379],{"type":23,"value":1180},{"type":17,"tag":261,"props":1381,"children":1382},{"class":274},[1383],{"type":23,"value":1333},{"type":17,"tag":261,"props":1385,"children":1386},{"class":268},[1387],{"type":23,"value":981},{"type":17,"tag":261,"props":1389,"children":1390},{"class":274},[1391],{"type":23,"value":1392},"current_yaw)",{"type":17,"tag":26,"props":1394,"children":1395},{},[1396],{"type":23,"value":1397},"Then, let's apply PID",{"type":17,"tag":246,"props":1399,"children":1402},{"className":1400,"code":1401,"language":251,"meta":7},[249],"output_vx = pid_controller_x.calculate_pid(error_x)\noutput_vy = pid_controller_y.calculate_pid(error_y)\noutput_omega = pid_controller_yaw.calculate_pid(error_yaw)\n",[1403],{"type":17,"tag":254,"props":1404,"children":1405},{},[1406],{"type":17,"tag":246,"props":1407,"children":1408},{"__ignoreMap":7},[1409,1426,1443],{"type":17,"tag":261,"props":1410,"children":1411},{"class":263,"line":264},[1412,1417,1421],{"type":17,"tag":261,"props":1413,"children":1414},{"class":274},[1415],{"type":23,"value":1416},"output_vx ",{"type":17,"tag":261,"props":1418,"children":1419},{"class":268},[1420],{"type":23,"value":341},{"type":17,"tag":261,"props":1422,"children":1423},{"class":274},[1424],{"type":23,"value":1425}," pid_controller_x.calculate_pid(error_x)\n",{"type":17,"tag":261,"props":1427,"children":1428},{"class":263,"line":291},[1429,1434,1438],{"type":17,"tag":261,"props":1430,"children":1431},{"class":274},[1432],{"type":23,"value":1433},"output_vy ",{"type":17,"tag":261,"props":1435,"children":1436},{"class":268},[1437],{"type":23,"value":341},{"type":17,"tag":261,"props":1439,"children":1440},{"class":274},[1441],{"type":23,"value":1442}," pid_controller_y.calculate_pid(error_y)\n",{"type":17,"tag":261,"props":1444,"children":1445},{"class":263,"line":320},[1446,1451,1455],{"type":17,"tag":261,"props":1447,"children":1448},{"class":274},[1449],{"type":23,"value":1450},"output_omega ",{"type":17,"tag":261,"props":1452,"children":1453},{"class":268},[1454],{"type":23,"value":341},{"type":17,"tag":261,"props":1456,"children":1457},{"class":274},[1458],{"type":23,"value":1459}," pid_controller_yaw.calculate_pid(error_yaw)",{"type":17,"tag":26,"props":1461,"children":1462},{},[1463],{"type":23,"value":1464},"We will also need to update current position of the robot with the given optimal value from the PID controller.",{"type":17,"tag":246,"props":1466,"children":1469},{"className":1467,"code":1468,"language":251,"meta":7},[249],"x_next, y_next, yaw_next = diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) # Skip for omega we only look for x, y\ncurrent_x = x_next\ncurrent_y = y_next\ncurrent_yaw = yaw_next\n",[1470],{"type":17,"tag":254,"props":1471,"children":1472},{},[1473],{"type":17,"tag":246,"props":1474,"children":1475},{"__ignoreMap":7},[1476,1498,1515,1532],{"type":17,"tag":261,"props":1477,"children":1478},{"class":263,"line":264},[1479,1484,1488,1493],{"type":17,"tag":261,"props":1480,"children":1481},{"class":274},[1482],{"type":23,"value":1483},"x_next, y_next, yaw_next ",{"type":17,"tag":261,"props":1485,"children":1486},{"class":268},[1487],{"type":23,"value":341},{"type":17,"tag":261,"props":1489,"children":1490},{"class":274},[1491],{"type":23,"value":1492}," diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) ",{"type":17,"tag":261,"props":1494,"children":1495},{"class":940},[1496],{"type":23,"value":1497},"# Skip for omega we only look for x, y\n",{"type":17,"tag":261,"props":1499,"children":1500},{"class":263,"line":291},[1501,1506,1510],{"type":17,"tag":261,"props":1502,"children":1503},{"class":274},[1504],{"type":23,"value":1505},"current_x ",{"type":17,"tag":261,"props":1507,"children":1508},{"class":268},[1509],{"type":23,"value":341},{"type":17,"tag":261,"props":1511,"children":1512},{"class":274},[1513],{"type":23,"value":1514}," x_next\n",{"type":17,"tag":261,"props":1516,"children":1517},{"class":263,"line":320},[1518,1523,1527],{"type":17,"tag":261,"props":1519,"children":1520},{"class":274},[1521],{"type":23,"value":1522},"current_y ",{"type":17,"tag":261,"props":1524,"children":1525},{"class":268},[1526],{"type":23,"value":341},{"type":17,"tag":261,"props":1528,"children":1529},{"class":274},[1530],{"type":23,"value":1531}," y_next\n",{"type":17,"tag":261,"props":1533,"children":1534},{"class":263,"line":353},[1535,1540,1544],{"type":17,"tag":261,"props":1536,"children":1537},{"class":274},[1538],{"type":23,"value":1539},"current_yaw ",{"type":17,"tag":261,"props":1541,"children":1542},{"class":268},[1543],{"type":23,"value":341},{"type":17,"tag":261,"props":1545,"children":1546},{"class":274},[1547],{"type":23,"value":1548}," yaw_next",{"type":17,"tag":26,"props":1550,"children":1551},{},[1552,1554,1559],{"type":23,"value":1553},"I use ",{"type":17,"tag":1298,"props":1555,"children":1556},{},[1557],{"type":23,"value":1558},"matplotlib",{"type":23,"value":1560}," library to simulate my robot.",{"type":17,"tag":246,"props":1562,"children":1565},{"className":1563,"code":1564,"language":251,"meta":7},[249],"plt.clf()\nplt.gcf().canvas.mpl_connect('key_release_event',\n            lambda event: [exit(0) if event.key == 'escape' else None])\nplot_arrow(current_x, current_y, current_yaw)\nplt.plot(5, 5)\nplt.plot(ref_path[0], ref_path[1], marker=\"x\", color=\"blue\", label=\"Input Trajectory\")\nplt.axis(\"equal\")\nplt.grid(True)\nplt.legend()\nplt.pause(0.0001)\n",[1566],{"type":17,"tag":254,"props":1567,"children":1568},{},[1569],{"type":17,"tag":246,"props":1570,"children":1571},{"__ignoreMap":7},[1572,1580,1599,1683,1691,1718,1799,1816,1833,1841],{"type":17,"tag":261,"props":1573,"children":1574},{"class":263,"line":264},[1575],{"type":17,"tag":261,"props":1576,"children":1577},{"class":274},[1578],{"type":23,"value":1579},"plt.clf()\n",{"type":17,"tag":261,"props":1581,"children":1582},{"class":263,"line":291},[1583,1588,1594],{"type":17,"tag":261,"props":1584,"children":1585},{"class":274},[1586],{"type":23,"value":1587},"plt.gcf().canvas.mpl_connect(",{"type":17,"tag":261,"props":1589,"children":1591},{"class":1590},"ct-244866",[1592],{"type":23,"value":1593},"'key_release_event'",{"type":17,"tag":261,"props":1595,"children":1596},{"class":274},[1597],{"type":23,"value":1598},",\n",{"type":17,"tag":261,"props":1600,"children":1601},{"class":263,"line":320},[1602,1607,1612,1617,1622,1627,1631,1636,1641,1646,1651,1655,1660,1664,1669,1673,1678],{"type":17,"tag":261,"props":1603,"children":1604},{"class":274},[1605],{"type":23,"value":1606},"            ",{"type":17,"tag":261,"props":1608,"children":1609},{"class":268},[1610],{"type":23,"value":1611},"lambda",{"type":17,"tag":261,"props":1613,"children":1614},{"class":274},[1615],{"type":23,"value":1616}," event: [",{"type":17,"tag":261,"props":1618,"children":1619},{"class":309},[1620],{"type":23,"value":1621},"exit",{"type":17,"tag":261,"props":1623,"children":1624},{"class":274},[1625],{"type":23,"value":1626},"(",{"type":17,"tag":261,"props":1628,"children":1629},{"class":309},[1630],{"type":23,"value":1328},{"type":17,"tag":261,"props":1632,"children":1633},{"class":274},[1634],{"type":23,"value":1635},") ",{"type":17,"tag":261,"props":1637,"children":1638},{"class":268},[1639],{"type":23,"value":1640},"if",{"type":17,"tag":261,"props":1642,"children":1643},{"class":274},[1644],{"type":23,"value":1645}," event.key ",{"type":17,"tag":261,"props":1647,"children":1648},{"class":268},[1649],{"type":23,"value":1650},"==",{"type":17,"tag":261,"props":1652,"children":1653},{"class":274},[1654],{"type":23,"value":277},{"type":17,"tag":261,"props":1656,"children":1657},{"class":1590},[1658],{"type":23,"value":1659},"'escape'",{"type":17,"tag":261,"props":1661,"children":1662},{"class":274},[1663],{"type":23,"value":277},{"type":17,"tag":261,"props":1665,"children":1666},{"class":268},[1667],{"type":23,"value":1668},"else",{"type":17,"tag":261,"props":1670,"children":1671},{"class":274},[1672],{"type":23,"value":277},{"type":17,"tag":261,"props":1674,"children":1675},{"class":309},[1676],{"type":23,"value":1677},"None",{"type":17,"tag":261,"props":1679,"children":1680},{"class":274},[1681],{"type":23,"value":1682},"])\n",{"type":17,"tag":261,"props":1684,"children":1685},{"class":263,"line":353},[1686],{"type":17,"tag":261,"props":1687,"children":1688},{"class":274},[1689],{"type":23,"value":1690},"plot_arrow(current_x, current_y, current_yaw)\n",{"type":17,"tag":261,"props":1692,"children":1693},{"class":263,"line":383},[1694,1699,1704,1709,1713],{"type":17,"tag":261,"props":1695,"children":1696},{"class":274},[1697],{"type":23,"value":1698},"plt.plot(",{"type":17,"tag":261,"props":1700,"children":1701},{"class":309},[1702],{"type":23,"value":1703},"5",{"type":17,"tag":261,"props":1705,"children":1706},{"class":274},[1707],{"type":23,"value":1708},", ",{"type":17,"tag":261,"props":1710,"children":1711},{"class":309},[1712],{"type":23,"value":1703},{"type":17,"tag":261,"props":1714,"children":1715},{"class":274},[1716],{"type":23,"value":1717},")\n",{"type":17,"tag":261,"props":1719,"children":1720},{"class":263,"line":409},[1721,1726,1730,1735,1739,1744,1750,1754,1759,1763,1768,1772,1777,1781,1786,1790,1795],{"type":17,"tag":261,"props":1722,"children":1723},{"class":274},[1724],{"type":23,"value":1725},"plt.plot(ref_path[",{"type":17,"tag":261,"props":1727,"children":1728},{"class":309},[1729],{"type":23,"value":1328},{"type":17,"tag":261,"props":1731,"children":1732},{"class":274},[1733],{"type":23,"value":1734},"], ref_path[",{"type":17,"tag":261,"props":1736,"children":1737},{"class":309},[1738],{"type":23,"value":986},{"type":17,"tag":261,"props":1740,"children":1741},{"class":274},[1742],{"type":23,"value":1743},"], ",{"type":17,"tag":261,"props":1745,"children":1747},{"class":1746},"ct-657843",[1748],{"type":23,"value":1749},"marker",{"type":17,"tag":261,"props":1751,"children":1752},{"class":268},[1753],{"type":23,"value":341},{"type":17,"tag":261,"props":1755,"children":1756},{"class":1590},[1757],{"type":23,"value":1758},"\"x\"",{"type":17,"tag":261,"props":1760,"children":1761},{"class":274},[1762],{"type":23,"value":1708},{"type":17,"tag":261,"props":1764,"children":1765},{"class":1746},[1766],{"type":23,"value":1767},"color",{"type":17,"tag":261,"props":1769,"children":1770},{"class":268},[1771],{"type":23,"value":341},{"type":17,"tag":261,"props":1773,"children":1774},{"class":1590},[1775],{"type":23,"value":1776},"\"blue\"",{"type":17,"tag":261,"props":1778,"children":1779},{"class":274},[1780],{"type":23,"value":1708},{"type":17,"tag":261,"props":1782,"children":1783},{"class":1746},[1784],{"type":23,"value":1785},"label",{"type":17,"tag":261,"props":1787,"children":1788},{"class":268},[1789],{"type":23,"value":341},{"type":17,"tag":261,"props":1791,"children":1792},{"class":1590},[1793],{"type":23,"value":1794},"\"Input Trajectory\"",{"type":17,"tag":261,"props":1796,"children":1797},{"class":274},[1798],{"type":23,"value":1717},{"type":17,"tag":261,"props":1800,"children":1801},{"class":263,"line":437},[1802,1807,1812],{"type":17,"tag":261,"props":1803,"children":1804},{"class":274},[1805],{"type":23,"value":1806},"plt.axis(",{"type":17,"tag":261,"props":1808,"children":1809},{"class":1590},[1810],{"type":23,"value":1811},"\"equal\"",{"type":17,"tag":261,"props":1813,"children":1814},{"class":274},[1815],{"type":23,"value":1717},{"type":17,"tag":261,"props":1817,"children":1818},{"class":263,"line":463},[1819,1824,1829],{"type":17,"tag":261,"props":1820,"children":1821},{"class":274},[1822],{"type":23,"value":1823},"plt.grid(",{"type":17,"tag":261,"props":1825,"children":1826},{"class":309},[1827],{"type":23,"value":1828},"True",{"type":17,"tag":261,"props":1830,"children":1831},{"class":274},[1832],{"type":23,"value":1717},{"type":17,"tag":261,"props":1834,"children":1835},{"class":263,"line":481},[1836],{"type":17,"tag":261,"props":1837,"children":1838},{"class":274},[1839],{"type":23,"value":1840},"plt.legend()\n",{"type":17,"tag":261,"props":1842,"children":1843},{"class":263,"line":490},[1844,1849,1854],{"type":17,"tag":261,"props":1845,"children":1846},{"class":274},[1847],{"type":23,"value":1848},"plt.pause(",{"type":17,"tag":261,"props":1850,"children":1851},{"class":309},[1852],{"type":23,"value":1853},"0.0001",{"type":17,"tag":261,"props":1855,"children":1856},{"class":274},[1857],{"type":23,"value":1858},")",{"type":17,"tag":1280,"props":1860,"children":1862},{"id":1861},"path-tracking",[1863],{"type":23,"value":1864},"Path Tracking",{"type":17,"tag":26,"props":1866,"children":1867},{},[1868,1870,1875,1877,1882],{"type":23,"value":1869},"The code is all way the same. The different is that, I fit the continuous point into the robot instead of fixed goal point. I use ",{"type":17,"tag":1298,"props":1871,"children":1872},{},[1873],{"type":23,"value":1874},"BeizerCurve",{"type":23,"value":1876}," function to generate ",{"type":17,"tag":696,"props":1878,"children":1879},{},[1880],{"type":23,"value":1881}," Spline Trajectory ",{"type":23,"value":1883}," for the robot.",{"type":17,"tag":26,"props":1885,"children":1886},{},[1887,1889,1898],{"type":23,"value":1888},"The full code is published open-source on my Github. Link here ",{"type":17,"tag":1890,"props":1891,"children":1895},"a",{"href":1892,"rel":1893},"https://github.com/SokhengDin/PathTracking/tree/main/PID",[1894],"nofollow",[1896],{"type":23,"value":1897},"Github",{"type":23,"value":1899},". Hit the star for me if you like my work 🙂.",{"type":17,"tag":1280,"props":1901,"children":1903},{"id":1902},"result",[1904],{"type":23,"value":1905},"Result",{"type":17,"tag":104,"props":1907,"children":1909},{"className":1908},[107,108,109],[1910,1911],{"type":23,"value":112},{"type":17,"tag":114,"props":1912,"children":1915},{"className":1913,"src":1914},[117],"/topics/robotics/nmpc/Figure_pid_p.png",[],{"type":17,"tag":120,"props":1917,"children":1919},{"className":1918},[60,123,124,125],[1920],{"type":23,"value":1921},"\n    PID Controller with position control on Differential Drive Robot\n",{"type":17,"tag":104,"props":1923,"children":1925},{"className":1924},[107,108,109],[1926,1927],{"type":23,"value":112},{"type":17,"tag":114,"props":1928,"children":1931},{"className":1929,"src":1930},[117],"/topics/robotics/nmpc/Figure_pid_t.png",[],{"type":17,"tag":120,"props":1933,"children":1935},{"className":1934},[60,123,124,125],[1936],{"type":23,"value":1937},"\n    PID Controller with path tracking control on Differential Drive Robot\n",{"type":17,"tag":18,"props":1939,"children":1941},{"id":1940},"in-conclusion",[1942],{"type":23,"value":1943},"In Conclusion",{"type":17,"tag":26,"props":1945,"children":1946},{},[1947],{"type":23,"value":1948},"In my opinion, the PID Controller is an excellent choice for most control system applications due to its simplicity and powerful capabilities in handling complex control challenges arising from various systems.",{"type":17,"tag":18,"props":1950,"children":1952},{"id":1951},"references",[1953],{"type":23,"value":1954},"References",{"type":17,"tag":1956,"props":1957,"children":1958},"ol",{},[1959,1964,1969,1974],{"type":17,"tag":67,"props":1960,"children":1961},{},[1962],{"type":23,"value":1963},"BeizerCurve: https://en.wikipedia.org/wiki/Bézier_curve.",{"type":17,"tag":67,"props":1965,"children":1966},{},[1967],{"type":23,"value":1968},"PID Controller: Control Systems Engineering by Normal S. Nise.",{"type":17,"tag":67,"props":1970,"children":1971},{},[1972],{"type":23,"value":1973},"Beizer Path : https://github.com/AtsushiSakai/PythonRobotics/tree/master/PathPlanning/BezierPath",{"type":17,"tag":67,"props":1975,"children":1976},{},[1977],{"type":23,"value":1978},"PID Lecture : https://www.cds.caltech.edu/~murray/courses/cds101/fa02/caltech/astrom-ch6.pdf",{"type":17,"tag":1980,"children":1981},"style",[1982],{"type":23,"value":1983},".ct-857441{color:#F97583;}\n.ct-767297{color:#E1E4E8;}\n.ct-806137{color:#B392F0;}\n.ct-533739{color:#79B8FF;}\n.ct-326375{color:#6A737D;}\n.ct-244866{color:#9ECBFF;}\n.ct-657843{color:#FFAB70;}",{"title":7,"searchDepth":291,"depth":291,"links":1985},[1986,1987,1988,1989,1990,1991,1996,1997],{"id":20,"depth":291,"text":24},{"id":41,"depth":291,"text":44},{"id":52,"depth":291,"text":55},{"id":131,"depth":291,"text":134},{"id":192,"depth":291,"text":195},{"id":1275,"depth":291,"text":1278,"children":1992},[1993,1994,1995],{"id":1282,"depth":320,"text":1285},{"id":1861,"depth":320,"text":1864},{"id":1902,"depth":320,"text":1905},{"id":1940,"depth":291,"text":1943},{"id":1951,"depth":291,"text":1954},"markdown","content:topics:robotics:pid-controller.md","content","topics/robotics/pid-controller.md","md",1695894605254]