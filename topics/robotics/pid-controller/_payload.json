[{"data":1,"prerenderedAt":2022},["Reactive",2],{"content-/topics/robotics/pid-controller":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"author":10,"slug":11,"tag":11,"img":12,"body":13,"_type":2017,"_id":2018,"_source":2019,"_file":2020,"_extension":2021},"/topics/robotics/pid-controller","robotics",false,"","Introduction to PID Controller in Python","PID Control is a feedback control","DIN SOKHENG","pid","/topics/robotics/nmpc/PID.png",{"type":14,"children":15,"toc":2003},"root",[16,25,39,45,50,56,61,102,118,128,134,144,150,155,189,195,200,205,215,221,226,230,235,239,244,689,708,1267,1272,1278,1285,1304,1392,1397,1459,1464,1548,1560,1858,1864,1883,1899,1905,1915,1921,1931,1937,1943,1948,1954,1998],{"type":17,"tag":18,"props":19,"children":21},"element","h2",{"id":20},"what-is-pid-controller",[22],{"type":23,"value":24},"text","What is PID Controller ?",{"type":17,"tag":26,"props":27,"children":28},"p",{},[29,31,37],{"type":23,"value":30},"The Proportional Integral Derivative (PID) controller is a traditional method in control systems that has found widespread use in control system engineering and industrial applications since its emergence in the 1940s. A PID controller is considered a feedback controller, aiming to minimize the error between the system's feedback and the desired setpoint by manually or automatically fine-tuning the coefficients ",{"type":17,"tag":32,"props":33,"children":36},"math-render",{"latex-express":34,"styles":35},"K_{P}, K_{I}, K_{D}","inline-flex",[],{"type":23,"value":38},".",{"type":17,"tag":18,"props":40,"children":42},{"id":41},"how-it-works",[43],{"type":23,"value":44},"How it works ?",{"type":17,"tag":26,"props":46,"children":47},{},[48],{"type":23,"value":49},"Imagine you want to control the speed of a DC motor to reach 300 RPM, but due to the natural response of the DC motor, it cannot reach the desired angular speed. PID offers a solution to this natural response by adjusting the system's time response using its three components, as shown in the formula below.",{"type":17,"tag":18,"props":51,"children":53},{"id":52},"formulation",[54],{"type":23,"value":55},"Formulation",{"type":17,"tag":32,"props":57,"children":60},{"latex-express":58,"styles":59},"u(t) = K_{p}e(t) + K_{I} \\int_{0}^{t} e(t) dt + K_{D} \\frac{d e(t)}{dt} ","text-center",[],{"type":17,"tag":62,"props":63,"children":64},"ul",{},[65,75,84,93],{"type":17,"tag":66,"props":67,"children":68},"li",{},[69,73],{"type":17,"tag":32,"props":70,"children":72},{"latex-express":71,"styles":35},"K_{P}",[],{"type":23,"value":74}," represents the proportional gain.",{"type":17,"tag":66,"props":76,"children":77},{},[78,82],{"type":17,"tag":32,"props":79,"children":81},{"latex-express":80,"styles":35},"K_{I}",[],{"type":23,"value":83}," represents the integral gain.",{"type":17,"tag":66,"props":85,"children":86},{},[87,91],{"type":17,"tag":32,"props":88,"children":90},{"latex-express":89,"styles":35},"K_{D}",[],{"type":23,"value":92}," represents the derivative gain.",{"type":17,"tag":66,"props":94,"children":95},{},[96,100],{"type":17,"tag":32,"props":97,"children":99},{"latex-express":98,"styles":35},"e(t)=target-feedback",[],{"type":23,"value":101}," is the error between target point and feedback of the system",{"type":17,"tag":103,"props":104,"children":109},"figure",{"className":105},[106,107,108],"mb-4","inline-block","max-w-sm",[110,112],{"type":23,"value":111},"\n  ",{"type":17,"tag":113,"props":114,"children":117},"img",{"className":115,"src":12},[116],"mx-auto",[],{"type":17,"tag":119,"props":120,"children":125},"figcaption",{"className":121},[59,122,123,124],"text-sm","text-neutral-600","dark:text-neutral-400",[126],{"type":23,"value":127},"\n    The Block diagram of PID Controller\n",{"type":17,"tag":18,"props":129,"children":131},{"id":130},"response-time",[132],{"type":23,"value":133},"Response Time",{"type":17,"tag":103,"props":135,"children":137},{"className":136},[106,107,108],[138,139],{"type":23,"value":111},{"type":17,"tag":113,"props":140,"children":143},{"className":141,"src":142},[116],"/topics/robotics/nmpc/response_timepid.png",[],{"type":17,"tag":119,"props":145,"children":147},{"className":146},[59,122,123,124],[148],{"type":23,"value":149},"\n    The response time of the system with each K_P, K_I, K_D\n",{"type":17,"tag":26,"props":151,"children":152},{},[153],{"type":23,"value":154},"As you can see in the figure above, the response time of the system is difference.",{"type":17,"tag":62,"props":156,"children":157},{},[158,169,179],{"type":17,"tag":66,"props":159,"children":160},{},[161,163,167],{"type":23,"value":162},"The response time with ",{"type":17,"tag":32,"props":164,"children":166},{"latex-express":165,"styles":35},"K_{I}=2",[],{"type":23,"value":168}," the system is likely to overshoot before reaching the steady-state, which may not be suitable for applications like controlling a DC motor.",{"type":17,"tag":66,"props":170,"children":171},{},[172,173,177],{"type":23,"value":162},{"type":17,"tag":32,"props":174,"children":176},{"latex-express":175,"styles":35},"K_{i}=0.5, ",[],{"type":23,"value":178},"  the response does not overshoot but has a slower response to reach the steady-state.",{"type":17,"tag":66,"props":180,"children":181},{},[182,183,187],{"type":23,"value":162},{"type":17,"tag":32,"props":184,"children":186},{"latex-express":185,"styles":35},"K_{p}=1, K_{i}=1, K_{d}=1",[],{"type":23,"value":188},"  there is a slight overshoot, but the steady-state is reached faster.",{"type":17,"tag":18,"props":190,"children":192},{"id":191},"how-can-we-write-pid-code-in-python",[193],{"type":23,"value":194},"How can we write PID code in Python ?",{"type":17,"tag":26,"props":196,"children":197},{},[198],{"type":23,"value":199},"Let's use a differential drive robot as a case study system. A differential drive robot is commonly used in robotics and automation, making it an ideal choice for a demonstration.",{"type":17,"tag":26,"props":201,"children":202},{},[203],{"type":23,"value":204},"The configuration of Differential Drive Robot in axes OXY.",{"type":17,"tag":103,"props":206,"children":208},{"className":207},[106,107,108],[209,210],{"type":23,"value":111},{"type":17,"tag":113,"props":211,"children":214},{"className":212,"src":213},[116],"/topics/robotics/nmpc/diff_drive.png",[],{"type":17,"tag":119,"props":216,"children":218},{"className":217},[59,122,123,124],[219],{"type":23,"value":220},"\n    The configuration of Differential Drive Robot in axes OXY.\n",{"type":17,"tag":26,"props":222,"children":223},{},[224],{"type":23,"value":225},"The forward kinematic equation",{"type":17,"tag":32,"props":227,"children":229},{"latex-express":228,"styles":59},"\n\\begin{bmatrix} v_{x} \\\\ v_{y} \\\\ v_{\\theta} \\end{bmatrix} = \\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{\\theta} \\\\ \\omega \\end{bmatrix}\n ",[],{"type":17,"tag":26,"props":231,"children":232},{},[233],{"type":23,"value":234},"So, if we discretize the forward kinematic with a certain sampling time, we will get",{"type":17,"tag":32,"props":236,"children":238},{"latex-express":237,"styles":59},"\n\\begin{bmatrix} x_{t+1} \\\\ y_{t+1} \\\\ \\theta_{t+1} \\end{bmatrix} = \\begin{bmatrix} x_{t} \\\\ y_{t} \\\\ \\theta_{t} \\end{bmatrix} +\\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{(\\theta)} \\\\ \\omega \\end{bmatrix} \\times \\Delta t\n ",[],{"type":17,"tag":26,"props":240,"children":241},{},[242],{"type":23,"value":243},"In Python,",{"type":17,"tag":245,"props":246,"children":251},"code",{"className":247,"code":249,"language":250,"meta":7},[248],"language-python","class DifferentialDrive:\n    def __init__(self):\n        self.r = 0.05\n        self.L = 0.25\n    def forward_kinematic(self, v, omega, yaw):\n        vx = v*np.cos(yaw)\n        vy = v*np.sin(yaw)\n        vyaw = omega\n\n        return vx, vy, vyaw\n    def discrete_state(self, x, y, yaw, v, omega, dt):\n        dx, dy, dyaw = self.forward_kinematic(v, omega, yaw)\n        x_next = x + dx * dt\n        y_next = y + dy * dt\n        yaw_next = yaw + dyaw * dt\n\n        return x_next, y_next, yaw_next\n","python",[252],{"type":17,"tag":253,"props":254,"children":255},"pre",{},[256],{"type":17,"tag":245,"props":257,"children":258},{"__ignoreMap":7},[259,288,317,350,380,406,434,460,478,487,505,531,557,594,629,664,672],{"type":17,"tag":260,"props":261,"children":264},"span",{"class":262,"line":263},"line",1,[265,271,277,283],{"type":17,"tag":260,"props":266,"children":268},{"class":267},"ct-857441",[269],{"type":23,"value":270},"class",{"type":17,"tag":260,"props":272,"children":274},{"class":273},"ct-767297",[275],{"type":23,"value":276}," ",{"type":17,"tag":260,"props":278,"children":280},{"class":279},"ct-806137",[281],{"type":23,"value":282},"DifferentialDrive",{"type":17,"tag":260,"props":284,"children":285},{"class":273},[286],{"type":23,"value":287},":\n",{"type":17,"tag":260,"props":289,"children":291},{"class":262,"line":290},2,[292,297,302,306,312],{"type":17,"tag":260,"props":293,"children":294},{"class":273},[295],{"type":23,"value":296},"    ",{"type":17,"tag":260,"props":298,"children":299},{"class":267},[300],{"type":23,"value":301},"def",{"type":17,"tag":260,"props":303,"children":304},{"class":273},[305],{"type":23,"value":276},{"type":17,"tag":260,"props":307,"children":309},{"class":308},"ct-533739",[310],{"type":23,"value":311},"__init__",{"type":17,"tag":260,"props":313,"children":314},{"class":273},[315],{"type":23,"value":316},"(self):\n",{"type":17,"tag":260,"props":318,"children":320},{"class":262,"line":319},3,[321,326,331,336,341,345],{"type":17,"tag":260,"props":322,"children":323},{"class":273},[324],{"type":23,"value":325},"        ",{"type":17,"tag":260,"props":327,"children":328},{"class":308},[329],{"type":23,"value":330},"self",{"type":17,"tag":260,"props":332,"children":333},{"class":273},[334],{"type":23,"value":335},".r ",{"type":17,"tag":260,"props":337,"children":338},{"class":267},[339],{"type":23,"value":340},"=",{"type":17,"tag":260,"props":342,"children":343},{"class":273},[344],{"type":23,"value":276},{"type":17,"tag":260,"props":346,"children":347},{"class":308},[348],{"type":23,"value":349},"0.05\n",{"type":17,"tag":260,"props":351,"children":353},{"class":262,"line":352},4,[354,358,362,367,371,375],{"type":17,"tag":260,"props":355,"children":356},{"class":273},[357],{"type":23,"value":325},{"type":17,"tag":260,"props":359,"children":360},{"class":308},[361],{"type":23,"value":330},{"type":17,"tag":260,"props":363,"children":364},{"class":273},[365],{"type":23,"value":366},".L ",{"type":17,"tag":260,"props":368,"children":369},{"class":267},[370],{"type":23,"value":340},{"type":17,"tag":260,"props":372,"children":373},{"class":273},[374],{"type":23,"value":276},{"type":17,"tag":260,"props":376,"children":377},{"class":308},[378],{"type":23,"value":379},"0.25\n",{"type":17,"tag":260,"props":381,"children":383},{"class":262,"line":382},5,[384,388,392,396,401],{"type":17,"tag":260,"props":385,"children":386},{"class":273},[387],{"type":23,"value":296},{"type":17,"tag":260,"props":389,"children":390},{"class":267},[391],{"type":23,"value":301},{"type":17,"tag":260,"props":393,"children":394},{"class":273},[395],{"type":23,"value":276},{"type":17,"tag":260,"props":397,"children":398},{"class":279},[399],{"type":23,"value":400},"forward_kinematic",{"type":17,"tag":260,"props":402,"children":403},{"class":273},[404],{"type":23,"value":405},"(self, v, omega, yaw):\n",{"type":17,"tag":260,"props":407,"children":409},{"class":262,"line":408},6,[410,415,419,424,429],{"type":17,"tag":260,"props":411,"children":412},{"class":273},[413],{"type":23,"value":414},"        vx ",{"type":17,"tag":260,"props":416,"children":417},{"class":267},[418],{"type":23,"value":340},{"type":17,"tag":260,"props":420,"children":421},{"class":273},[422],{"type":23,"value":423}," v",{"type":17,"tag":260,"props":425,"children":426},{"class":267},[427],{"type":23,"value":428},"*",{"type":17,"tag":260,"props":430,"children":431},{"class":273},[432],{"type":23,"value":433},"np.cos(yaw)\n",{"type":17,"tag":260,"props":435,"children":437},{"class":262,"line":436},7,[438,443,447,451,455],{"type":17,"tag":260,"props":439,"children":440},{"class":273},[441],{"type":23,"value":442},"        vy ",{"type":17,"tag":260,"props":444,"children":445},{"class":267},[446],{"type":23,"value":340},{"type":17,"tag":260,"props":448,"children":449},{"class":273},[450],{"type":23,"value":423},{"type":17,"tag":260,"props":452,"children":453},{"class":267},[454],{"type":23,"value":428},{"type":17,"tag":260,"props":456,"children":457},{"class":273},[458],{"type":23,"value":459},"np.sin(yaw)\n",{"type":17,"tag":260,"props":461,"children":463},{"class":262,"line":462},8,[464,469,473],{"type":17,"tag":260,"props":465,"children":466},{"class":273},[467],{"type":23,"value":468},"        vyaw ",{"type":17,"tag":260,"props":470,"children":471},{"class":267},[472],{"type":23,"value":340},{"type":17,"tag":260,"props":474,"children":475},{"class":273},[476],{"type":23,"value":477}," omega\n",{"type":17,"tag":260,"props":479,"children":481},{"class":262,"line":480},9,[482],{"type":17,"tag":260,"props":483,"children":484},{},[485],{"type":23,"value":486},"\n",{"type":17,"tag":260,"props":488,"children":490},{"class":262,"line":489},10,[491,495,500],{"type":17,"tag":260,"props":492,"children":493},{"class":273},[494],{"type":23,"value":325},{"type":17,"tag":260,"props":496,"children":497},{"class":267},[498],{"type":23,"value":499},"return",{"type":17,"tag":260,"props":501,"children":502},{"class":273},[503],{"type":23,"value":504}," vx, vy, vyaw\n",{"type":17,"tag":260,"props":506,"children":508},{"class":262,"line":507},11,[509,513,517,521,526],{"type":17,"tag":260,"props":510,"children":511},{"class":273},[512],{"type":23,"value":296},{"type":17,"tag":260,"props":514,"children":515},{"class":267},[516],{"type":23,"value":301},{"type":17,"tag":260,"props":518,"children":519},{"class":273},[520],{"type":23,"value":276},{"type":17,"tag":260,"props":522,"children":523},{"class":279},[524],{"type":23,"value":525},"discrete_state",{"type":17,"tag":260,"props":527,"children":528},{"class":273},[529],{"type":23,"value":530},"(self, x, y, yaw, v, omega, dt):\n",{"type":17,"tag":260,"props":532,"children":534},{"class":262,"line":533},12,[535,540,544,548,552],{"type":17,"tag":260,"props":536,"children":537},{"class":273},[538],{"type":23,"value":539},"        dx, dy, dyaw ",{"type":17,"tag":260,"props":541,"children":542},{"class":267},[543],{"type":23,"value":340},{"type":17,"tag":260,"props":545,"children":546},{"class":273},[547],{"type":23,"value":276},{"type":17,"tag":260,"props":549,"children":550},{"class":308},[551],{"type":23,"value":330},{"type":17,"tag":260,"props":553,"children":554},{"class":273},[555],{"type":23,"value":556},".forward_kinematic(v, omega, yaw)\n",{"type":17,"tag":260,"props":558,"children":560},{"class":262,"line":559},13,[561,566,570,575,580,585,589],{"type":17,"tag":260,"props":562,"children":563},{"class":273},[564],{"type":23,"value":565},"        x_next ",{"type":17,"tag":260,"props":567,"children":568},{"class":267},[569],{"type":23,"value":340},{"type":17,"tag":260,"props":571,"children":572},{"class":273},[573],{"type":23,"value":574}," x ",{"type":17,"tag":260,"props":576,"children":577},{"class":267},[578],{"type":23,"value":579},"+",{"type":17,"tag":260,"props":581,"children":582},{"class":273},[583],{"type":23,"value":584}," dx ",{"type":17,"tag":260,"props":586,"children":587},{"class":267},[588],{"type":23,"value":428},{"type":17,"tag":260,"props":590,"children":591},{"class":273},[592],{"type":23,"value":593}," dt\n",{"type":17,"tag":260,"props":595,"children":597},{"class":262,"line":596},14,[598,603,607,612,616,621,625],{"type":17,"tag":260,"props":599,"children":600},{"class":273},[601],{"type":23,"value":602},"        y_next ",{"type":17,"tag":260,"props":604,"children":605},{"class":267},[606],{"type":23,"value":340},{"type":17,"tag":260,"props":608,"children":609},{"class":273},[610],{"type":23,"value":611}," y ",{"type":17,"tag":260,"props":613,"children":614},{"class":267},[615],{"type":23,"value":579},{"type":17,"tag":260,"props":617,"children":618},{"class":273},[619],{"type":23,"value":620}," dy ",{"type":17,"tag":260,"props":622,"children":623},{"class":267},[624],{"type":23,"value":428},{"type":17,"tag":260,"props":626,"children":627},{"class":273},[628],{"type":23,"value":593},{"type":17,"tag":260,"props":630,"children":632},{"class":262,"line":631},15,[633,638,642,647,651,656,660],{"type":17,"tag":260,"props":634,"children":635},{"class":273},[636],{"type":23,"value":637},"        yaw_next ",{"type":17,"tag":260,"props":639,"children":640},{"class":267},[641],{"type":23,"value":340},{"type":17,"tag":260,"props":643,"children":644},{"class":273},[645],{"type":23,"value":646}," yaw ",{"type":17,"tag":260,"props":648,"children":649},{"class":267},[650],{"type":23,"value":579},{"type":17,"tag":260,"props":652,"children":653},{"class":273},[654],{"type":23,"value":655}," dyaw ",{"type":17,"tag":260,"props":657,"children":658},{"class":267},[659],{"type":23,"value":428},{"type":17,"tag":260,"props":661,"children":662},{"class":273},[663],{"type":23,"value":593},{"type":17,"tag":260,"props":665,"children":667},{"class":262,"line":666},16,[668],{"type":17,"tag":260,"props":669,"children":670},{},[671],{"type":23,"value":486},{"type":17,"tag":260,"props":673,"children":675},{"class":262,"line":674},17,[676,680,684],{"type":17,"tag":260,"props":677,"children":678},{"class":273},[679],{"type":23,"value":325},{"type":17,"tag":260,"props":681,"children":682},{"class":267},[683],{"type":23,"value":499},{"type":17,"tag":260,"props":685,"children":686},{"class":273},[687],{"type":23,"value":688}," x_next, y_next, yaw_next",{"type":17,"tag":26,"props":690,"children":691},{},[692,694,700,702,707],{"type":23,"value":693},"The ",{"type":17,"tag":695,"props":696,"children":697},"strong",{},[698],{"type":23,"value":699}," DifferentialDrive ",{"type":23,"value":701}," class that we defined, has all the need attribute to use for PID control !!. We just need to write another class for our ",{"type":17,"tag":695,"props":703,"children":704},{},[705],{"type":23,"value":706}," PID Controller ",{"type":23,"value":38},{"type":17,"tag":245,"props":709,"children":712},{"className":710,"code":711,"language":250,"meta":7},[248],"class PIDController:\n    def __init__(self, kp, ki, kd, dt):\n\n        self.kp = kp\n        self.ki = ki\n        self.kd = kd\n        self.dt = dt\n        self.integral = 0\n\n    def calculate_pid(self, errors):\n        # Calculate proportional error\n        proportional = self.kp * errors[-1]\n        # Calculate integration error\n        integral = self.integral + self.ki * (errors[-1]) * self.dt\n        self.integral = integral\n        # Calculate derivative error\n        derivative = self.kd * (errors[-1] - errors[-2])/self.dt\n\n        output = proportional + integral + derivative\n\n        return output\n",[713],{"type":17,"tag":253,"props":714,"children":715},{},[716],{"type":17,"tag":245,"props":717,"children":718},{"__ignoreMap":7},[719,739,763,770,795,820,845,869,898,905,930,943,991,1003,1082,1106,1118,1198,1206,1242,1250],{"type":17,"tag":260,"props":720,"children":721},{"class":262,"line":263},[722,726,730,735],{"type":17,"tag":260,"props":723,"children":724},{"class":267},[725],{"type":23,"value":270},{"type":17,"tag":260,"props":727,"children":728},{"class":273},[729],{"type":23,"value":276},{"type":17,"tag":260,"props":731,"children":732},{"class":279},[733],{"type":23,"value":734},"PIDController",{"type":17,"tag":260,"props":736,"children":737},{"class":273},[738],{"type":23,"value":287},{"type":17,"tag":260,"props":740,"children":741},{"class":262,"line":290},[742,746,750,754,758],{"type":17,"tag":260,"props":743,"children":744},{"class":273},[745],{"type":23,"value":296},{"type":17,"tag":260,"props":747,"children":748},{"class":267},[749],{"type":23,"value":301},{"type":17,"tag":260,"props":751,"children":752},{"class":273},[753],{"type":23,"value":276},{"type":17,"tag":260,"props":755,"children":756},{"class":308},[757],{"type":23,"value":311},{"type":17,"tag":260,"props":759,"children":760},{"class":273},[761],{"type":23,"value":762},"(self, kp, ki, kd, dt):\n",{"type":17,"tag":260,"props":764,"children":765},{"class":262,"line":319},[766],{"type":17,"tag":260,"props":767,"children":768},{},[769],{"type":23,"value":486},{"type":17,"tag":260,"props":771,"children":772},{"class":262,"line":352},[773,777,781,786,790],{"type":17,"tag":260,"props":774,"children":775},{"class":273},[776],{"type":23,"value":325},{"type":17,"tag":260,"props":778,"children":779},{"class":308},[780],{"type":23,"value":330},{"type":17,"tag":260,"props":782,"children":783},{"class":273},[784],{"type":23,"value":785},".kp ",{"type":17,"tag":260,"props":787,"children":788},{"class":267},[789],{"type":23,"value":340},{"type":17,"tag":260,"props":791,"children":792},{"class":273},[793],{"type":23,"value":794}," kp\n",{"type":17,"tag":260,"props":796,"children":797},{"class":262,"line":382},[798,802,806,811,815],{"type":17,"tag":260,"props":799,"children":800},{"class":273},[801],{"type":23,"value":325},{"type":17,"tag":260,"props":803,"children":804},{"class":308},[805],{"type":23,"value":330},{"type":17,"tag":260,"props":807,"children":808},{"class":273},[809],{"type":23,"value":810},".ki ",{"type":17,"tag":260,"props":812,"children":813},{"class":267},[814],{"type":23,"value":340},{"type":17,"tag":260,"props":816,"children":817},{"class":273},[818],{"type":23,"value":819}," ki\n",{"type":17,"tag":260,"props":821,"children":822},{"class":262,"line":408},[823,827,831,836,840],{"type":17,"tag":260,"props":824,"children":825},{"class":273},[826],{"type":23,"value":325},{"type":17,"tag":260,"props":828,"children":829},{"class":308},[830],{"type":23,"value":330},{"type":17,"tag":260,"props":832,"children":833},{"class":273},[834],{"type":23,"value":835},".kd ",{"type":17,"tag":260,"props":837,"children":838},{"class":267},[839],{"type":23,"value":340},{"type":17,"tag":260,"props":841,"children":842},{"class":273},[843],{"type":23,"value":844}," kd\n",{"type":17,"tag":260,"props":846,"children":847},{"class":262,"line":436},[848,852,856,861,865],{"type":17,"tag":260,"props":849,"children":850},{"class":273},[851],{"type":23,"value":325},{"type":17,"tag":260,"props":853,"children":854},{"class":308},[855],{"type":23,"value":330},{"type":17,"tag":260,"props":857,"children":858},{"class":273},[859],{"type":23,"value":860},".dt ",{"type":17,"tag":260,"props":862,"children":863},{"class":267},[864],{"type":23,"value":340},{"type":17,"tag":260,"props":866,"children":867},{"class":273},[868],{"type":23,"value":593},{"type":17,"tag":260,"props":870,"children":871},{"class":262,"line":462},[872,876,880,885,889,893],{"type":17,"tag":260,"props":873,"children":874},{"class":273},[875],{"type":23,"value":325},{"type":17,"tag":260,"props":877,"children":878},{"class":308},[879],{"type":23,"value":330},{"type":17,"tag":260,"props":881,"children":882},{"class":273},[883],{"type":23,"value":884},".integral ",{"type":17,"tag":260,"props":886,"children":887},{"class":267},[888],{"type":23,"value":340},{"type":17,"tag":260,"props":890,"children":891},{"class":273},[892],{"type":23,"value":276},{"type":17,"tag":260,"props":894,"children":895},{"class":308},[896],{"type":23,"value":897},"0\n",{"type":17,"tag":260,"props":899,"children":900},{"class":262,"line":480},[901],{"type":17,"tag":260,"props":902,"children":903},{},[904],{"type":23,"value":486},{"type":17,"tag":260,"props":906,"children":907},{"class":262,"line":489},[908,912,916,920,925],{"type":17,"tag":260,"props":909,"children":910},{"class":273},[911],{"type":23,"value":296},{"type":17,"tag":260,"props":913,"children":914},{"class":267},[915],{"type":23,"value":301},{"type":17,"tag":260,"props":917,"children":918},{"class":273},[919],{"type":23,"value":276},{"type":17,"tag":260,"props":921,"children":922},{"class":279},[923],{"type":23,"value":924},"calculate_pid",{"type":17,"tag":260,"props":926,"children":927},{"class":273},[928],{"type":23,"value":929},"(self, errors):\n",{"type":17,"tag":260,"props":931,"children":932},{"class":262,"line":507},[933,937],{"type":17,"tag":260,"props":934,"children":935},{"class":273},[936],{"type":23,"value":325},{"type":17,"tag":260,"props":938,"children":940},{"class":939},"ct-326375",[941],{"type":23,"value":942},"# Calculate proportional error\n",{"type":17,"tag":260,"props":944,"children":945},{"class":262,"line":533},[946,951,955,959,963,967,971,976,981,986],{"type":17,"tag":260,"props":947,"children":948},{"class":273},[949],{"type":23,"value":950},"        proportional ",{"type":17,"tag":260,"props":952,"children":953},{"class":267},[954],{"type":23,"value":340},{"type":17,"tag":260,"props":956,"children":957},{"class":273},[958],{"type":23,"value":276},{"type":17,"tag":260,"props":960,"children":961},{"class":308},[962],{"type":23,"value":330},{"type":17,"tag":260,"props":964,"children":965},{"class":273},[966],{"type":23,"value":785},{"type":17,"tag":260,"props":968,"children":969},{"class":267},[970],{"type":23,"value":428},{"type":17,"tag":260,"props":972,"children":973},{"class":273},[974],{"type":23,"value":975}," errors[",{"type":17,"tag":260,"props":977,"children":978},{"class":267},[979],{"type":23,"value":980},"-",{"type":17,"tag":260,"props":982,"children":983},{"class":308},[984],{"type":23,"value":985},"1",{"type":17,"tag":260,"props":987,"children":988},{"class":273},[989],{"type":23,"value":990},"]\n",{"type":17,"tag":260,"props":992,"children":993},{"class":262,"line":559},[994,998],{"type":17,"tag":260,"props":995,"children":996},{"class":273},[997],{"type":23,"value":325},{"type":17,"tag":260,"props":999,"children":1000},{"class":939},[1001],{"type":23,"value":1002},"# Calculate integration error\n",{"type":17,"tag":260,"props":1004,"children":1005},{"class":262,"line":596},[1006,1011,1015,1019,1023,1027,1031,1035,1039,1043,1047,1052,1056,1060,1065,1069,1073,1077],{"type":17,"tag":260,"props":1007,"children":1008},{"class":273},[1009],{"type":23,"value":1010},"        integral ",{"type":17,"tag":260,"props":1012,"children":1013},{"class":267},[1014],{"type":23,"value":340},{"type":17,"tag":260,"props":1016,"children":1017},{"class":273},[1018],{"type":23,"value":276},{"type":17,"tag":260,"props":1020,"children":1021},{"class":308},[1022],{"type":23,"value":330},{"type":17,"tag":260,"props":1024,"children":1025},{"class":273},[1026],{"type":23,"value":884},{"type":17,"tag":260,"props":1028,"children":1029},{"class":267},[1030],{"type":23,"value":579},{"type":17,"tag":260,"props":1032,"children":1033},{"class":273},[1034],{"type":23,"value":276},{"type":17,"tag":260,"props":1036,"children":1037},{"class":308},[1038],{"type":23,"value":330},{"type":17,"tag":260,"props":1040,"children":1041},{"class":273},[1042],{"type":23,"value":810},{"type":17,"tag":260,"props":1044,"children":1045},{"class":267},[1046],{"type":23,"value":428},{"type":17,"tag":260,"props":1048,"children":1049},{"class":273},[1050],{"type":23,"value":1051}," (errors[",{"type":17,"tag":260,"props":1053,"children":1054},{"class":267},[1055],{"type":23,"value":980},{"type":17,"tag":260,"props":1057,"children":1058},{"class":308},[1059],{"type":23,"value":985},{"type":17,"tag":260,"props":1061,"children":1062},{"class":273},[1063],{"type":23,"value":1064},"]) ",{"type":17,"tag":260,"props":1066,"children":1067},{"class":267},[1068],{"type":23,"value":428},{"type":17,"tag":260,"props":1070,"children":1071},{"class":273},[1072],{"type":23,"value":276},{"type":17,"tag":260,"props":1074,"children":1075},{"class":308},[1076],{"type":23,"value":330},{"type":17,"tag":260,"props":1078,"children":1079},{"class":273},[1080],{"type":23,"value":1081},".dt\n",{"type":17,"tag":260,"props":1083,"children":1084},{"class":262,"line":631},[1085,1089,1093,1097,1101],{"type":17,"tag":260,"props":1086,"children":1087},{"class":273},[1088],{"type":23,"value":325},{"type":17,"tag":260,"props":1090,"children":1091},{"class":308},[1092],{"type":23,"value":330},{"type":17,"tag":260,"props":1094,"children":1095},{"class":273},[1096],{"type":23,"value":884},{"type":17,"tag":260,"props":1098,"children":1099},{"class":267},[1100],{"type":23,"value":340},{"type":17,"tag":260,"props":1102,"children":1103},{"class":273},[1104],{"type":23,"value":1105}," integral\n",{"type":17,"tag":260,"props":1107,"children":1108},{"class":262,"line":666},[1109,1113],{"type":17,"tag":260,"props":1110,"children":1111},{"class":273},[1112],{"type":23,"value":325},{"type":17,"tag":260,"props":1114,"children":1115},{"class":939},[1116],{"type":23,"value":1117},"# Calculate derivative error\n",{"type":17,"tag":260,"props":1119,"children":1120},{"class":262,"line":674},[1121,1126,1130,1134,1138,1142,1146,1150,1154,1158,1163,1167,1171,1175,1180,1185,1190,1194],{"type":17,"tag":260,"props":1122,"children":1123},{"class":273},[1124],{"type":23,"value":1125},"        derivative ",{"type":17,"tag":260,"props":1127,"children":1128},{"class":267},[1129],{"type":23,"value":340},{"type":17,"tag":260,"props":1131,"children":1132},{"class":273},[1133],{"type":23,"value":276},{"type":17,"tag":260,"props":1135,"children":1136},{"class":308},[1137],{"type":23,"value":330},{"type":17,"tag":260,"props":1139,"children":1140},{"class":273},[1141],{"type":23,"value":835},{"type":17,"tag":260,"props":1143,"children":1144},{"class":267},[1145],{"type":23,"value":428},{"type":17,"tag":260,"props":1147,"children":1148},{"class":273},[1149],{"type":23,"value":1051},{"type":17,"tag":260,"props":1151,"children":1152},{"class":267},[1153],{"type":23,"value":980},{"type":17,"tag":260,"props":1155,"children":1156},{"class":308},[1157],{"type":23,"value":985},{"type":17,"tag":260,"props":1159,"children":1160},{"class":273},[1161],{"type":23,"value":1162},"] ",{"type":17,"tag":260,"props":1164,"children":1165},{"class":267},[1166],{"type":23,"value":980},{"type":17,"tag":260,"props":1168,"children":1169},{"class":273},[1170],{"type":23,"value":975},{"type":17,"tag":260,"props":1172,"children":1173},{"class":267},[1174],{"type":23,"value":980},{"type":17,"tag":260,"props":1176,"children":1177},{"class":308},[1178],{"type":23,"value":1179},"2",{"type":17,"tag":260,"props":1181,"children":1182},{"class":273},[1183],{"type":23,"value":1184},"])",{"type":17,"tag":260,"props":1186,"children":1187},{"class":267},[1188],{"type":23,"value":1189},"/",{"type":17,"tag":260,"props":1191,"children":1192},{"class":308},[1193],{"type":23,"value":330},{"type":17,"tag":260,"props":1195,"children":1196},{"class":273},[1197],{"type":23,"value":1081},{"type":17,"tag":260,"props":1199,"children":1201},{"class":262,"line":1200},18,[1202],{"type":17,"tag":260,"props":1203,"children":1204},{},[1205],{"type":23,"value":486},{"type":17,"tag":260,"props":1207,"children":1209},{"class":262,"line":1208},19,[1210,1215,1219,1224,1228,1233,1237],{"type":17,"tag":260,"props":1211,"children":1212},{"class":273},[1213],{"type":23,"value":1214},"        output ",{"type":17,"tag":260,"props":1216,"children":1217},{"class":267},[1218],{"type":23,"value":340},{"type":17,"tag":260,"props":1220,"children":1221},{"class":273},[1222],{"type":23,"value":1223}," proportional ",{"type":17,"tag":260,"props":1225,"children":1226},{"class":267},[1227],{"type":23,"value":579},{"type":17,"tag":260,"props":1229,"children":1230},{"class":273},[1231],{"type":23,"value":1232}," integral ",{"type":17,"tag":260,"props":1234,"children":1235},{"class":267},[1236],{"type":23,"value":579},{"type":17,"tag":260,"props":1238,"children":1239},{"class":273},[1240],{"type":23,"value":1241}," derivative\n",{"type":17,"tag":260,"props":1243,"children":1245},{"class":262,"line":1244},20,[1246],{"type":17,"tag":260,"props":1247,"children":1248},{},[1249],{"type":23,"value":486},{"type":17,"tag":260,"props":1251,"children":1253},{"class":262,"line":1252},21,[1254,1258,1262],{"type":17,"tag":260,"props":1255,"children":1256},{"class":273},[1257],{"type":23,"value":325},{"type":17,"tag":260,"props":1259,"children":1260},{"class":267},[1261],{"type":23,"value":499},{"type":17,"tag":260,"props":1263,"children":1264},{"class":273},[1265],{"type":23,"value":1266}," output",{"type":17,"tag":26,"props":1268,"children":1269},{},[1270],{"type":23,"value":1271},"Don't worry, this class just defined as the PID formula. So, by doing this, we will be able to use all the characteristic of our PID controller.",{"type":17,"tag":18,"props":1273,"children":1275},{"id":1274},"experiment",[1276],{"type":23,"value":1277},"Experiment",{"type":17,"tag":1279,"props":1280,"children":1282},"h3",{"id":1281},"pid-for-point-control",[1283],{"type":23,"value":1284},"PID for point control",{"type":17,"tag":26,"props":1286,"children":1287},{},[1288,1290,1294,1296,1302],{"type":23,"value":1289},"If I want my DifferentialDrive robot go to point ",{"type":17,"tag":32,"props":1291,"children":1293},{"latex-express":1292,"styles":35},"x_{ref}, y_{ref}, \\theta_{ref}",[],{"type":23,"value":1295},", Then I can calculate the error between the reference point and the feedback position of the robot. I simulated my robot in the  ",{"type":17,"tag":1297,"props":1298,"children":1299},"code-inline",{},[1300],{"type":23,"value":1301},"for loop",{"type":23,"value":1303}," and calculate this error recursively.",{"type":17,"tag":245,"props":1305,"children":1308},{"className":1306,"code":1307,"language":250,"meta":7},[248],"error_x.append(ref_path[0]-current_x)\nerror_y.append(ref_path[1]-current_y)\nerror_yaw.append(ref_path[2]-current_yaw)\n",[1309],{"type":17,"tag":253,"props":1310,"children":1311},{},[1312],{"type":17,"tag":245,"props":1313,"children":1314},{"__ignoreMap":7},[1315,1342,1367],{"type":17,"tag":260,"props":1316,"children":1317},{"class":262,"line":263},[1318,1323,1328,1333,1337],{"type":17,"tag":260,"props":1319,"children":1320},{"class":273},[1321],{"type":23,"value":1322},"error_x.append(ref_path[",{"type":17,"tag":260,"props":1324,"children":1325},{"class":308},[1326],{"type":23,"value":1327},"0",{"type":17,"tag":260,"props":1329,"children":1330},{"class":273},[1331],{"type":23,"value":1332},"]",{"type":17,"tag":260,"props":1334,"children":1335},{"class":267},[1336],{"type":23,"value":980},{"type":17,"tag":260,"props":1338,"children":1339},{"class":273},[1340],{"type":23,"value":1341},"current_x)\n",{"type":17,"tag":260,"props":1343,"children":1344},{"class":262,"line":290},[1345,1350,1354,1358,1362],{"type":17,"tag":260,"props":1346,"children":1347},{"class":273},[1348],{"type":23,"value":1349},"error_y.append(ref_path[",{"type":17,"tag":260,"props":1351,"children":1352},{"class":308},[1353],{"type":23,"value":985},{"type":17,"tag":260,"props":1355,"children":1356},{"class":273},[1357],{"type":23,"value":1332},{"type":17,"tag":260,"props":1359,"children":1360},{"class":267},[1361],{"type":23,"value":980},{"type":17,"tag":260,"props":1363,"children":1364},{"class":273},[1365],{"type":23,"value":1366},"current_y)\n",{"type":17,"tag":260,"props":1368,"children":1369},{"class":262,"line":319},[1370,1375,1379,1383,1387],{"type":17,"tag":260,"props":1371,"children":1372},{"class":273},[1373],{"type":23,"value":1374},"error_yaw.append(ref_path[",{"type":17,"tag":260,"props":1376,"children":1377},{"class":308},[1378],{"type":23,"value":1179},{"type":17,"tag":260,"props":1380,"children":1381},{"class":273},[1382],{"type":23,"value":1332},{"type":17,"tag":260,"props":1384,"children":1385},{"class":267},[1386],{"type":23,"value":980},{"type":17,"tag":260,"props":1388,"children":1389},{"class":273},[1390],{"type":23,"value":1391},"current_yaw)",{"type":17,"tag":26,"props":1393,"children":1394},{},[1395],{"type":23,"value":1396},"Then, let's apply PID",{"type":17,"tag":245,"props":1398,"children":1401},{"className":1399,"code":1400,"language":250,"meta":7},[248],"output_vx = pid_controller_x.calculate_pid(error_x)\noutput_vy = pid_controller_y.calculate_pid(error_y)\noutput_omega = pid_controller_yaw.calculate_pid(error_yaw)\n",[1402],{"type":17,"tag":253,"props":1403,"children":1404},{},[1405],{"type":17,"tag":245,"props":1406,"children":1407},{"__ignoreMap":7},[1408,1425,1442],{"type":17,"tag":260,"props":1409,"children":1410},{"class":262,"line":263},[1411,1416,1420],{"type":17,"tag":260,"props":1412,"children":1413},{"class":273},[1414],{"type":23,"value":1415},"output_vx ",{"type":17,"tag":260,"props":1417,"children":1418},{"class":267},[1419],{"type":23,"value":340},{"type":17,"tag":260,"props":1421,"children":1422},{"class":273},[1423],{"type":23,"value":1424}," pid_controller_x.calculate_pid(error_x)\n",{"type":17,"tag":260,"props":1426,"children":1427},{"class":262,"line":290},[1428,1433,1437],{"type":17,"tag":260,"props":1429,"children":1430},{"class":273},[1431],{"type":23,"value":1432},"output_vy ",{"type":17,"tag":260,"props":1434,"children":1435},{"class":267},[1436],{"type":23,"value":340},{"type":17,"tag":260,"props":1438,"children":1439},{"class":273},[1440],{"type":23,"value":1441}," pid_controller_y.calculate_pid(error_y)\n",{"type":17,"tag":260,"props":1443,"children":1444},{"class":262,"line":319},[1445,1450,1454],{"type":17,"tag":260,"props":1446,"children":1447},{"class":273},[1448],{"type":23,"value":1449},"output_omega ",{"type":17,"tag":260,"props":1451,"children":1452},{"class":267},[1453],{"type":23,"value":340},{"type":17,"tag":260,"props":1455,"children":1456},{"class":273},[1457],{"type":23,"value":1458}," pid_controller_yaw.calculate_pid(error_yaw)",{"type":17,"tag":26,"props":1460,"children":1461},{},[1462],{"type":23,"value":1463},"We will also need to update current position of the robot with the given optimal value from the PID controller.",{"type":17,"tag":245,"props":1465,"children":1468},{"className":1466,"code":1467,"language":250,"meta":7},[248],"x_next, y_next, yaw_next = diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) # Skip for omega we only look for x, y\ncurrent_x = x_next\ncurrent_y = y_next\ncurrent_yaw = yaw_next\n",[1469],{"type":17,"tag":253,"props":1470,"children":1471},{},[1472],{"type":17,"tag":245,"props":1473,"children":1474},{"__ignoreMap":7},[1475,1497,1514,1531],{"type":17,"tag":260,"props":1476,"children":1477},{"class":262,"line":263},[1478,1483,1487,1492],{"type":17,"tag":260,"props":1479,"children":1480},{"class":273},[1481],{"type":23,"value":1482},"x_next, y_next, yaw_next ",{"type":17,"tag":260,"props":1484,"children":1485},{"class":267},[1486],{"type":23,"value":340},{"type":17,"tag":260,"props":1488,"children":1489},{"class":273},[1490],{"type":23,"value":1491}," diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) ",{"type":17,"tag":260,"props":1493,"children":1494},{"class":939},[1495],{"type":23,"value":1496},"# Skip for omega we only look for x, y\n",{"type":17,"tag":260,"props":1498,"children":1499},{"class":262,"line":290},[1500,1505,1509],{"type":17,"tag":260,"props":1501,"children":1502},{"class":273},[1503],{"type":23,"value":1504},"current_x ",{"type":17,"tag":260,"props":1506,"children":1507},{"class":267},[1508],{"type":23,"value":340},{"type":17,"tag":260,"props":1510,"children":1511},{"class":273},[1512],{"type":23,"value":1513}," x_next\n",{"type":17,"tag":260,"props":1515,"children":1516},{"class":262,"line":319},[1517,1522,1526],{"type":17,"tag":260,"props":1518,"children":1519},{"class":273},[1520],{"type":23,"value":1521},"current_y ",{"type":17,"tag":260,"props":1523,"children":1524},{"class":267},[1525],{"type":23,"value":340},{"type":17,"tag":260,"props":1527,"children":1528},{"class":273},[1529],{"type":23,"value":1530}," y_next\n",{"type":17,"tag":260,"props":1532,"children":1533},{"class":262,"line":352},[1534,1539,1543],{"type":17,"tag":260,"props":1535,"children":1536},{"class":273},[1537],{"type":23,"value":1538},"current_yaw ",{"type":17,"tag":260,"props":1540,"children":1541},{"class":267},[1542],{"type":23,"value":340},{"type":17,"tag":260,"props":1544,"children":1545},{"class":273},[1546],{"type":23,"value":1547}," yaw_next",{"type":17,"tag":26,"props":1549,"children":1550},{},[1551,1553,1558],{"type":23,"value":1552},"I use ",{"type":17,"tag":1297,"props":1554,"children":1555},{},[1556],{"type":23,"value":1557},"matplotlib",{"type":23,"value":1559}," library to simulate my robot.",{"type":17,"tag":245,"props":1561,"children":1564},{"className":1562,"code":1563,"language":250,"meta":7},[248],"plt.clf()\nplt.gcf().canvas.mpl_connect('key_release_event',\n            lambda event: [exit(0) if event.key == 'escape' else None])\nplot_arrow(current_x, current_y, current_yaw)\nplt.plot(5, 5)\nplt.plot(ref_path[0], ref_path[1], marker=\"x\", color=\"blue\", label=\"Input Trajectory\")\nplt.axis(\"equal\")\nplt.grid(True)\nplt.legend()\nplt.pause(0.0001)\n",[1565],{"type":17,"tag":253,"props":1566,"children":1567},{},[1568],{"type":17,"tag":245,"props":1569,"children":1570},{"__ignoreMap":7},[1571,1579,1598,1682,1690,1717,1798,1815,1832,1840],{"type":17,"tag":260,"props":1572,"children":1573},{"class":262,"line":263},[1574],{"type":17,"tag":260,"props":1575,"children":1576},{"class":273},[1577],{"type":23,"value":1578},"plt.clf()\n",{"type":17,"tag":260,"props":1580,"children":1581},{"class":262,"line":290},[1582,1587,1593],{"type":17,"tag":260,"props":1583,"children":1584},{"class":273},[1585],{"type":23,"value":1586},"plt.gcf().canvas.mpl_connect(",{"type":17,"tag":260,"props":1588,"children":1590},{"class":1589},"ct-244866",[1591],{"type":23,"value":1592},"'key_release_event'",{"type":17,"tag":260,"props":1594,"children":1595},{"class":273},[1596],{"type":23,"value":1597},",\n",{"type":17,"tag":260,"props":1599,"children":1600},{"class":262,"line":319},[1601,1606,1611,1616,1621,1626,1630,1635,1640,1645,1650,1654,1659,1663,1668,1672,1677],{"type":17,"tag":260,"props":1602,"children":1603},{"class":273},[1604],{"type":23,"value":1605},"            ",{"type":17,"tag":260,"props":1607,"children":1608},{"class":267},[1609],{"type":23,"value":1610},"lambda",{"type":17,"tag":260,"props":1612,"children":1613},{"class":273},[1614],{"type":23,"value":1615}," event: [",{"type":17,"tag":260,"props":1617,"children":1618},{"class":308},[1619],{"type":23,"value":1620},"exit",{"type":17,"tag":260,"props":1622,"children":1623},{"class":273},[1624],{"type":23,"value":1625},"(",{"type":17,"tag":260,"props":1627,"children":1628},{"class":308},[1629],{"type":23,"value":1327},{"type":17,"tag":260,"props":1631,"children":1632},{"class":273},[1633],{"type":23,"value":1634},") ",{"type":17,"tag":260,"props":1636,"children":1637},{"class":267},[1638],{"type":23,"value":1639},"if",{"type":17,"tag":260,"props":1641,"children":1642},{"class":273},[1643],{"type":23,"value":1644}," event.key ",{"type":17,"tag":260,"props":1646,"children":1647},{"class":267},[1648],{"type":23,"value":1649},"==",{"type":17,"tag":260,"props":1651,"children":1652},{"class":273},[1653],{"type":23,"value":276},{"type":17,"tag":260,"props":1655,"children":1656},{"class":1589},[1657],{"type":23,"value":1658},"'escape'",{"type":17,"tag":260,"props":1660,"children":1661},{"class":273},[1662],{"type":23,"value":276},{"type":17,"tag":260,"props":1664,"children":1665},{"class":267},[1666],{"type":23,"value":1667},"else",{"type":17,"tag":260,"props":1669,"children":1670},{"class":273},[1671],{"type":23,"value":276},{"type":17,"tag":260,"props":1673,"children":1674},{"class":308},[1675],{"type":23,"value":1676},"None",{"type":17,"tag":260,"props":1678,"children":1679},{"class":273},[1680],{"type":23,"value":1681},"])\n",{"type":17,"tag":260,"props":1683,"children":1684},{"class":262,"line":352},[1685],{"type":17,"tag":260,"props":1686,"children":1687},{"class":273},[1688],{"type":23,"value":1689},"plot_arrow(current_x, current_y, current_yaw)\n",{"type":17,"tag":260,"props":1691,"children":1692},{"class":262,"line":382},[1693,1698,1703,1708,1712],{"type":17,"tag":260,"props":1694,"children":1695},{"class":273},[1696],{"type":23,"value":1697},"plt.plot(",{"type":17,"tag":260,"props":1699,"children":1700},{"class":308},[1701],{"type":23,"value":1702},"5",{"type":17,"tag":260,"props":1704,"children":1705},{"class":273},[1706],{"type":23,"value":1707},", ",{"type":17,"tag":260,"props":1709,"children":1710},{"class":308},[1711],{"type":23,"value":1702},{"type":17,"tag":260,"props":1713,"children":1714},{"class":273},[1715],{"type":23,"value":1716},")\n",{"type":17,"tag":260,"props":1718,"children":1719},{"class":262,"line":408},[1720,1725,1729,1734,1738,1743,1749,1753,1758,1762,1767,1771,1776,1780,1785,1789,1794],{"type":17,"tag":260,"props":1721,"children":1722},{"class":273},[1723],{"type":23,"value":1724},"plt.plot(ref_path[",{"type":17,"tag":260,"props":1726,"children":1727},{"class":308},[1728],{"type":23,"value":1327},{"type":17,"tag":260,"props":1730,"children":1731},{"class":273},[1732],{"type":23,"value":1733},"], ref_path[",{"type":17,"tag":260,"props":1735,"children":1736},{"class":308},[1737],{"type":23,"value":985},{"type":17,"tag":260,"props":1739,"children":1740},{"class":273},[1741],{"type":23,"value":1742},"], ",{"type":17,"tag":260,"props":1744,"children":1746},{"class":1745},"ct-657843",[1747],{"type":23,"value":1748},"marker",{"type":17,"tag":260,"props":1750,"children":1751},{"class":267},[1752],{"type":23,"value":340},{"type":17,"tag":260,"props":1754,"children":1755},{"class":1589},[1756],{"type":23,"value":1757},"\"x\"",{"type":17,"tag":260,"props":1759,"children":1760},{"class":273},[1761],{"type":23,"value":1707},{"type":17,"tag":260,"props":1763,"children":1764},{"class":1745},[1765],{"type":23,"value":1766},"color",{"type":17,"tag":260,"props":1768,"children":1769},{"class":267},[1770],{"type":23,"value":340},{"type":17,"tag":260,"props":1772,"children":1773},{"class":1589},[1774],{"type":23,"value":1775},"\"blue\"",{"type":17,"tag":260,"props":1777,"children":1778},{"class":273},[1779],{"type":23,"value":1707},{"type":17,"tag":260,"props":1781,"children":1782},{"class":1745},[1783],{"type":23,"value":1784},"label",{"type":17,"tag":260,"props":1786,"children":1787},{"class":267},[1788],{"type":23,"value":340},{"type":17,"tag":260,"props":1790,"children":1791},{"class":1589},[1792],{"type":23,"value":1793},"\"Input Trajectory\"",{"type":17,"tag":260,"props":1795,"children":1796},{"class":273},[1797],{"type":23,"value":1716},{"type":17,"tag":260,"props":1799,"children":1800},{"class":262,"line":436},[1801,1806,1811],{"type":17,"tag":260,"props":1802,"children":1803},{"class":273},[1804],{"type":23,"value":1805},"plt.axis(",{"type":17,"tag":260,"props":1807,"children":1808},{"class":1589},[1809],{"type":23,"value":1810},"\"equal\"",{"type":17,"tag":260,"props":1812,"children":1813},{"class":273},[1814],{"type":23,"value":1716},{"type":17,"tag":260,"props":1816,"children":1817},{"class":262,"line":462},[1818,1823,1828],{"type":17,"tag":260,"props":1819,"children":1820},{"class":273},[1821],{"type":23,"value":1822},"plt.grid(",{"type":17,"tag":260,"props":1824,"children":1825},{"class":308},[1826],{"type":23,"value":1827},"True",{"type":17,"tag":260,"props":1829,"children":1830},{"class":273},[1831],{"type":23,"value":1716},{"type":17,"tag":260,"props":1833,"children":1834},{"class":262,"line":480},[1835],{"type":17,"tag":260,"props":1836,"children":1837},{"class":273},[1838],{"type":23,"value":1839},"plt.legend()\n",{"type":17,"tag":260,"props":1841,"children":1842},{"class":262,"line":489},[1843,1848,1853],{"type":17,"tag":260,"props":1844,"children":1845},{"class":273},[1846],{"type":23,"value":1847},"plt.pause(",{"type":17,"tag":260,"props":1849,"children":1850},{"class":308},[1851],{"type":23,"value":1852},"0.0001",{"type":17,"tag":260,"props":1854,"children":1855},{"class":273},[1856],{"type":23,"value":1857},")",{"type":17,"tag":1279,"props":1859,"children":1861},{"id":1860},"path-tracking",[1862],{"type":23,"value":1863},"Path Tracking",{"type":17,"tag":26,"props":1865,"children":1866},{},[1867,1869,1874,1876,1881],{"type":23,"value":1868},"The code is all way the same. The different is that, I fit the continuous point into the robot instead of fixed goal point. I use ",{"type":17,"tag":1297,"props":1870,"children":1871},{},[1872],{"type":23,"value":1873},"BeizerCurve",{"type":23,"value":1875}," function to generate ",{"type":17,"tag":695,"props":1877,"children":1878},{},[1879],{"type":23,"value":1880}," Spline Trajectory ",{"type":23,"value":1882}," for the robot.",{"type":17,"tag":26,"props":1884,"children":1885},{},[1886,1888,1897],{"type":23,"value":1887},"The full code is published open-source on my Github. Link here ",{"type":17,"tag":1889,"props":1890,"children":1894},"a",{"href":1891,"rel":1892},"https://github.com/SokhengDin/PathTracking/tree/main/PID",[1893],"nofollow",[1895],{"type":23,"value":1896},"Github",{"type":23,"value":1898},". Hit the star for me if you like my work 🙂.",{"type":17,"tag":1279,"props":1900,"children":1902},{"id":1901},"result",[1903],{"type":23,"value":1904},"Result",{"type":17,"tag":103,"props":1906,"children":1908},{"className":1907},[106,107,108],[1909,1910],{"type":23,"value":111},{"type":17,"tag":113,"props":1911,"children":1914},{"className":1912,"src":1913},[116],"/topics/robotics/nmpc/Figure_pid_p.png",[],{"type":17,"tag":119,"props":1916,"children":1918},{"className":1917},[59,122,123,124],[1919],{"type":23,"value":1920},"\n    PID Controller with position control on Differential Drive Robot\n",{"type":17,"tag":103,"props":1922,"children":1924},{"className":1923},[106,107,108],[1925,1926],{"type":23,"value":111},{"type":17,"tag":113,"props":1927,"children":1930},{"className":1928,"src":1929},[116],"/topics/robotics/nmpc/Figure_pid_t.png",[],{"type":17,"tag":119,"props":1932,"children":1934},{"className":1933},[59,122,123,124],[1935],{"type":23,"value":1936},"\n    PID Controller with path tracking control on Differential Drive Robot\n",{"type":17,"tag":18,"props":1938,"children":1940},{"id":1939},"in-conclusion",[1941],{"type":23,"value":1942},"In Conclusion",{"type":17,"tag":26,"props":1944,"children":1945},{},[1946],{"type":23,"value":1947},"In my opinion, the PID Controller is an excellent choice for most control system applications due to its simplicity and powerful capabilities in handling complex control challenges arising from various systems.",{"type":17,"tag":18,"props":1949,"children":1951},{"id":1950},"references",[1952],{"type":23,"value":1953},"References",{"type":17,"tag":1955,"props":1956,"children":1957},"ol",{},[1958,1971,1976,1987],{"type":17,"tag":66,"props":1959,"children":1960},{},[1961,1963,1970],{"type":23,"value":1962},"BeizerCurve: ",{"type":17,"tag":1889,"props":1964,"children":1967},{"href":1965,"rel":1966},"https://en.wikipedia.org/wiki/B%C3%A9zier_curve",[1893],[1968],{"type":23,"value":1969},"https://en.wikipedia.org/wiki/Bézier_curve",{"type":23,"value":38},{"type":17,"tag":66,"props":1972,"children":1973},{},[1974],{"type":23,"value":1975},"PID Controller: Control Systems Engineering by Normal S. Nise.",{"type":17,"tag":66,"props":1977,"children":1978},{},[1979,1981],{"type":23,"value":1980},"Beizer Path : ",{"type":17,"tag":1889,"props":1982,"children":1985},{"href":1983,"rel":1984},"https://github.com/AtsushiSakai/PythonRobotics/tree/master/PathPlanning/BezierPath",[1893],[1986],{"type":23,"value":1983},{"type":17,"tag":66,"props":1988,"children":1989},{},[1990,1992],{"type":23,"value":1991},"PID Lecture : ",{"type":17,"tag":1889,"props":1993,"children":1996},{"href":1994,"rel":1995},"https://www.cds.caltech.edu/~murray/courses/cds101/fa02/caltech/astrom-ch6.pdf",[1893],[1997],{"type":23,"value":1994},{"type":17,"tag":1999,"children":2000},"style",[2001],{"type":23,"value":2002},".ct-857441{color:#F97583;}\n.ct-767297{color:#E1E4E8;}\n.ct-806137{color:#B392F0;}\n.ct-533739{color:#79B8FF;}\n.ct-326375{color:#6A737D;}\n.ct-244866{color:#9ECBFF;}\n.ct-657843{color:#FFAB70;}",{"title":7,"searchDepth":290,"depth":290,"links":2004},[2005,2006,2007,2008,2009,2010,2015,2016],{"id":20,"depth":290,"text":24},{"id":41,"depth":290,"text":44},{"id":52,"depth":290,"text":55},{"id":130,"depth":290,"text":133},{"id":191,"depth":290,"text":194},{"id":1274,"depth":290,"text":1277,"children":2011},[2012,2013,2014],{"id":1281,"depth":319,"text":1284},{"id":1860,"depth":319,"text":1863},{"id":1901,"depth":319,"text":1904},{"id":1939,"depth":290,"text":1942},{"id":1950,"depth":290,"text":1953},"markdown","content:topics:robotics:pid-controller.md","content","topics/robotics/pid-controller.md","md",1694081775225]