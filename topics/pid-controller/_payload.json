[{"data":1,"prerenderedAt":2013},["Reactive",2],{"content-/topics/pid-controller":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"author":10,"slug":11,"tag":11,"img":12,"body":13,"_type":2008,"_id":2009,"_source":2010,"_file":2011,"_extension":2012},"/topics/pid-controller","topics",false,"","Introduction to PID Controller in Python","PID Controll is a feedback controll that can be use in Control System","DIN SOKHENG","pid","/topics/nmpc/PID.png",{"type":14,"children":15,"toc":1994},"root",[16,25,39,45,50,56,61,93,109,119,125,135,141,146,180,186,191,196,206,212,217,221,226,230,235,680,699,1258,1263,1269,1276,1295,1383,1388,1450,1455,1539,1551,1849,1855,1874,1890,1896,1906,1912,1922,1928,1934,1939,1945,1989],{"type":17,"tag":18,"props":19,"children":21},"element","h2",{"id":20},"what-is-pid-controller",[22],{"type":23,"value":24},"text","What is PID Controller ?",{"type":17,"tag":26,"props":27,"children":28},"p",{},[29,31,37],{"type":23,"value":30},"The Proportional Integral Derivative (PID) controller is a traditional method in control systems that has found widespread use in control system engineering and industrial applications since its emergence in the 1940s. A PID controller is considered a feedback controller, aiming to minimize the error between the system's feedback and the desired setpoint by manually or automatically fine-tuning the coefficients ",{"type":17,"tag":32,"props":33,"children":36},"math-render",{"latex-express":34,"styles":35},"K_{P}, K_{I}, K_{D}","inline-flex",[],{"type":23,"value":38},".",{"type":17,"tag":18,"props":40,"children":42},{"id":41},"how-it-works",[43],{"type":23,"value":44},"How it works ?",{"type":17,"tag":26,"props":46,"children":47},{},[48],{"type":23,"value":49},"Imagine you want to control the speed of a DC motor to reach 300 RPM, but due to the natural response of the DC motor, it cannot reach the desired angular speed. PID offers a solution to this natural response by adjusting the system's time response using its three components, as shown in the formula below.",{"type":17,"tag":18,"props":51,"children":53},{"id":52},"formulation",[54],{"type":23,"value":55},"Formulation",{"type":17,"tag":32,"props":57,"children":60},{"latex-express":58,"styles":59},"u(t) = K_{p}e(t) + K_{I}\\int_{0}^{t} e(\\tau) d\\tau + K_{D} \\frac{d e(t)}{dt} ","text-center",[],{"type":17,"tag":62,"props":63,"children":64},"ul",{},[65,75,84],{"type":17,"tag":66,"props":67,"children":68},"li",{},[69,73],{"type":17,"tag":32,"props":70,"children":72},{"latex-express":71,"styles":35},"K_{P}",[],{"type":23,"value":74}," represents the proportional gain.",{"type":17,"tag":66,"props":76,"children":77},{},[78,82],{"type":17,"tag":32,"props":79,"children":81},{"latex-express":80,"styles":35},"K_{I}",[],{"type":23,"value":83}," represents the integral gain.",{"type":17,"tag":66,"props":85,"children":86},{},[87,91],{"type":17,"tag":32,"props":88,"children":90},{"latex-express":89,"styles":35},"K_{D}",[],{"type":23,"value":92}," represents the derivative gain.",{"type":17,"tag":94,"props":95,"children":100},"figure",{"className":96},[97,98,99],"mb-4","inline-block","max-w-sm",[101,103],{"type":23,"value":102},"\n  ",{"type":17,"tag":104,"props":105,"children":108},"img",{"className":106,"src":12},[107],"mx-auto",[],{"type":17,"tag":110,"props":111,"children":116},"figcaption",{"className":112},[59,113,114,115],"text-sm","text-neutral-600","dark:text-neutral-400",[117],{"type":23,"value":118},"\n    The Block diagram of PID Controller\n",{"type":17,"tag":18,"props":120,"children":122},{"id":121},"response-time",[123],{"type":23,"value":124},"Response Time",{"type":17,"tag":94,"props":126,"children":128},{"className":127},[97,98,99],[129,130],{"type":23,"value":102},{"type":17,"tag":104,"props":131,"children":134},{"className":132,"src":133},[107],"/topics/nmpc/response_timepid.png",[],{"type":17,"tag":110,"props":136,"children":138},{"className":137},[59,113,114,115],[139],{"type":23,"value":140},"\n    The response time of the system with each K_P, K_I, K_D\n",{"type":17,"tag":26,"props":142,"children":143},{},[144],{"type":23,"value":145},"As you can see in the figure above, the response time of the system is difference.",{"type":17,"tag":62,"props":147,"children":148},{},[149,160,170],{"type":17,"tag":66,"props":150,"children":151},{},[152,154,158],{"type":23,"value":153},"The response time with ",{"type":17,"tag":32,"props":155,"children":157},{"latex-express":156,"styles":35},"K_{I}=2",[],{"type":23,"value":159}," the system is likely to overshoot before reaching the steady-state, which may not be suitable for applications like controlling a DC motor.",{"type":17,"tag":66,"props":161,"children":162},{},[163,164,168],{"type":23,"value":153},{"type":17,"tag":32,"props":165,"children":167},{"latex-express":166,"styles":35},"K_{i}=0.5, ",[],{"type":23,"value":169},"  the response does not overshoot but has a slower response to reach the steady-state.",{"type":17,"tag":66,"props":171,"children":172},{},[173,174,178],{"type":23,"value":153},{"type":17,"tag":32,"props":175,"children":177},{"latex-express":176,"styles":35},"K_{p}=1, K_{i}=1, K_{d}=1",[],{"type":23,"value":179},"  there is a slight overshoot, but the steady-state is reached faster.",{"type":17,"tag":18,"props":181,"children":183},{"id":182},"how-can-we-write-pid-code-in-python",[184],{"type":23,"value":185},"How can we write PID code in Python ?",{"type":17,"tag":26,"props":187,"children":188},{},[189],{"type":23,"value":190},"Let's use a differential drive robot as a case study system. A differential drive robot is commonly used in robotics and automation, making it an ideal choice for a demonstration.",{"type":17,"tag":26,"props":192,"children":193},{},[194],{"type":23,"value":195},"The configuration of Differential Drive Robot in axes OXY.",{"type":17,"tag":94,"props":197,"children":199},{"className":198},[97,98,99],[200,201],{"type":23,"value":102},{"type":17,"tag":104,"props":202,"children":205},{"className":203,"src":204},[107],"/topics/nmpc/diff_drive.png",[],{"type":17,"tag":110,"props":207,"children":209},{"className":208},[59,113,114,115],[210],{"type":23,"value":211},"\n    The configuration of Differential Drive Robot in axes OXY.\n",{"type":17,"tag":26,"props":213,"children":214},{},[215],{"type":23,"value":216},"The forward kinematic equation",{"type":17,"tag":32,"props":218,"children":220},{"latex-express":219,"styles":59},"\n\\begin{bmatrix} v_{x} \\\\ v_{y} \\\\ v_{\\theta} \\end{bmatrix} = \\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{\\theta} \\\\ \\omega \\end{bmatrix}\n ",[],{"type":17,"tag":26,"props":222,"children":223},{},[224],{"type":23,"value":225},"So, if we discretize the forward kinematic with a certain sampling time, we will get",{"type":17,"tag":32,"props":227,"children":229},{"latex-express":228,"styles":59},"\n\\begin{bmatrix} x_{t+1} \\\\ y_{t+1} \\\\ \\theta_{t+1} \\end{bmatrix} = \\begin{bmatrix} x_{t} \\\\ y_{t} \\\\ \\theta_{t} \\end{bmatrix} +\\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{(\\theta)} \\\\ \\omega \\end{bmatrix} \\times \\Delta t\n ",[],{"type":17,"tag":26,"props":231,"children":232},{},[233],{"type":23,"value":234},"In Python,",{"type":17,"tag":236,"props":237,"children":242},"code",{"className":238,"code":240,"language":241,"meta":7},[239],"language-python","class DifferentialDrive:\n    def __init__(self):\n        self.r = 0.05\n        self.L = 0.25\n    def forward_kinematic(self, v, omega, yaw):\n        vx = v*np.cos(yaw)\n        vy = v*np.sin(yaw)\n        vyaw = omega\n\n        return vx, vy, vyaw\n    def discrete_state(self, x, y, yaw, v, omega, dt):\n        dx, dy, dyaw = self.forward_kinematic(v, omega, yaw)\n        x_next = x + dx * dt\n        y_next = y + dy * dt\n        yaw_next = yaw + dyaw * dt\n\n        return x_next, y_next, yaw_next\n","python",[243],{"type":17,"tag":244,"props":245,"children":246},"pre",{},[247],{"type":17,"tag":236,"props":248,"children":249},{"__ignoreMap":7},[250,279,308,341,371,397,425,451,469,478,496,522,548,585,620,655,663],{"type":17,"tag":251,"props":252,"children":255},"span",{"class":253,"line":254},"line",1,[256,262,268,274],{"type":17,"tag":251,"props":257,"children":259},{"class":258},"ct-857441",[260],{"type":23,"value":261},"class",{"type":17,"tag":251,"props":263,"children":265},{"class":264},"ct-767297",[266],{"type":23,"value":267}," ",{"type":17,"tag":251,"props":269,"children":271},{"class":270},"ct-806137",[272],{"type":23,"value":273},"DifferentialDrive",{"type":17,"tag":251,"props":275,"children":276},{"class":264},[277],{"type":23,"value":278},":\n",{"type":17,"tag":251,"props":280,"children":282},{"class":253,"line":281},2,[283,288,293,297,303],{"type":17,"tag":251,"props":284,"children":285},{"class":264},[286],{"type":23,"value":287},"    ",{"type":17,"tag":251,"props":289,"children":290},{"class":258},[291],{"type":23,"value":292},"def",{"type":17,"tag":251,"props":294,"children":295},{"class":264},[296],{"type":23,"value":267},{"type":17,"tag":251,"props":298,"children":300},{"class":299},"ct-533739",[301],{"type":23,"value":302},"__init__",{"type":17,"tag":251,"props":304,"children":305},{"class":264},[306],{"type":23,"value":307},"(self):\n",{"type":17,"tag":251,"props":309,"children":311},{"class":253,"line":310},3,[312,317,322,327,332,336],{"type":17,"tag":251,"props":313,"children":314},{"class":264},[315],{"type":23,"value":316},"        ",{"type":17,"tag":251,"props":318,"children":319},{"class":299},[320],{"type":23,"value":321},"self",{"type":17,"tag":251,"props":323,"children":324},{"class":264},[325],{"type":23,"value":326},".r ",{"type":17,"tag":251,"props":328,"children":329},{"class":258},[330],{"type":23,"value":331},"=",{"type":17,"tag":251,"props":333,"children":334},{"class":264},[335],{"type":23,"value":267},{"type":17,"tag":251,"props":337,"children":338},{"class":299},[339],{"type":23,"value":340},"0.05\n",{"type":17,"tag":251,"props":342,"children":344},{"class":253,"line":343},4,[345,349,353,358,362,366],{"type":17,"tag":251,"props":346,"children":347},{"class":264},[348],{"type":23,"value":316},{"type":17,"tag":251,"props":350,"children":351},{"class":299},[352],{"type":23,"value":321},{"type":17,"tag":251,"props":354,"children":355},{"class":264},[356],{"type":23,"value":357},".L ",{"type":17,"tag":251,"props":359,"children":360},{"class":258},[361],{"type":23,"value":331},{"type":17,"tag":251,"props":363,"children":364},{"class":264},[365],{"type":23,"value":267},{"type":17,"tag":251,"props":367,"children":368},{"class":299},[369],{"type":23,"value":370},"0.25\n",{"type":17,"tag":251,"props":372,"children":374},{"class":253,"line":373},5,[375,379,383,387,392],{"type":17,"tag":251,"props":376,"children":377},{"class":264},[378],{"type":23,"value":287},{"type":17,"tag":251,"props":380,"children":381},{"class":258},[382],{"type":23,"value":292},{"type":17,"tag":251,"props":384,"children":385},{"class":264},[386],{"type":23,"value":267},{"type":17,"tag":251,"props":388,"children":389},{"class":270},[390],{"type":23,"value":391},"forward_kinematic",{"type":17,"tag":251,"props":393,"children":394},{"class":264},[395],{"type":23,"value":396},"(self, v, omega, yaw):\n",{"type":17,"tag":251,"props":398,"children":400},{"class":253,"line":399},6,[401,406,410,415,420],{"type":17,"tag":251,"props":402,"children":403},{"class":264},[404],{"type":23,"value":405},"        vx ",{"type":17,"tag":251,"props":407,"children":408},{"class":258},[409],{"type":23,"value":331},{"type":17,"tag":251,"props":411,"children":412},{"class":264},[413],{"type":23,"value":414}," v",{"type":17,"tag":251,"props":416,"children":417},{"class":258},[418],{"type":23,"value":419},"*",{"type":17,"tag":251,"props":421,"children":422},{"class":264},[423],{"type":23,"value":424},"np.cos(yaw)\n",{"type":17,"tag":251,"props":426,"children":428},{"class":253,"line":427},7,[429,434,438,442,446],{"type":17,"tag":251,"props":430,"children":431},{"class":264},[432],{"type":23,"value":433},"        vy ",{"type":17,"tag":251,"props":435,"children":436},{"class":258},[437],{"type":23,"value":331},{"type":17,"tag":251,"props":439,"children":440},{"class":264},[441],{"type":23,"value":414},{"type":17,"tag":251,"props":443,"children":444},{"class":258},[445],{"type":23,"value":419},{"type":17,"tag":251,"props":447,"children":448},{"class":264},[449],{"type":23,"value":450},"np.sin(yaw)\n",{"type":17,"tag":251,"props":452,"children":454},{"class":253,"line":453},8,[455,460,464],{"type":17,"tag":251,"props":456,"children":457},{"class":264},[458],{"type":23,"value":459},"        vyaw ",{"type":17,"tag":251,"props":461,"children":462},{"class":258},[463],{"type":23,"value":331},{"type":17,"tag":251,"props":465,"children":466},{"class":264},[467],{"type":23,"value":468}," omega\n",{"type":17,"tag":251,"props":470,"children":472},{"class":253,"line":471},9,[473],{"type":17,"tag":251,"props":474,"children":475},{},[476],{"type":23,"value":477},"\n",{"type":17,"tag":251,"props":479,"children":481},{"class":253,"line":480},10,[482,486,491],{"type":17,"tag":251,"props":483,"children":484},{"class":264},[485],{"type":23,"value":316},{"type":17,"tag":251,"props":487,"children":488},{"class":258},[489],{"type":23,"value":490},"return",{"type":17,"tag":251,"props":492,"children":493},{"class":264},[494],{"type":23,"value":495}," vx, vy, vyaw\n",{"type":17,"tag":251,"props":497,"children":499},{"class":253,"line":498},11,[500,504,508,512,517],{"type":17,"tag":251,"props":501,"children":502},{"class":264},[503],{"type":23,"value":287},{"type":17,"tag":251,"props":505,"children":506},{"class":258},[507],{"type":23,"value":292},{"type":17,"tag":251,"props":509,"children":510},{"class":264},[511],{"type":23,"value":267},{"type":17,"tag":251,"props":513,"children":514},{"class":270},[515],{"type":23,"value":516},"discrete_state",{"type":17,"tag":251,"props":518,"children":519},{"class":264},[520],{"type":23,"value":521},"(self, x, y, yaw, v, omega, dt):\n",{"type":17,"tag":251,"props":523,"children":525},{"class":253,"line":524},12,[526,531,535,539,543],{"type":17,"tag":251,"props":527,"children":528},{"class":264},[529],{"type":23,"value":530},"        dx, dy, dyaw ",{"type":17,"tag":251,"props":532,"children":533},{"class":258},[534],{"type":23,"value":331},{"type":17,"tag":251,"props":536,"children":537},{"class":264},[538],{"type":23,"value":267},{"type":17,"tag":251,"props":540,"children":541},{"class":299},[542],{"type":23,"value":321},{"type":17,"tag":251,"props":544,"children":545},{"class":264},[546],{"type":23,"value":547},".forward_kinematic(v, omega, yaw)\n",{"type":17,"tag":251,"props":549,"children":551},{"class":253,"line":550},13,[552,557,561,566,571,576,580],{"type":17,"tag":251,"props":553,"children":554},{"class":264},[555],{"type":23,"value":556},"        x_next ",{"type":17,"tag":251,"props":558,"children":559},{"class":258},[560],{"type":23,"value":331},{"type":17,"tag":251,"props":562,"children":563},{"class":264},[564],{"type":23,"value":565}," x ",{"type":17,"tag":251,"props":567,"children":568},{"class":258},[569],{"type":23,"value":570},"+",{"type":17,"tag":251,"props":572,"children":573},{"class":264},[574],{"type":23,"value":575}," dx ",{"type":17,"tag":251,"props":577,"children":578},{"class":258},[579],{"type":23,"value":419},{"type":17,"tag":251,"props":581,"children":582},{"class":264},[583],{"type":23,"value":584}," dt\n",{"type":17,"tag":251,"props":586,"children":588},{"class":253,"line":587},14,[589,594,598,603,607,612,616],{"type":17,"tag":251,"props":590,"children":591},{"class":264},[592],{"type":23,"value":593},"        y_next ",{"type":17,"tag":251,"props":595,"children":596},{"class":258},[597],{"type":23,"value":331},{"type":17,"tag":251,"props":599,"children":600},{"class":264},[601],{"type":23,"value":602}," y ",{"type":17,"tag":251,"props":604,"children":605},{"class":258},[606],{"type":23,"value":570},{"type":17,"tag":251,"props":608,"children":609},{"class":264},[610],{"type":23,"value":611}," dy ",{"type":17,"tag":251,"props":613,"children":614},{"class":258},[615],{"type":23,"value":419},{"type":17,"tag":251,"props":617,"children":618},{"class":264},[619],{"type":23,"value":584},{"type":17,"tag":251,"props":621,"children":623},{"class":253,"line":622},15,[624,629,633,638,642,647,651],{"type":17,"tag":251,"props":625,"children":626},{"class":264},[627],{"type":23,"value":628},"        yaw_next ",{"type":17,"tag":251,"props":630,"children":631},{"class":258},[632],{"type":23,"value":331},{"type":17,"tag":251,"props":634,"children":635},{"class":264},[636],{"type":23,"value":637}," yaw ",{"type":17,"tag":251,"props":639,"children":640},{"class":258},[641],{"type":23,"value":570},{"type":17,"tag":251,"props":643,"children":644},{"class":264},[645],{"type":23,"value":646}," dyaw ",{"type":17,"tag":251,"props":648,"children":649},{"class":258},[650],{"type":23,"value":419},{"type":17,"tag":251,"props":652,"children":653},{"class":264},[654],{"type":23,"value":584},{"type":17,"tag":251,"props":656,"children":658},{"class":253,"line":657},16,[659],{"type":17,"tag":251,"props":660,"children":661},{},[662],{"type":23,"value":477},{"type":17,"tag":251,"props":664,"children":666},{"class":253,"line":665},17,[667,671,675],{"type":17,"tag":251,"props":668,"children":669},{"class":264},[670],{"type":23,"value":316},{"type":17,"tag":251,"props":672,"children":673},{"class":258},[674],{"type":23,"value":490},{"type":17,"tag":251,"props":676,"children":677},{"class":264},[678],{"type":23,"value":679}," x_next, y_next, yaw_next",{"type":17,"tag":26,"props":681,"children":682},{},[683,685,691,693,698],{"type":23,"value":684},"The ",{"type":17,"tag":686,"props":687,"children":688},"strong",{},[689],{"type":23,"value":690}," DifferentialDrive ",{"type":23,"value":692}," class that we defined, has all the need attribute to use for PID control !!. We just need to write another class for our ",{"type":17,"tag":686,"props":694,"children":695},{},[696],{"type":23,"value":697}," PID Controller ",{"type":23,"value":38},{"type":17,"tag":236,"props":700,"children":703},{"className":701,"code":702,"language":241,"meta":7},[239],"class PIDController:\n    def __init__(self, kp, ki, kd, dt):\n\n        self.kp = kp\n        self.ki = ki\n        self.kd = kd\n        self.dt = dt\n        self.integral = 0\n\n    def calculate_pid(self, errors):\n        # Calculate proportional error\n        proportional = self.kp * errors[-1]\n        # Calculate integration error\n        integral = self.integral + self.ki * (errors[-1]) * self.dt\n        self.integral = integral\n        # Calculate derivative error\n        derivative = self.kd * (errors[-1] - errors[-2])/self.dt\n\n        output = proportional + integral + derivative\n\n        return output\n",[704],{"type":17,"tag":244,"props":705,"children":706},{},[707],{"type":17,"tag":236,"props":708,"children":709},{"__ignoreMap":7},[710,730,754,761,786,811,836,860,889,896,921,934,982,994,1073,1097,1109,1189,1197,1233,1241],{"type":17,"tag":251,"props":711,"children":712},{"class":253,"line":254},[713,717,721,726],{"type":17,"tag":251,"props":714,"children":715},{"class":258},[716],{"type":23,"value":261},{"type":17,"tag":251,"props":718,"children":719},{"class":264},[720],{"type":23,"value":267},{"type":17,"tag":251,"props":722,"children":723},{"class":270},[724],{"type":23,"value":725},"PIDController",{"type":17,"tag":251,"props":727,"children":728},{"class":264},[729],{"type":23,"value":278},{"type":17,"tag":251,"props":731,"children":732},{"class":253,"line":281},[733,737,741,745,749],{"type":17,"tag":251,"props":734,"children":735},{"class":264},[736],{"type":23,"value":287},{"type":17,"tag":251,"props":738,"children":739},{"class":258},[740],{"type":23,"value":292},{"type":17,"tag":251,"props":742,"children":743},{"class":264},[744],{"type":23,"value":267},{"type":17,"tag":251,"props":746,"children":747},{"class":299},[748],{"type":23,"value":302},{"type":17,"tag":251,"props":750,"children":751},{"class":264},[752],{"type":23,"value":753},"(self, kp, ki, kd, dt):\n",{"type":17,"tag":251,"props":755,"children":756},{"class":253,"line":310},[757],{"type":17,"tag":251,"props":758,"children":759},{},[760],{"type":23,"value":477},{"type":17,"tag":251,"props":762,"children":763},{"class":253,"line":343},[764,768,772,777,781],{"type":17,"tag":251,"props":765,"children":766},{"class":264},[767],{"type":23,"value":316},{"type":17,"tag":251,"props":769,"children":770},{"class":299},[771],{"type":23,"value":321},{"type":17,"tag":251,"props":773,"children":774},{"class":264},[775],{"type":23,"value":776},".kp ",{"type":17,"tag":251,"props":778,"children":779},{"class":258},[780],{"type":23,"value":331},{"type":17,"tag":251,"props":782,"children":783},{"class":264},[784],{"type":23,"value":785}," kp\n",{"type":17,"tag":251,"props":787,"children":788},{"class":253,"line":373},[789,793,797,802,806],{"type":17,"tag":251,"props":790,"children":791},{"class":264},[792],{"type":23,"value":316},{"type":17,"tag":251,"props":794,"children":795},{"class":299},[796],{"type":23,"value":321},{"type":17,"tag":251,"props":798,"children":799},{"class":264},[800],{"type":23,"value":801},".ki ",{"type":17,"tag":251,"props":803,"children":804},{"class":258},[805],{"type":23,"value":331},{"type":17,"tag":251,"props":807,"children":808},{"class":264},[809],{"type":23,"value":810}," ki\n",{"type":17,"tag":251,"props":812,"children":813},{"class":253,"line":399},[814,818,822,827,831],{"type":17,"tag":251,"props":815,"children":816},{"class":264},[817],{"type":23,"value":316},{"type":17,"tag":251,"props":819,"children":820},{"class":299},[821],{"type":23,"value":321},{"type":17,"tag":251,"props":823,"children":824},{"class":264},[825],{"type":23,"value":826},".kd ",{"type":17,"tag":251,"props":828,"children":829},{"class":258},[830],{"type":23,"value":331},{"type":17,"tag":251,"props":832,"children":833},{"class":264},[834],{"type":23,"value":835}," kd\n",{"type":17,"tag":251,"props":837,"children":838},{"class":253,"line":427},[839,843,847,852,856],{"type":17,"tag":251,"props":840,"children":841},{"class":264},[842],{"type":23,"value":316},{"type":17,"tag":251,"props":844,"children":845},{"class":299},[846],{"type":23,"value":321},{"type":17,"tag":251,"props":848,"children":849},{"class":264},[850],{"type":23,"value":851},".dt ",{"type":17,"tag":251,"props":853,"children":854},{"class":258},[855],{"type":23,"value":331},{"type":17,"tag":251,"props":857,"children":858},{"class":264},[859],{"type":23,"value":584},{"type":17,"tag":251,"props":861,"children":862},{"class":253,"line":453},[863,867,871,876,880,884],{"type":17,"tag":251,"props":864,"children":865},{"class":264},[866],{"type":23,"value":316},{"type":17,"tag":251,"props":868,"children":869},{"class":299},[870],{"type":23,"value":321},{"type":17,"tag":251,"props":872,"children":873},{"class":264},[874],{"type":23,"value":875},".integral ",{"type":17,"tag":251,"props":877,"children":878},{"class":258},[879],{"type":23,"value":331},{"type":17,"tag":251,"props":881,"children":882},{"class":264},[883],{"type":23,"value":267},{"type":17,"tag":251,"props":885,"children":886},{"class":299},[887],{"type":23,"value":888},"0\n",{"type":17,"tag":251,"props":890,"children":891},{"class":253,"line":471},[892],{"type":17,"tag":251,"props":893,"children":894},{},[895],{"type":23,"value":477},{"type":17,"tag":251,"props":897,"children":898},{"class":253,"line":480},[899,903,907,911,916],{"type":17,"tag":251,"props":900,"children":901},{"class":264},[902],{"type":23,"value":287},{"type":17,"tag":251,"props":904,"children":905},{"class":258},[906],{"type":23,"value":292},{"type":17,"tag":251,"props":908,"children":909},{"class":264},[910],{"type":23,"value":267},{"type":17,"tag":251,"props":912,"children":913},{"class":270},[914],{"type":23,"value":915},"calculate_pid",{"type":17,"tag":251,"props":917,"children":918},{"class":264},[919],{"type":23,"value":920},"(self, errors):\n",{"type":17,"tag":251,"props":922,"children":923},{"class":253,"line":498},[924,928],{"type":17,"tag":251,"props":925,"children":926},{"class":264},[927],{"type":23,"value":316},{"type":17,"tag":251,"props":929,"children":931},{"class":930},"ct-326375",[932],{"type":23,"value":933},"# Calculate proportional error\n",{"type":17,"tag":251,"props":935,"children":936},{"class":253,"line":524},[937,942,946,950,954,958,962,967,972,977],{"type":17,"tag":251,"props":938,"children":939},{"class":264},[940],{"type":23,"value":941},"        proportional ",{"type":17,"tag":251,"props":943,"children":944},{"class":258},[945],{"type":23,"value":331},{"type":17,"tag":251,"props":947,"children":948},{"class":264},[949],{"type":23,"value":267},{"type":17,"tag":251,"props":951,"children":952},{"class":299},[953],{"type":23,"value":321},{"type":17,"tag":251,"props":955,"children":956},{"class":264},[957],{"type":23,"value":776},{"type":17,"tag":251,"props":959,"children":960},{"class":258},[961],{"type":23,"value":419},{"type":17,"tag":251,"props":963,"children":964},{"class":264},[965],{"type":23,"value":966}," errors[",{"type":17,"tag":251,"props":968,"children":969},{"class":258},[970],{"type":23,"value":971},"-",{"type":17,"tag":251,"props":973,"children":974},{"class":299},[975],{"type":23,"value":976},"1",{"type":17,"tag":251,"props":978,"children":979},{"class":264},[980],{"type":23,"value":981},"]\n",{"type":17,"tag":251,"props":983,"children":984},{"class":253,"line":550},[985,989],{"type":17,"tag":251,"props":986,"children":987},{"class":264},[988],{"type":23,"value":316},{"type":17,"tag":251,"props":990,"children":991},{"class":930},[992],{"type":23,"value":993},"# Calculate integration error\n",{"type":17,"tag":251,"props":995,"children":996},{"class":253,"line":587},[997,1002,1006,1010,1014,1018,1022,1026,1030,1034,1038,1043,1047,1051,1056,1060,1064,1068],{"type":17,"tag":251,"props":998,"children":999},{"class":264},[1000],{"type":23,"value":1001},"        integral ",{"type":17,"tag":251,"props":1003,"children":1004},{"class":258},[1005],{"type":23,"value":331},{"type":17,"tag":251,"props":1007,"children":1008},{"class":264},[1009],{"type":23,"value":267},{"type":17,"tag":251,"props":1011,"children":1012},{"class":299},[1013],{"type":23,"value":321},{"type":17,"tag":251,"props":1015,"children":1016},{"class":264},[1017],{"type":23,"value":875},{"type":17,"tag":251,"props":1019,"children":1020},{"class":258},[1021],{"type":23,"value":570},{"type":17,"tag":251,"props":1023,"children":1024},{"class":264},[1025],{"type":23,"value":267},{"type":17,"tag":251,"props":1027,"children":1028},{"class":299},[1029],{"type":23,"value":321},{"type":17,"tag":251,"props":1031,"children":1032},{"class":264},[1033],{"type":23,"value":801},{"type":17,"tag":251,"props":1035,"children":1036},{"class":258},[1037],{"type":23,"value":419},{"type":17,"tag":251,"props":1039,"children":1040},{"class":264},[1041],{"type":23,"value":1042}," (errors[",{"type":17,"tag":251,"props":1044,"children":1045},{"class":258},[1046],{"type":23,"value":971},{"type":17,"tag":251,"props":1048,"children":1049},{"class":299},[1050],{"type":23,"value":976},{"type":17,"tag":251,"props":1052,"children":1053},{"class":264},[1054],{"type":23,"value":1055},"]) ",{"type":17,"tag":251,"props":1057,"children":1058},{"class":258},[1059],{"type":23,"value":419},{"type":17,"tag":251,"props":1061,"children":1062},{"class":264},[1063],{"type":23,"value":267},{"type":17,"tag":251,"props":1065,"children":1066},{"class":299},[1067],{"type":23,"value":321},{"type":17,"tag":251,"props":1069,"children":1070},{"class":264},[1071],{"type":23,"value":1072},".dt\n",{"type":17,"tag":251,"props":1074,"children":1075},{"class":253,"line":622},[1076,1080,1084,1088,1092],{"type":17,"tag":251,"props":1077,"children":1078},{"class":264},[1079],{"type":23,"value":316},{"type":17,"tag":251,"props":1081,"children":1082},{"class":299},[1083],{"type":23,"value":321},{"type":17,"tag":251,"props":1085,"children":1086},{"class":264},[1087],{"type":23,"value":875},{"type":17,"tag":251,"props":1089,"children":1090},{"class":258},[1091],{"type":23,"value":331},{"type":17,"tag":251,"props":1093,"children":1094},{"class":264},[1095],{"type":23,"value":1096}," integral\n",{"type":17,"tag":251,"props":1098,"children":1099},{"class":253,"line":657},[1100,1104],{"type":17,"tag":251,"props":1101,"children":1102},{"class":264},[1103],{"type":23,"value":316},{"type":17,"tag":251,"props":1105,"children":1106},{"class":930},[1107],{"type":23,"value":1108},"# Calculate derivative error\n",{"type":17,"tag":251,"props":1110,"children":1111},{"class":253,"line":665},[1112,1117,1121,1125,1129,1133,1137,1141,1145,1149,1154,1158,1162,1166,1171,1176,1181,1185],{"type":17,"tag":251,"props":1113,"children":1114},{"class":264},[1115],{"type":23,"value":1116},"        derivative ",{"type":17,"tag":251,"props":1118,"children":1119},{"class":258},[1120],{"type":23,"value":331},{"type":17,"tag":251,"props":1122,"children":1123},{"class":264},[1124],{"type":23,"value":267},{"type":17,"tag":251,"props":1126,"children":1127},{"class":299},[1128],{"type":23,"value":321},{"type":17,"tag":251,"props":1130,"children":1131},{"class":264},[1132],{"type":23,"value":826},{"type":17,"tag":251,"props":1134,"children":1135},{"class":258},[1136],{"type":23,"value":419},{"type":17,"tag":251,"props":1138,"children":1139},{"class":264},[1140],{"type":23,"value":1042},{"type":17,"tag":251,"props":1142,"children":1143},{"class":258},[1144],{"type":23,"value":971},{"type":17,"tag":251,"props":1146,"children":1147},{"class":299},[1148],{"type":23,"value":976},{"type":17,"tag":251,"props":1150,"children":1151},{"class":264},[1152],{"type":23,"value":1153},"] ",{"type":17,"tag":251,"props":1155,"children":1156},{"class":258},[1157],{"type":23,"value":971},{"type":17,"tag":251,"props":1159,"children":1160},{"class":264},[1161],{"type":23,"value":966},{"type":17,"tag":251,"props":1163,"children":1164},{"class":258},[1165],{"type":23,"value":971},{"type":17,"tag":251,"props":1167,"children":1168},{"class":299},[1169],{"type":23,"value":1170},"2",{"type":17,"tag":251,"props":1172,"children":1173},{"class":264},[1174],{"type":23,"value":1175},"])",{"type":17,"tag":251,"props":1177,"children":1178},{"class":258},[1179],{"type":23,"value":1180},"/",{"type":17,"tag":251,"props":1182,"children":1183},{"class":299},[1184],{"type":23,"value":321},{"type":17,"tag":251,"props":1186,"children":1187},{"class":264},[1188],{"type":23,"value":1072},{"type":17,"tag":251,"props":1190,"children":1192},{"class":253,"line":1191},18,[1193],{"type":17,"tag":251,"props":1194,"children":1195},{},[1196],{"type":23,"value":477},{"type":17,"tag":251,"props":1198,"children":1200},{"class":253,"line":1199},19,[1201,1206,1210,1215,1219,1224,1228],{"type":17,"tag":251,"props":1202,"children":1203},{"class":264},[1204],{"type":23,"value":1205},"        output ",{"type":17,"tag":251,"props":1207,"children":1208},{"class":258},[1209],{"type":23,"value":331},{"type":17,"tag":251,"props":1211,"children":1212},{"class":264},[1213],{"type":23,"value":1214}," proportional ",{"type":17,"tag":251,"props":1216,"children":1217},{"class":258},[1218],{"type":23,"value":570},{"type":17,"tag":251,"props":1220,"children":1221},{"class":264},[1222],{"type":23,"value":1223}," integral ",{"type":17,"tag":251,"props":1225,"children":1226},{"class":258},[1227],{"type":23,"value":570},{"type":17,"tag":251,"props":1229,"children":1230},{"class":264},[1231],{"type":23,"value":1232}," derivative\n",{"type":17,"tag":251,"props":1234,"children":1236},{"class":253,"line":1235},20,[1237],{"type":17,"tag":251,"props":1238,"children":1239},{},[1240],{"type":23,"value":477},{"type":17,"tag":251,"props":1242,"children":1244},{"class":253,"line":1243},21,[1245,1249,1253],{"type":17,"tag":251,"props":1246,"children":1247},{"class":264},[1248],{"type":23,"value":316},{"type":17,"tag":251,"props":1250,"children":1251},{"class":258},[1252],{"type":23,"value":490},{"type":17,"tag":251,"props":1254,"children":1255},{"class":264},[1256],{"type":23,"value":1257}," output",{"type":17,"tag":26,"props":1259,"children":1260},{},[1261],{"type":23,"value":1262},"Don't worry, this class just defined as the PID formula. So, by doing this, we will be able to use all the characteristic of our PID controller.",{"type":17,"tag":18,"props":1264,"children":1266},{"id":1265},"experiment",[1267],{"type":23,"value":1268},"Experiment",{"type":17,"tag":1270,"props":1271,"children":1273},"h3",{"id":1272},"pid-for-point-control",[1274],{"type":23,"value":1275},"PID for point control",{"type":17,"tag":26,"props":1277,"children":1278},{},[1279,1281,1285,1287,1293],{"type":23,"value":1280},"If I want my DifferentialDrive robot go to point ",{"type":17,"tag":32,"props":1282,"children":1284},{"latex-express":1283,"styles":35},"x_{ref}, y_{ref}, \\theta_{ref}",[],{"type":23,"value":1286},", Then I can calculate the error between the reference point and the feedback position of the robot. I simulated my robot in the  ",{"type":17,"tag":1288,"props":1289,"children":1290},"code-inline",{},[1291],{"type":23,"value":1292},"for loop",{"type":23,"value":1294}," and calculate this error recursively.",{"type":17,"tag":236,"props":1296,"children":1299},{"className":1297,"code":1298,"language":241,"meta":7},[239],"error_x.append(ref_path[0]-current_x)\nerror_y.append(ref_path[1]-current_y)\nerror_yaw.append(ref_path[2]-current_yaw)\n",[1300],{"type":17,"tag":244,"props":1301,"children":1302},{},[1303],{"type":17,"tag":236,"props":1304,"children":1305},{"__ignoreMap":7},[1306,1333,1358],{"type":17,"tag":251,"props":1307,"children":1308},{"class":253,"line":254},[1309,1314,1319,1324,1328],{"type":17,"tag":251,"props":1310,"children":1311},{"class":264},[1312],{"type":23,"value":1313},"error_x.append(ref_path[",{"type":17,"tag":251,"props":1315,"children":1316},{"class":299},[1317],{"type":23,"value":1318},"0",{"type":17,"tag":251,"props":1320,"children":1321},{"class":264},[1322],{"type":23,"value":1323},"]",{"type":17,"tag":251,"props":1325,"children":1326},{"class":258},[1327],{"type":23,"value":971},{"type":17,"tag":251,"props":1329,"children":1330},{"class":264},[1331],{"type":23,"value":1332},"current_x)\n",{"type":17,"tag":251,"props":1334,"children":1335},{"class":253,"line":281},[1336,1341,1345,1349,1353],{"type":17,"tag":251,"props":1337,"children":1338},{"class":264},[1339],{"type":23,"value":1340},"error_y.append(ref_path[",{"type":17,"tag":251,"props":1342,"children":1343},{"class":299},[1344],{"type":23,"value":976},{"type":17,"tag":251,"props":1346,"children":1347},{"class":264},[1348],{"type":23,"value":1323},{"type":17,"tag":251,"props":1350,"children":1351},{"class":258},[1352],{"type":23,"value":971},{"type":17,"tag":251,"props":1354,"children":1355},{"class":264},[1356],{"type":23,"value":1357},"current_y)\n",{"type":17,"tag":251,"props":1359,"children":1360},{"class":253,"line":310},[1361,1366,1370,1374,1378],{"type":17,"tag":251,"props":1362,"children":1363},{"class":264},[1364],{"type":23,"value":1365},"error_yaw.append(ref_path[",{"type":17,"tag":251,"props":1367,"children":1368},{"class":299},[1369],{"type":23,"value":1170},{"type":17,"tag":251,"props":1371,"children":1372},{"class":264},[1373],{"type":23,"value":1323},{"type":17,"tag":251,"props":1375,"children":1376},{"class":258},[1377],{"type":23,"value":971},{"type":17,"tag":251,"props":1379,"children":1380},{"class":264},[1381],{"type":23,"value":1382},"current_yaw)",{"type":17,"tag":26,"props":1384,"children":1385},{},[1386],{"type":23,"value":1387},"Then, let's apply PID",{"type":17,"tag":236,"props":1389,"children":1392},{"className":1390,"code":1391,"language":241,"meta":7},[239],"output_vx = pid_controller_x.calculate_pid(error_x)\noutput_vy = pid_controller_y.calculate_pid(error_y)\noutput_omega = pid_controller_yaw.calculate_pid(error_yaw)\n",[1393],{"type":17,"tag":244,"props":1394,"children":1395},{},[1396],{"type":17,"tag":236,"props":1397,"children":1398},{"__ignoreMap":7},[1399,1416,1433],{"type":17,"tag":251,"props":1400,"children":1401},{"class":253,"line":254},[1402,1407,1411],{"type":17,"tag":251,"props":1403,"children":1404},{"class":264},[1405],{"type":23,"value":1406},"output_vx ",{"type":17,"tag":251,"props":1408,"children":1409},{"class":258},[1410],{"type":23,"value":331},{"type":17,"tag":251,"props":1412,"children":1413},{"class":264},[1414],{"type":23,"value":1415}," pid_controller_x.calculate_pid(error_x)\n",{"type":17,"tag":251,"props":1417,"children":1418},{"class":253,"line":281},[1419,1424,1428],{"type":17,"tag":251,"props":1420,"children":1421},{"class":264},[1422],{"type":23,"value":1423},"output_vy ",{"type":17,"tag":251,"props":1425,"children":1426},{"class":258},[1427],{"type":23,"value":331},{"type":17,"tag":251,"props":1429,"children":1430},{"class":264},[1431],{"type":23,"value":1432}," pid_controller_y.calculate_pid(error_y)\n",{"type":17,"tag":251,"props":1434,"children":1435},{"class":253,"line":310},[1436,1441,1445],{"type":17,"tag":251,"props":1437,"children":1438},{"class":264},[1439],{"type":23,"value":1440},"output_omega ",{"type":17,"tag":251,"props":1442,"children":1443},{"class":258},[1444],{"type":23,"value":331},{"type":17,"tag":251,"props":1446,"children":1447},{"class":264},[1448],{"type":23,"value":1449}," pid_controller_yaw.calculate_pid(error_yaw)",{"type":17,"tag":26,"props":1451,"children":1452},{},[1453],{"type":23,"value":1454},"We will also need to update current position of the robot with the given optimal value from the PID controller.",{"type":17,"tag":236,"props":1456,"children":1459},{"className":1457,"code":1458,"language":241,"meta":7},[239],"x_next, y_next, yaw_next = diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) # Skip for omega we only look for x, y\ncurrent_x = x_next\ncurrent_y = y_next\ncurrent_yaw = yaw_next\n",[1460],{"type":17,"tag":244,"props":1461,"children":1462},{},[1463],{"type":17,"tag":236,"props":1464,"children":1465},{"__ignoreMap":7},[1466,1488,1505,1522],{"type":17,"tag":251,"props":1467,"children":1468},{"class":253,"line":254},[1469,1474,1478,1483],{"type":17,"tag":251,"props":1470,"children":1471},{"class":264},[1472],{"type":23,"value":1473},"x_next, y_next, yaw_next ",{"type":17,"tag":251,"props":1475,"children":1476},{"class":258},[1477],{"type":23,"value":331},{"type":17,"tag":251,"props":1479,"children":1480},{"class":264},[1481],{"type":23,"value":1482}," diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) ",{"type":17,"tag":251,"props":1484,"children":1485},{"class":930},[1486],{"type":23,"value":1487},"# Skip for omega we only look for x, y\n",{"type":17,"tag":251,"props":1489,"children":1490},{"class":253,"line":281},[1491,1496,1500],{"type":17,"tag":251,"props":1492,"children":1493},{"class":264},[1494],{"type":23,"value":1495},"current_x ",{"type":17,"tag":251,"props":1497,"children":1498},{"class":258},[1499],{"type":23,"value":331},{"type":17,"tag":251,"props":1501,"children":1502},{"class":264},[1503],{"type":23,"value":1504}," x_next\n",{"type":17,"tag":251,"props":1506,"children":1507},{"class":253,"line":310},[1508,1513,1517],{"type":17,"tag":251,"props":1509,"children":1510},{"class":264},[1511],{"type":23,"value":1512},"current_y ",{"type":17,"tag":251,"props":1514,"children":1515},{"class":258},[1516],{"type":23,"value":331},{"type":17,"tag":251,"props":1518,"children":1519},{"class":264},[1520],{"type":23,"value":1521}," y_next\n",{"type":17,"tag":251,"props":1523,"children":1524},{"class":253,"line":343},[1525,1530,1534],{"type":17,"tag":251,"props":1526,"children":1527},{"class":264},[1528],{"type":23,"value":1529},"current_yaw ",{"type":17,"tag":251,"props":1531,"children":1532},{"class":258},[1533],{"type":23,"value":331},{"type":17,"tag":251,"props":1535,"children":1536},{"class":264},[1537],{"type":23,"value":1538}," yaw_next",{"type":17,"tag":26,"props":1540,"children":1541},{},[1542,1544,1549],{"type":23,"value":1543},"I use ",{"type":17,"tag":1288,"props":1545,"children":1546},{},[1547],{"type":23,"value":1548},"matplotlib",{"type":23,"value":1550}," library to simulate my robot.",{"type":17,"tag":236,"props":1552,"children":1555},{"className":1553,"code":1554,"language":241,"meta":7},[239],"plt.clf()\nplt.gcf().canvas.mpl_connect('key_release_event',\n            lambda event: [exit(0) if event.key == 'escape' else None])\nplot_arrow(current_x, current_y, current_yaw)\nplt.plot(5, 5)\nplt.plot(ref_path[0], ref_path[1], marker=\"x\", color=\"blue\", label=\"Input Trajectory\")\nplt.axis(\"equal\")\nplt.grid(True)\nplt.legend()\nplt.pause(0.0001)\n",[1556],{"type":17,"tag":244,"props":1557,"children":1558},{},[1559],{"type":17,"tag":236,"props":1560,"children":1561},{"__ignoreMap":7},[1562,1570,1589,1673,1681,1708,1789,1806,1823,1831],{"type":17,"tag":251,"props":1563,"children":1564},{"class":253,"line":254},[1565],{"type":17,"tag":251,"props":1566,"children":1567},{"class":264},[1568],{"type":23,"value":1569},"plt.clf()\n",{"type":17,"tag":251,"props":1571,"children":1572},{"class":253,"line":281},[1573,1578,1584],{"type":17,"tag":251,"props":1574,"children":1575},{"class":264},[1576],{"type":23,"value":1577},"plt.gcf().canvas.mpl_connect(",{"type":17,"tag":251,"props":1579,"children":1581},{"class":1580},"ct-244866",[1582],{"type":23,"value":1583},"'key_release_event'",{"type":17,"tag":251,"props":1585,"children":1586},{"class":264},[1587],{"type":23,"value":1588},",\n",{"type":17,"tag":251,"props":1590,"children":1591},{"class":253,"line":310},[1592,1597,1602,1607,1612,1617,1621,1626,1631,1636,1641,1645,1650,1654,1659,1663,1668],{"type":17,"tag":251,"props":1593,"children":1594},{"class":264},[1595],{"type":23,"value":1596},"            ",{"type":17,"tag":251,"props":1598,"children":1599},{"class":258},[1600],{"type":23,"value":1601},"lambda",{"type":17,"tag":251,"props":1603,"children":1604},{"class":264},[1605],{"type":23,"value":1606}," event: [",{"type":17,"tag":251,"props":1608,"children":1609},{"class":299},[1610],{"type":23,"value":1611},"exit",{"type":17,"tag":251,"props":1613,"children":1614},{"class":264},[1615],{"type":23,"value":1616},"(",{"type":17,"tag":251,"props":1618,"children":1619},{"class":299},[1620],{"type":23,"value":1318},{"type":17,"tag":251,"props":1622,"children":1623},{"class":264},[1624],{"type":23,"value":1625},") ",{"type":17,"tag":251,"props":1627,"children":1628},{"class":258},[1629],{"type":23,"value":1630},"if",{"type":17,"tag":251,"props":1632,"children":1633},{"class":264},[1634],{"type":23,"value":1635}," event.key ",{"type":17,"tag":251,"props":1637,"children":1638},{"class":258},[1639],{"type":23,"value":1640},"==",{"type":17,"tag":251,"props":1642,"children":1643},{"class":264},[1644],{"type":23,"value":267},{"type":17,"tag":251,"props":1646,"children":1647},{"class":1580},[1648],{"type":23,"value":1649},"'escape'",{"type":17,"tag":251,"props":1651,"children":1652},{"class":264},[1653],{"type":23,"value":267},{"type":17,"tag":251,"props":1655,"children":1656},{"class":258},[1657],{"type":23,"value":1658},"else",{"type":17,"tag":251,"props":1660,"children":1661},{"class":264},[1662],{"type":23,"value":267},{"type":17,"tag":251,"props":1664,"children":1665},{"class":299},[1666],{"type":23,"value":1667},"None",{"type":17,"tag":251,"props":1669,"children":1670},{"class":264},[1671],{"type":23,"value":1672},"])\n",{"type":17,"tag":251,"props":1674,"children":1675},{"class":253,"line":343},[1676],{"type":17,"tag":251,"props":1677,"children":1678},{"class":264},[1679],{"type":23,"value":1680},"plot_arrow(current_x, current_y, current_yaw)\n",{"type":17,"tag":251,"props":1682,"children":1683},{"class":253,"line":373},[1684,1689,1694,1699,1703],{"type":17,"tag":251,"props":1685,"children":1686},{"class":264},[1687],{"type":23,"value":1688},"plt.plot(",{"type":17,"tag":251,"props":1690,"children":1691},{"class":299},[1692],{"type":23,"value":1693},"5",{"type":17,"tag":251,"props":1695,"children":1696},{"class":264},[1697],{"type":23,"value":1698},", ",{"type":17,"tag":251,"props":1700,"children":1701},{"class":299},[1702],{"type":23,"value":1693},{"type":17,"tag":251,"props":1704,"children":1705},{"class":264},[1706],{"type":23,"value":1707},")\n",{"type":17,"tag":251,"props":1709,"children":1710},{"class":253,"line":399},[1711,1716,1720,1725,1729,1734,1740,1744,1749,1753,1758,1762,1767,1771,1776,1780,1785],{"type":17,"tag":251,"props":1712,"children":1713},{"class":264},[1714],{"type":23,"value":1715},"plt.plot(ref_path[",{"type":17,"tag":251,"props":1717,"children":1718},{"class":299},[1719],{"type":23,"value":1318},{"type":17,"tag":251,"props":1721,"children":1722},{"class":264},[1723],{"type":23,"value":1724},"], ref_path[",{"type":17,"tag":251,"props":1726,"children":1727},{"class":299},[1728],{"type":23,"value":976},{"type":17,"tag":251,"props":1730,"children":1731},{"class":264},[1732],{"type":23,"value":1733},"], ",{"type":17,"tag":251,"props":1735,"children":1737},{"class":1736},"ct-657843",[1738],{"type":23,"value":1739},"marker",{"type":17,"tag":251,"props":1741,"children":1742},{"class":258},[1743],{"type":23,"value":331},{"type":17,"tag":251,"props":1745,"children":1746},{"class":1580},[1747],{"type":23,"value":1748},"\"x\"",{"type":17,"tag":251,"props":1750,"children":1751},{"class":264},[1752],{"type":23,"value":1698},{"type":17,"tag":251,"props":1754,"children":1755},{"class":1736},[1756],{"type":23,"value":1757},"color",{"type":17,"tag":251,"props":1759,"children":1760},{"class":258},[1761],{"type":23,"value":331},{"type":17,"tag":251,"props":1763,"children":1764},{"class":1580},[1765],{"type":23,"value":1766},"\"blue\"",{"type":17,"tag":251,"props":1768,"children":1769},{"class":264},[1770],{"type":23,"value":1698},{"type":17,"tag":251,"props":1772,"children":1773},{"class":1736},[1774],{"type":23,"value":1775},"label",{"type":17,"tag":251,"props":1777,"children":1778},{"class":258},[1779],{"type":23,"value":331},{"type":17,"tag":251,"props":1781,"children":1782},{"class":1580},[1783],{"type":23,"value":1784},"\"Input Trajectory\"",{"type":17,"tag":251,"props":1786,"children":1787},{"class":264},[1788],{"type":23,"value":1707},{"type":17,"tag":251,"props":1790,"children":1791},{"class":253,"line":427},[1792,1797,1802],{"type":17,"tag":251,"props":1793,"children":1794},{"class":264},[1795],{"type":23,"value":1796},"plt.axis(",{"type":17,"tag":251,"props":1798,"children":1799},{"class":1580},[1800],{"type":23,"value":1801},"\"equal\"",{"type":17,"tag":251,"props":1803,"children":1804},{"class":264},[1805],{"type":23,"value":1707},{"type":17,"tag":251,"props":1807,"children":1808},{"class":253,"line":453},[1809,1814,1819],{"type":17,"tag":251,"props":1810,"children":1811},{"class":264},[1812],{"type":23,"value":1813},"plt.grid(",{"type":17,"tag":251,"props":1815,"children":1816},{"class":299},[1817],{"type":23,"value":1818},"True",{"type":17,"tag":251,"props":1820,"children":1821},{"class":264},[1822],{"type":23,"value":1707},{"type":17,"tag":251,"props":1824,"children":1825},{"class":253,"line":471},[1826],{"type":17,"tag":251,"props":1827,"children":1828},{"class":264},[1829],{"type":23,"value":1830},"plt.legend()\n",{"type":17,"tag":251,"props":1832,"children":1833},{"class":253,"line":480},[1834,1839,1844],{"type":17,"tag":251,"props":1835,"children":1836},{"class":264},[1837],{"type":23,"value":1838},"plt.pause(",{"type":17,"tag":251,"props":1840,"children":1841},{"class":299},[1842],{"type":23,"value":1843},"0.0001",{"type":17,"tag":251,"props":1845,"children":1846},{"class":264},[1847],{"type":23,"value":1848},")",{"type":17,"tag":1270,"props":1850,"children":1852},{"id":1851},"path-tracking",[1853],{"type":23,"value":1854},"Path Tracking",{"type":17,"tag":26,"props":1856,"children":1857},{},[1858,1860,1865,1867,1872],{"type":23,"value":1859},"The code is all way the same. The different is that, I fit the continuous point into the robot instead of fixed goal point. I use ",{"type":17,"tag":1288,"props":1861,"children":1862},{},[1863],{"type":23,"value":1864},"BeizerCurve",{"type":23,"value":1866}," function to generate ",{"type":17,"tag":686,"props":1868,"children":1869},{},[1870],{"type":23,"value":1871}," Spline Trajectory ",{"type":23,"value":1873}," for the robot.",{"type":17,"tag":26,"props":1875,"children":1876},{},[1877,1879,1888],{"type":23,"value":1878},"The full code is published open-source on my Github. Link here ",{"type":17,"tag":1880,"props":1881,"children":1885},"a",{"href":1882,"rel":1883},"https://github.com/SokhengDin/PathTracking/tree/main/PID",[1884],"nofollow",[1886],{"type":23,"value":1887},"Github",{"type":23,"value":1889},". Hit the star for me if you like my work 🙂.",{"type":17,"tag":1270,"props":1891,"children":1893},{"id":1892},"result",[1894],{"type":23,"value":1895},"Result",{"type":17,"tag":94,"props":1897,"children":1899},{"className":1898},[97,98,99],[1900,1901],{"type":23,"value":102},{"type":17,"tag":104,"props":1902,"children":1905},{"className":1903,"src":1904},[107],"/topics/nmpc/Figure_pid_p.png",[],{"type":17,"tag":110,"props":1907,"children":1909},{"className":1908},[59,113,114,115],[1910],{"type":23,"value":1911},"\n    PID Controller with position control on Differential Drive Robot\n",{"type":17,"tag":94,"props":1913,"children":1915},{"className":1914},[97,98,99],[1916,1917],{"type":23,"value":102},{"type":17,"tag":104,"props":1918,"children":1921},{"className":1919,"src":1920},[107],"/topics/nmpc/Figure_pid_t.png",[],{"type":17,"tag":110,"props":1923,"children":1925},{"className":1924},[59,113,114,115],[1926],{"type":23,"value":1927},"\n    PID Controller with path tracking control on Differential Drive Robot\n",{"type":17,"tag":18,"props":1929,"children":1931},{"id":1930},"in-conclusion",[1932],{"type":23,"value":1933},"In Conclusion",{"type":17,"tag":26,"props":1935,"children":1936},{},[1937],{"type":23,"value":1938},"In my opinion, the PID Controller is an excellent choice for most control system applications due to its simplicity and powerful capabilities in handling complex control challenges arising from various systems.",{"type":17,"tag":18,"props":1940,"children":1942},{"id":1941},"references",[1943],{"type":23,"value":1944},"References",{"type":17,"tag":1946,"props":1947,"children":1948},"ol",{},[1949,1962,1967,1978],{"type":17,"tag":66,"props":1950,"children":1951},{},[1952,1954,1961],{"type":23,"value":1953},"BeizerCurve: ",{"type":17,"tag":1880,"props":1955,"children":1958},{"href":1956,"rel":1957},"https://en.wikipedia.org/wiki/B%C3%A9zier_curve",[1884],[1959],{"type":23,"value":1960},"https://en.wikipedia.org/wiki/Bézier_curve",{"type":23,"value":38},{"type":17,"tag":66,"props":1963,"children":1964},{},[1965],{"type":23,"value":1966},"PID Controller: Control Systems Engineering by Normal S. Nise.",{"type":17,"tag":66,"props":1968,"children":1969},{},[1970,1972],{"type":23,"value":1971},"Beizer Path : ",{"type":17,"tag":1880,"props":1973,"children":1976},{"href":1974,"rel":1975},"https://github.com/AtsushiSakai/PythonRobotics/tree/master/PathPlanning/BezierPath",[1884],[1977],{"type":23,"value":1974},{"type":17,"tag":66,"props":1979,"children":1980},{},[1981,1983],{"type":23,"value":1982},"PID Lecture : ",{"type":17,"tag":1880,"props":1984,"children":1987},{"href":1985,"rel":1986},"https://www.cds.caltech.edu/~murray/courses/cds101/fa02/caltech/astrom-ch6.pdf",[1884],[1988],{"type":23,"value":1985},{"type":17,"tag":1990,"children":1991},"style",[1992],{"type":23,"value":1993},".ct-857441{color:#F97583;}\n.ct-767297{color:#E1E4E8;}\n.ct-806137{color:#B392F0;}\n.ct-533739{color:#79B8FF;}\n.ct-326375{color:#6A737D;}\n.ct-244866{color:#9ECBFF;}\n.ct-657843{color:#FFAB70;}",{"title":7,"searchDepth":281,"depth":281,"links":1995},[1996,1997,1998,1999,2000,2001,2006,2007],{"id":20,"depth":281,"text":24},{"id":41,"depth":281,"text":44},{"id":52,"depth":281,"text":55},{"id":121,"depth":281,"text":124},{"id":182,"depth":281,"text":185},{"id":1265,"depth":281,"text":1268,"children":2002},[2003,2004,2005],{"id":1272,"depth":310,"text":1275},{"id":1851,"depth":310,"text":1854},{"id":1892,"depth":310,"text":1895},{"id":1930,"depth":281,"text":1933},{"id":1941,"depth":281,"text":1944},"markdown","content:topics:pid-controller.md","content","topics/pid-controller.md","md",1693576955386]