[{"data":1,"prerenderedAt":2013},["Reactive",2],{"content-/topics/pid-controller":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"author":10,"slug":11,"tag":11,"img":12,"body":13,"_type":2008,"_id":2009,"_source":2010,"_file":2011,"_extension":2012},"/topics/pid-controller","topics",false,"","PID Controller","Introduction to PID Controller","DIN SOKHENG","pid","/topics/nmpc/diff_drive.png",{"type":14,"children":15,"toc":1995},"root",[16,25,39,46,51,57,62,94,111,121,127,137,143,148,182,188,193,198,207,213,218,222,227,231,236,681,700,1259,1264,1270,1277,1296,1384,1389,1451,1456,1540,1552,1850,1856,1875,1891,1897,1907,1913,1923,1929,1935,1940,1946,1990],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"what-is-pid-controller",[22],{"type":23,"value":24},"text","What is PID Controller ?",{"type":17,"tag":26,"props":27,"children":28},"p",{},[29,31,37],{"type":23,"value":30},"The Proportional Integral Derivative (PID) controller is a traditional method in control systems that has found widespread use in control system engineering and industrial applications since its emergence in the 1940s. A PID controller is considered a feedback controller, aiming to minimize the error between the system's feedback and the desired setpoint by manually or automatically fine-tuning the coefficients ",{"type":17,"tag":32,"props":33,"children":36},"math-render",{"latex-express":34,"styles":35},"K_{P}, K_{I}, K_{D}","inline-flex",[],{"type":23,"value":38},".",{"type":17,"tag":40,"props":41,"children":43},"h2",{"id":42},"how-it-works",[44],{"type":23,"value":45},"How it works ?",{"type":17,"tag":26,"props":47,"children":48},{},[49],{"type":23,"value":50},"Imagine you want to control the speed of a DC motor to reach 300 RPM, but due to the natural response of the DC motor, it cannot reach the desired angular speed. PID offers a solution to this natural response by adjusting the system's time response using its three components, as shown in the formula below.",{"type":17,"tag":40,"props":52,"children":54},{"id":53},"formulation",[55],{"type":23,"value":56},"Formulation",{"type":17,"tag":32,"props":58,"children":61},{"latex-express":59,"styles":60},"u(t) = K_{p}e(t) + K_{I}\\int_{0}^{t} e(\\tau) d\\tau + K_{D} \\frac{d e(t)}{dt} ","text-center",[],{"type":17,"tag":63,"props":64,"children":65},"ul",{},[66,76,85],{"type":17,"tag":67,"props":68,"children":69},"li",{},[70,74],{"type":17,"tag":32,"props":71,"children":73},{"latex-express":72,"styles":35},"K_{P}",[],{"type":23,"value":75}," represents the proportional gain.",{"type":17,"tag":67,"props":77,"children":78},{},[79,83],{"type":17,"tag":32,"props":80,"children":82},{"latex-express":81,"styles":35},"K_{I}",[],{"type":23,"value":84}," represents the integral gain.",{"type":17,"tag":67,"props":86,"children":87},{},[88,92],{"type":17,"tag":32,"props":89,"children":91},{"latex-express":90,"styles":35},"K_{D}",[],{"type":23,"value":93}," represents the derivative gain.",{"type":17,"tag":95,"props":96,"children":101},"figure",{"className":97},[98,99,100],"mb-4","inline-block","max-w-sm",[102,104],{"type":23,"value":103},"\n  ",{"type":17,"tag":105,"props":106,"children":110},"img",{"className":107,"src":109},[108],"mx-auto","/topics/nmpc/PID.png",[],{"type":17,"tag":112,"props":113,"children":118},"figcaption",{"className":114},[60,115,116,117],"text-sm","text-neutral-600","dark:text-neutral-400",[119],{"type":23,"value":120},"\n    The Block diagram of PID Controller\n",{"type":17,"tag":40,"props":122,"children":124},{"id":123},"response-time",[125],{"type":23,"value":126},"Response Time",{"type":17,"tag":95,"props":128,"children":130},{"className":129},[98,99,100],[131,132],{"type":23,"value":103},{"type":17,"tag":105,"props":133,"children":136},{"className":134,"src":135},[108],"/topics/nmpc/response_timepid.png",[],{"type":17,"tag":112,"props":138,"children":140},{"className":139},[60,115,116,117],[141],{"type":23,"value":142},"\n    The response time of the system with each K_P, K_I, K_D\n",{"type":17,"tag":26,"props":144,"children":145},{},[146],{"type":23,"value":147},"As you can see in the figure above, the response time of the system is difference.",{"type":17,"tag":63,"props":149,"children":150},{},[151,162,172],{"type":17,"tag":67,"props":152,"children":153},{},[154,156,160],{"type":23,"value":155},"The response time with ",{"type":17,"tag":32,"props":157,"children":159},{"latex-express":158,"styles":35},"K_{I}=2",[],{"type":23,"value":161}," the system is likely to overshoot before reaching the steady-state, which may not be suitable for applications like controlling a DC motor.",{"type":17,"tag":67,"props":163,"children":164},{},[165,166,170],{"type":23,"value":155},{"type":17,"tag":32,"props":167,"children":169},{"latex-express":168,"styles":35},"K_{i}=0.5, ",[],{"type":23,"value":171},"  the response does not overshoot but has a slower response to reach the steady-state.",{"type":17,"tag":67,"props":173,"children":174},{},[175,176,180],{"type":23,"value":155},{"type":17,"tag":32,"props":177,"children":179},{"latex-express":178,"styles":35},"K_{p}=1, K_{i}=1, K_{d}=1",[],{"type":23,"value":181},"  there is a slight overshoot, but the steady-state is reached faster.",{"type":17,"tag":40,"props":183,"children":185},{"id":184},"how-can-we-write-pid-code-in-python",[186],{"type":23,"value":187},"How can we write PID code in Python ?",{"type":17,"tag":26,"props":189,"children":190},{},[191],{"type":23,"value":192},"Let's use a differential drive robot as a case study system. A differential drive robot is commonly used in robotics and automation, making it an ideal choice for a demonstration.",{"type":17,"tag":26,"props":194,"children":195},{},[196],{"type":23,"value":197},"The configuration of Differential Drive Robot in axes OXY.",{"type":17,"tag":95,"props":199,"children":201},{"className":200},[98,99,100],[202,203],{"type":23,"value":103},{"type":17,"tag":105,"props":204,"children":206},{"className":205,"src":12},[108],[],{"type":17,"tag":112,"props":208,"children":210},{"className":209},[60,115,116,117],[211],{"type":23,"value":212},"\n    The configuration of Differential Drive Robot in axes OXY.\n",{"type":17,"tag":26,"props":214,"children":215},{},[216],{"type":23,"value":217},"The forward kinematic equation",{"type":17,"tag":32,"props":219,"children":221},{"latex-express":220,"styles":60},"\n\\begin{bmatrix} v_{x} \\\\ v_{y} \\\\ v_{\\theta} \\end{bmatrix} = \\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{\\theta} \\\\ \\omega \\end{bmatrix}\n ",[],{"type":17,"tag":26,"props":223,"children":224},{},[225],{"type":23,"value":226},"So, if we discretize the forward kinematic with a certain sampling time, we will get",{"type":17,"tag":32,"props":228,"children":230},{"latex-express":229,"styles":60},"\n\\begin{bmatrix} x_{t+1} \\\\ y_{t+1} \\\\ \\theta_{t+1} \\end{bmatrix} = \\begin{bmatrix} x_{t} \\\\ y_{t} \\\\ \\theta_{t} \\end{bmatrix} +\\begin{bmatrix} v\\sin{(\\theta)} \\\\ v\\cos{(\\theta)} \\\\ \\omega \\end{bmatrix} \\times \\Delta t\n ",[],{"type":17,"tag":26,"props":232,"children":233},{},[234],{"type":23,"value":235},"In Python,",{"type":17,"tag":237,"props":238,"children":243},"code",{"className":239,"code":241,"language":242,"meta":7},[240],"language-python","class DifferentialDrive:\n    def __init__(self):\n        self.r = 0.05\n        self.L = 0.25\n    def forward_kinematic(self, v, omega, yaw):\n        vx = v*np.cos(yaw)\n        vy = v*np.sin(yaw)\n        vyaw = omega\n\n        return vx, vy, vyaw\n    def discrete_state(self, x, y, yaw, v, omega, dt):\n        dx, dy, dyaw = self.forward_kinematic(v, omega, yaw)\n        x_next = x + dx * dt\n        y_next = y + dy * dt\n        yaw_next = yaw + dyaw * dt\n\n        return x_next, y_next, yaw_next\n","python",[244],{"type":17,"tag":245,"props":246,"children":247},"pre",{},[248],{"type":17,"tag":237,"props":249,"children":250},{"__ignoreMap":7},[251,280,309,342,372,398,426,452,470,479,497,523,549,586,621,656,664],{"type":17,"tag":252,"props":253,"children":256},"span",{"class":254,"line":255},"line",1,[257,263,269,275],{"type":17,"tag":252,"props":258,"children":260},{"class":259},"ct-857441",[261],{"type":23,"value":262},"class",{"type":17,"tag":252,"props":264,"children":266},{"class":265},"ct-767297",[267],{"type":23,"value":268}," ",{"type":17,"tag":252,"props":270,"children":272},{"class":271},"ct-806137",[273],{"type":23,"value":274},"DifferentialDrive",{"type":17,"tag":252,"props":276,"children":277},{"class":265},[278],{"type":23,"value":279},":\n",{"type":17,"tag":252,"props":281,"children":283},{"class":254,"line":282},2,[284,289,294,298,304],{"type":17,"tag":252,"props":285,"children":286},{"class":265},[287],{"type":23,"value":288},"    ",{"type":17,"tag":252,"props":290,"children":291},{"class":259},[292],{"type":23,"value":293},"def",{"type":17,"tag":252,"props":295,"children":296},{"class":265},[297],{"type":23,"value":268},{"type":17,"tag":252,"props":299,"children":301},{"class":300},"ct-533739",[302],{"type":23,"value":303},"__init__",{"type":17,"tag":252,"props":305,"children":306},{"class":265},[307],{"type":23,"value":308},"(self):\n",{"type":17,"tag":252,"props":310,"children":312},{"class":254,"line":311},3,[313,318,323,328,333,337],{"type":17,"tag":252,"props":314,"children":315},{"class":265},[316],{"type":23,"value":317},"        ",{"type":17,"tag":252,"props":319,"children":320},{"class":300},[321],{"type":23,"value":322},"self",{"type":17,"tag":252,"props":324,"children":325},{"class":265},[326],{"type":23,"value":327},".r ",{"type":17,"tag":252,"props":329,"children":330},{"class":259},[331],{"type":23,"value":332},"=",{"type":17,"tag":252,"props":334,"children":335},{"class":265},[336],{"type":23,"value":268},{"type":17,"tag":252,"props":338,"children":339},{"class":300},[340],{"type":23,"value":341},"0.05\n",{"type":17,"tag":252,"props":343,"children":345},{"class":254,"line":344},4,[346,350,354,359,363,367],{"type":17,"tag":252,"props":347,"children":348},{"class":265},[349],{"type":23,"value":317},{"type":17,"tag":252,"props":351,"children":352},{"class":300},[353],{"type":23,"value":322},{"type":17,"tag":252,"props":355,"children":356},{"class":265},[357],{"type":23,"value":358},".L ",{"type":17,"tag":252,"props":360,"children":361},{"class":259},[362],{"type":23,"value":332},{"type":17,"tag":252,"props":364,"children":365},{"class":265},[366],{"type":23,"value":268},{"type":17,"tag":252,"props":368,"children":369},{"class":300},[370],{"type":23,"value":371},"0.25\n",{"type":17,"tag":252,"props":373,"children":375},{"class":254,"line":374},5,[376,380,384,388,393],{"type":17,"tag":252,"props":377,"children":378},{"class":265},[379],{"type":23,"value":288},{"type":17,"tag":252,"props":381,"children":382},{"class":259},[383],{"type":23,"value":293},{"type":17,"tag":252,"props":385,"children":386},{"class":265},[387],{"type":23,"value":268},{"type":17,"tag":252,"props":389,"children":390},{"class":271},[391],{"type":23,"value":392},"forward_kinematic",{"type":17,"tag":252,"props":394,"children":395},{"class":265},[396],{"type":23,"value":397},"(self, v, omega, yaw):\n",{"type":17,"tag":252,"props":399,"children":401},{"class":254,"line":400},6,[402,407,411,416,421],{"type":17,"tag":252,"props":403,"children":404},{"class":265},[405],{"type":23,"value":406},"        vx ",{"type":17,"tag":252,"props":408,"children":409},{"class":259},[410],{"type":23,"value":332},{"type":17,"tag":252,"props":412,"children":413},{"class":265},[414],{"type":23,"value":415}," v",{"type":17,"tag":252,"props":417,"children":418},{"class":259},[419],{"type":23,"value":420},"*",{"type":17,"tag":252,"props":422,"children":423},{"class":265},[424],{"type":23,"value":425},"np.cos(yaw)\n",{"type":17,"tag":252,"props":427,"children":429},{"class":254,"line":428},7,[430,435,439,443,447],{"type":17,"tag":252,"props":431,"children":432},{"class":265},[433],{"type":23,"value":434},"        vy ",{"type":17,"tag":252,"props":436,"children":437},{"class":259},[438],{"type":23,"value":332},{"type":17,"tag":252,"props":440,"children":441},{"class":265},[442],{"type":23,"value":415},{"type":17,"tag":252,"props":444,"children":445},{"class":259},[446],{"type":23,"value":420},{"type":17,"tag":252,"props":448,"children":449},{"class":265},[450],{"type":23,"value":451},"np.sin(yaw)\n",{"type":17,"tag":252,"props":453,"children":455},{"class":254,"line":454},8,[456,461,465],{"type":17,"tag":252,"props":457,"children":458},{"class":265},[459],{"type":23,"value":460},"        vyaw ",{"type":17,"tag":252,"props":462,"children":463},{"class":259},[464],{"type":23,"value":332},{"type":17,"tag":252,"props":466,"children":467},{"class":265},[468],{"type":23,"value":469}," omega\n",{"type":17,"tag":252,"props":471,"children":473},{"class":254,"line":472},9,[474],{"type":17,"tag":252,"props":475,"children":476},{},[477],{"type":23,"value":478},"\n",{"type":17,"tag":252,"props":480,"children":482},{"class":254,"line":481},10,[483,487,492],{"type":17,"tag":252,"props":484,"children":485},{"class":265},[486],{"type":23,"value":317},{"type":17,"tag":252,"props":488,"children":489},{"class":259},[490],{"type":23,"value":491},"return",{"type":17,"tag":252,"props":493,"children":494},{"class":265},[495],{"type":23,"value":496}," vx, vy, vyaw\n",{"type":17,"tag":252,"props":498,"children":500},{"class":254,"line":499},11,[501,505,509,513,518],{"type":17,"tag":252,"props":502,"children":503},{"class":265},[504],{"type":23,"value":288},{"type":17,"tag":252,"props":506,"children":507},{"class":259},[508],{"type":23,"value":293},{"type":17,"tag":252,"props":510,"children":511},{"class":265},[512],{"type":23,"value":268},{"type":17,"tag":252,"props":514,"children":515},{"class":271},[516],{"type":23,"value":517},"discrete_state",{"type":17,"tag":252,"props":519,"children":520},{"class":265},[521],{"type":23,"value":522},"(self, x, y, yaw, v, omega, dt):\n",{"type":17,"tag":252,"props":524,"children":526},{"class":254,"line":525},12,[527,532,536,540,544],{"type":17,"tag":252,"props":528,"children":529},{"class":265},[530],{"type":23,"value":531},"        dx, dy, dyaw ",{"type":17,"tag":252,"props":533,"children":534},{"class":259},[535],{"type":23,"value":332},{"type":17,"tag":252,"props":537,"children":538},{"class":265},[539],{"type":23,"value":268},{"type":17,"tag":252,"props":541,"children":542},{"class":300},[543],{"type":23,"value":322},{"type":17,"tag":252,"props":545,"children":546},{"class":265},[547],{"type":23,"value":548},".forward_kinematic(v, omega, yaw)\n",{"type":17,"tag":252,"props":550,"children":552},{"class":254,"line":551},13,[553,558,562,567,572,577,581],{"type":17,"tag":252,"props":554,"children":555},{"class":265},[556],{"type":23,"value":557},"        x_next ",{"type":17,"tag":252,"props":559,"children":560},{"class":259},[561],{"type":23,"value":332},{"type":17,"tag":252,"props":563,"children":564},{"class":265},[565],{"type":23,"value":566}," x ",{"type":17,"tag":252,"props":568,"children":569},{"class":259},[570],{"type":23,"value":571},"+",{"type":17,"tag":252,"props":573,"children":574},{"class":265},[575],{"type":23,"value":576}," dx ",{"type":17,"tag":252,"props":578,"children":579},{"class":259},[580],{"type":23,"value":420},{"type":17,"tag":252,"props":582,"children":583},{"class":265},[584],{"type":23,"value":585}," dt\n",{"type":17,"tag":252,"props":587,"children":589},{"class":254,"line":588},14,[590,595,599,604,608,613,617],{"type":17,"tag":252,"props":591,"children":592},{"class":265},[593],{"type":23,"value":594},"        y_next ",{"type":17,"tag":252,"props":596,"children":597},{"class":259},[598],{"type":23,"value":332},{"type":17,"tag":252,"props":600,"children":601},{"class":265},[602],{"type":23,"value":603}," y ",{"type":17,"tag":252,"props":605,"children":606},{"class":259},[607],{"type":23,"value":571},{"type":17,"tag":252,"props":609,"children":610},{"class":265},[611],{"type":23,"value":612}," dy ",{"type":17,"tag":252,"props":614,"children":615},{"class":259},[616],{"type":23,"value":420},{"type":17,"tag":252,"props":618,"children":619},{"class":265},[620],{"type":23,"value":585},{"type":17,"tag":252,"props":622,"children":624},{"class":254,"line":623},15,[625,630,634,639,643,648,652],{"type":17,"tag":252,"props":626,"children":627},{"class":265},[628],{"type":23,"value":629},"        yaw_next ",{"type":17,"tag":252,"props":631,"children":632},{"class":259},[633],{"type":23,"value":332},{"type":17,"tag":252,"props":635,"children":636},{"class":265},[637],{"type":23,"value":638}," yaw ",{"type":17,"tag":252,"props":640,"children":641},{"class":259},[642],{"type":23,"value":571},{"type":17,"tag":252,"props":644,"children":645},{"class":265},[646],{"type":23,"value":647}," dyaw ",{"type":17,"tag":252,"props":649,"children":650},{"class":259},[651],{"type":23,"value":420},{"type":17,"tag":252,"props":653,"children":654},{"class":265},[655],{"type":23,"value":585},{"type":17,"tag":252,"props":657,"children":659},{"class":254,"line":658},16,[660],{"type":17,"tag":252,"props":661,"children":662},{},[663],{"type":23,"value":478},{"type":17,"tag":252,"props":665,"children":667},{"class":254,"line":666},17,[668,672,676],{"type":17,"tag":252,"props":669,"children":670},{"class":265},[671],{"type":23,"value":317},{"type":17,"tag":252,"props":673,"children":674},{"class":259},[675],{"type":23,"value":491},{"type":17,"tag":252,"props":677,"children":678},{"class":265},[679],{"type":23,"value":680}," x_next, y_next, yaw_next",{"type":17,"tag":26,"props":682,"children":683},{},[684,686,692,694,699],{"type":23,"value":685},"The ",{"type":17,"tag":687,"props":688,"children":689},"strong",{},[690],{"type":23,"value":691}," DifferentialDrive ",{"type":23,"value":693}," class that we defined, has all the need attribute to use for PID control !!. We just need to write another class for our ",{"type":17,"tag":687,"props":695,"children":696},{},[697],{"type":23,"value":698}," PID Controller ",{"type":23,"value":38},{"type":17,"tag":237,"props":701,"children":704},{"className":702,"code":703,"language":242,"meta":7},[240],"class PIDController:\n    def __init__(self, kp, ki, kd, dt):\n\n        self.kp = kp\n        self.ki = ki\n        self.kd = kd\n        self.dt = dt\n        self.integral = 0\n\n    def calculate_pid(self, errors):\n        # Calculate proportional error\n        proportional = self.kp * errors[-1]\n        # Calculate integration error\n        integral = self.integral + self.ki * (errors[-1]) * self.dt\n        self.integral = integral\n        # Calculate derivative error\n        derivative = self.kd * (errors[-1] - errors[-2])/self.dt\n\n        output = proportional + integral + derivative\n\n        return output\n",[705],{"type":17,"tag":245,"props":706,"children":707},{},[708],{"type":17,"tag":237,"props":709,"children":710},{"__ignoreMap":7},[711,731,755,762,787,812,837,861,890,897,922,935,983,995,1074,1098,1110,1190,1198,1234,1242],{"type":17,"tag":252,"props":712,"children":713},{"class":254,"line":255},[714,718,722,727],{"type":17,"tag":252,"props":715,"children":716},{"class":259},[717],{"type":23,"value":262},{"type":17,"tag":252,"props":719,"children":720},{"class":265},[721],{"type":23,"value":268},{"type":17,"tag":252,"props":723,"children":724},{"class":271},[725],{"type":23,"value":726},"PIDController",{"type":17,"tag":252,"props":728,"children":729},{"class":265},[730],{"type":23,"value":279},{"type":17,"tag":252,"props":732,"children":733},{"class":254,"line":282},[734,738,742,746,750],{"type":17,"tag":252,"props":735,"children":736},{"class":265},[737],{"type":23,"value":288},{"type":17,"tag":252,"props":739,"children":740},{"class":259},[741],{"type":23,"value":293},{"type":17,"tag":252,"props":743,"children":744},{"class":265},[745],{"type":23,"value":268},{"type":17,"tag":252,"props":747,"children":748},{"class":300},[749],{"type":23,"value":303},{"type":17,"tag":252,"props":751,"children":752},{"class":265},[753],{"type":23,"value":754},"(self, kp, ki, kd, dt):\n",{"type":17,"tag":252,"props":756,"children":757},{"class":254,"line":311},[758],{"type":17,"tag":252,"props":759,"children":760},{},[761],{"type":23,"value":478},{"type":17,"tag":252,"props":763,"children":764},{"class":254,"line":344},[765,769,773,778,782],{"type":17,"tag":252,"props":766,"children":767},{"class":265},[768],{"type":23,"value":317},{"type":17,"tag":252,"props":770,"children":771},{"class":300},[772],{"type":23,"value":322},{"type":17,"tag":252,"props":774,"children":775},{"class":265},[776],{"type":23,"value":777},".kp ",{"type":17,"tag":252,"props":779,"children":780},{"class":259},[781],{"type":23,"value":332},{"type":17,"tag":252,"props":783,"children":784},{"class":265},[785],{"type":23,"value":786}," kp\n",{"type":17,"tag":252,"props":788,"children":789},{"class":254,"line":374},[790,794,798,803,807],{"type":17,"tag":252,"props":791,"children":792},{"class":265},[793],{"type":23,"value":317},{"type":17,"tag":252,"props":795,"children":796},{"class":300},[797],{"type":23,"value":322},{"type":17,"tag":252,"props":799,"children":800},{"class":265},[801],{"type":23,"value":802},".ki ",{"type":17,"tag":252,"props":804,"children":805},{"class":259},[806],{"type":23,"value":332},{"type":17,"tag":252,"props":808,"children":809},{"class":265},[810],{"type":23,"value":811}," ki\n",{"type":17,"tag":252,"props":813,"children":814},{"class":254,"line":400},[815,819,823,828,832],{"type":17,"tag":252,"props":816,"children":817},{"class":265},[818],{"type":23,"value":317},{"type":17,"tag":252,"props":820,"children":821},{"class":300},[822],{"type":23,"value":322},{"type":17,"tag":252,"props":824,"children":825},{"class":265},[826],{"type":23,"value":827},".kd ",{"type":17,"tag":252,"props":829,"children":830},{"class":259},[831],{"type":23,"value":332},{"type":17,"tag":252,"props":833,"children":834},{"class":265},[835],{"type":23,"value":836}," kd\n",{"type":17,"tag":252,"props":838,"children":839},{"class":254,"line":428},[840,844,848,853,857],{"type":17,"tag":252,"props":841,"children":842},{"class":265},[843],{"type":23,"value":317},{"type":17,"tag":252,"props":845,"children":846},{"class":300},[847],{"type":23,"value":322},{"type":17,"tag":252,"props":849,"children":850},{"class":265},[851],{"type":23,"value":852},".dt ",{"type":17,"tag":252,"props":854,"children":855},{"class":259},[856],{"type":23,"value":332},{"type":17,"tag":252,"props":858,"children":859},{"class":265},[860],{"type":23,"value":585},{"type":17,"tag":252,"props":862,"children":863},{"class":254,"line":454},[864,868,872,877,881,885],{"type":17,"tag":252,"props":865,"children":866},{"class":265},[867],{"type":23,"value":317},{"type":17,"tag":252,"props":869,"children":870},{"class":300},[871],{"type":23,"value":322},{"type":17,"tag":252,"props":873,"children":874},{"class":265},[875],{"type":23,"value":876},".integral ",{"type":17,"tag":252,"props":878,"children":879},{"class":259},[880],{"type":23,"value":332},{"type":17,"tag":252,"props":882,"children":883},{"class":265},[884],{"type":23,"value":268},{"type":17,"tag":252,"props":886,"children":887},{"class":300},[888],{"type":23,"value":889},"0\n",{"type":17,"tag":252,"props":891,"children":892},{"class":254,"line":472},[893],{"type":17,"tag":252,"props":894,"children":895},{},[896],{"type":23,"value":478},{"type":17,"tag":252,"props":898,"children":899},{"class":254,"line":481},[900,904,908,912,917],{"type":17,"tag":252,"props":901,"children":902},{"class":265},[903],{"type":23,"value":288},{"type":17,"tag":252,"props":905,"children":906},{"class":259},[907],{"type":23,"value":293},{"type":17,"tag":252,"props":909,"children":910},{"class":265},[911],{"type":23,"value":268},{"type":17,"tag":252,"props":913,"children":914},{"class":271},[915],{"type":23,"value":916},"calculate_pid",{"type":17,"tag":252,"props":918,"children":919},{"class":265},[920],{"type":23,"value":921},"(self, errors):\n",{"type":17,"tag":252,"props":923,"children":924},{"class":254,"line":499},[925,929],{"type":17,"tag":252,"props":926,"children":927},{"class":265},[928],{"type":23,"value":317},{"type":17,"tag":252,"props":930,"children":932},{"class":931},"ct-326375",[933],{"type":23,"value":934},"# Calculate proportional error\n",{"type":17,"tag":252,"props":936,"children":937},{"class":254,"line":525},[938,943,947,951,955,959,963,968,973,978],{"type":17,"tag":252,"props":939,"children":940},{"class":265},[941],{"type":23,"value":942},"        proportional ",{"type":17,"tag":252,"props":944,"children":945},{"class":259},[946],{"type":23,"value":332},{"type":17,"tag":252,"props":948,"children":949},{"class":265},[950],{"type":23,"value":268},{"type":17,"tag":252,"props":952,"children":953},{"class":300},[954],{"type":23,"value":322},{"type":17,"tag":252,"props":956,"children":957},{"class":265},[958],{"type":23,"value":777},{"type":17,"tag":252,"props":960,"children":961},{"class":259},[962],{"type":23,"value":420},{"type":17,"tag":252,"props":964,"children":965},{"class":265},[966],{"type":23,"value":967}," errors[",{"type":17,"tag":252,"props":969,"children":970},{"class":259},[971],{"type":23,"value":972},"-",{"type":17,"tag":252,"props":974,"children":975},{"class":300},[976],{"type":23,"value":977},"1",{"type":17,"tag":252,"props":979,"children":980},{"class":265},[981],{"type":23,"value":982},"]\n",{"type":17,"tag":252,"props":984,"children":985},{"class":254,"line":551},[986,990],{"type":17,"tag":252,"props":987,"children":988},{"class":265},[989],{"type":23,"value":317},{"type":17,"tag":252,"props":991,"children":992},{"class":931},[993],{"type":23,"value":994},"# Calculate integration error\n",{"type":17,"tag":252,"props":996,"children":997},{"class":254,"line":588},[998,1003,1007,1011,1015,1019,1023,1027,1031,1035,1039,1044,1048,1052,1057,1061,1065,1069],{"type":17,"tag":252,"props":999,"children":1000},{"class":265},[1001],{"type":23,"value":1002},"        integral ",{"type":17,"tag":252,"props":1004,"children":1005},{"class":259},[1006],{"type":23,"value":332},{"type":17,"tag":252,"props":1008,"children":1009},{"class":265},[1010],{"type":23,"value":268},{"type":17,"tag":252,"props":1012,"children":1013},{"class":300},[1014],{"type":23,"value":322},{"type":17,"tag":252,"props":1016,"children":1017},{"class":265},[1018],{"type":23,"value":876},{"type":17,"tag":252,"props":1020,"children":1021},{"class":259},[1022],{"type":23,"value":571},{"type":17,"tag":252,"props":1024,"children":1025},{"class":265},[1026],{"type":23,"value":268},{"type":17,"tag":252,"props":1028,"children":1029},{"class":300},[1030],{"type":23,"value":322},{"type":17,"tag":252,"props":1032,"children":1033},{"class":265},[1034],{"type":23,"value":802},{"type":17,"tag":252,"props":1036,"children":1037},{"class":259},[1038],{"type":23,"value":420},{"type":17,"tag":252,"props":1040,"children":1041},{"class":265},[1042],{"type":23,"value":1043}," (errors[",{"type":17,"tag":252,"props":1045,"children":1046},{"class":259},[1047],{"type":23,"value":972},{"type":17,"tag":252,"props":1049,"children":1050},{"class":300},[1051],{"type":23,"value":977},{"type":17,"tag":252,"props":1053,"children":1054},{"class":265},[1055],{"type":23,"value":1056},"]) ",{"type":17,"tag":252,"props":1058,"children":1059},{"class":259},[1060],{"type":23,"value":420},{"type":17,"tag":252,"props":1062,"children":1063},{"class":265},[1064],{"type":23,"value":268},{"type":17,"tag":252,"props":1066,"children":1067},{"class":300},[1068],{"type":23,"value":322},{"type":17,"tag":252,"props":1070,"children":1071},{"class":265},[1072],{"type":23,"value":1073},".dt\n",{"type":17,"tag":252,"props":1075,"children":1076},{"class":254,"line":623},[1077,1081,1085,1089,1093],{"type":17,"tag":252,"props":1078,"children":1079},{"class":265},[1080],{"type":23,"value":317},{"type":17,"tag":252,"props":1082,"children":1083},{"class":300},[1084],{"type":23,"value":322},{"type":17,"tag":252,"props":1086,"children":1087},{"class":265},[1088],{"type":23,"value":876},{"type":17,"tag":252,"props":1090,"children":1091},{"class":259},[1092],{"type":23,"value":332},{"type":17,"tag":252,"props":1094,"children":1095},{"class":265},[1096],{"type":23,"value":1097}," integral\n",{"type":17,"tag":252,"props":1099,"children":1100},{"class":254,"line":658},[1101,1105],{"type":17,"tag":252,"props":1102,"children":1103},{"class":265},[1104],{"type":23,"value":317},{"type":17,"tag":252,"props":1106,"children":1107},{"class":931},[1108],{"type":23,"value":1109},"# Calculate derivative error\n",{"type":17,"tag":252,"props":1111,"children":1112},{"class":254,"line":666},[1113,1118,1122,1126,1130,1134,1138,1142,1146,1150,1155,1159,1163,1167,1172,1177,1182,1186],{"type":17,"tag":252,"props":1114,"children":1115},{"class":265},[1116],{"type":23,"value":1117},"        derivative ",{"type":17,"tag":252,"props":1119,"children":1120},{"class":259},[1121],{"type":23,"value":332},{"type":17,"tag":252,"props":1123,"children":1124},{"class":265},[1125],{"type":23,"value":268},{"type":17,"tag":252,"props":1127,"children":1128},{"class":300},[1129],{"type":23,"value":322},{"type":17,"tag":252,"props":1131,"children":1132},{"class":265},[1133],{"type":23,"value":827},{"type":17,"tag":252,"props":1135,"children":1136},{"class":259},[1137],{"type":23,"value":420},{"type":17,"tag":252,"props":1139,"children":1140},{"class":265},[1141],{"type":23,"value":1043},{"type":17,"tag":252,"props":1143,"children":1144},{"class":259},[1145],{"type":23,"value":972},{"type":17,"tag":252,"props":1147,"children":1148},{"class":300},[1149],{"type":23,"value":977},{"type":17,"tag":252,"props":1151,"children":1152},{"class":265},[1153],{"type":23,"value":1154},"] ",{"type":17,"tag":252,"props":1156,"children":1157},{"class":259},[1158],{"type":23,"value":972},{"type":17,"tag":252,"props":1160,"children":1161},{"class":265},[1162],{"type":23,"value":967},{"type":17,"tag":252,"props":1164,"children":1165},{"class":259},[1166],{"type":23,"value":972},{"type":17,"tag":252,"props":1168,"children":1169},{"class":300},[1170],{"type":23,"value":1171},"2",{"type":17,"tag":252,"props":1173,"children":1174},{"class":265},[1175],{"type":23,"value":1176},"])",{"type":17,"tag":252,"props":1178,"children":1179},{"class":259},[1180],{"type":23,"value":1181},"/",{"type":17,"tag":252,"props":1183,"children":1184},{"class":300},[1185],{"type":23,"value":322},{"type":17,"tag":252,"props":1187,"children":1188},{"class":265},[1189],{"type":23,"value":1073},{"type":17,"tag":252,"props":1191,"children":1193},{"class":254,"line":1192},18,[1194],{"type":17,"tag":252,"props":1195,"children":1196},{},[1197],{"type":23,"value":478},{"type":17,"tag":252,"props":1199,"children":1201},{"class":254,"line":1200},19,[1202,1207,1211,1216,1220,1225,1229],{"type":17,"tag":252,"props":1203,"children":1204},{"class":265},[1205],{"type":23,"value":1206},"        output ",{"type":17,"tag":252,"props":1208,"children":1209},{"class":259},[1210],{"type":23,"value":332},{"type":17,"tag":252,"props":1212,"children":1213},{"class":265},[1214],{"type":23,"value":1215}," proportional ",{"type":17,"tag":252,"props":1217,"children":1218},{"class":259},[1219],{"type":23,"value":571},{"type":17,"tag":252,"props":1221,"children":1222},{"class":265},[1223],{"type":23,"value":1224}," integral ",{"type":17,"tag":252,"props":1226,"children":1227},{"class":259},[1228],{"type":23,"value":571},{"type":17,"tag":252,"props":1230,"children":1231},{"class":265},[1232],{"type":23,"value":1233}," derivative\n",{"type":17,"tag":252,"props":1235,"children":1237},{"class":254,"line":1236},20,[1238],{"type":17,"tag":252,"props":1239,"children":1240},{},[1241],{"type":23,"value":478},{"type":17,"tag":252,"props":1243,"children":1245},{"class":254,"line":1244},21,[1246,1250,1254],{"type":17,"tag":252,"props":1247,"children":1248},{"class":265},[1249],{"type":23,"value":317},{"type":17,"tag":252,"props":1251,"children":1252},{"class":259},[1253],{"type":23,"value":491},{"type":17,"tag":252,"props":1255,"children":1256},{"class":265},[1257],{"type":23,"value":1258}," output",{"type":17,"tag":26,"props":1260,"children":1261},{},[1262],{"type":23,"value":1263},"Don't worry, this class just defined as the PID formula. So, by doing this, we will be able to use all the characteristic of our PID controller.",{"type":17,"tag":40,"props":1265,"children":1267},{"id":1266},"experiment",[1268],{"type":23,"value":1269},"Experiment",{"type":17,"tag":1271,"props":1272,"children":1274},"h3",{"id":1273},"pid-for-point-control",[1275],{"type":23,"value":1276},"PID for point control",{"type":17,"tag":26,"props":1278,"children":1279},{},[1280,1282,1286,1288,1294],{"type":23,"value":1281},"If I want my DifferentialDrive robot go to point ",{"type":17,"tag":32,"props":1283,"children":1285},{"latex-express":1284,"styles":35},"x_{ref}, y_{ref}, \\theta_{ref}",[],{"type":23,"value":1287},", Then I can calculate the error between the reference point and the feedback position of the robot. I simulated my robot in the  ",{"type":17,"tag":1289,"props":1290,"children":1291},"code-inline",{},[1292],{"type":23,"value":1293},"for loop",{"type":23,"value":1295}," and calculate this error recursively.",{"type":17,"tag":237,"props":1297,"children":1300},{"className":1298,"code":1299,"language":242,"meta":7},[240],"error_x.append(ref_path[0]-current_x)\nerror_y.append(ref_path[1]-current_y)\nerror_yaw.append(ref_path[2]-current_yaw)\n",[1301],{"type":17,"tag":245,"props":1302,"children":1303},{},[1304],{"type":17,"tag":237,"props":1305,"children":1306},{"__ignoreMap":7},[1307,1334,1359],{"type":17,"tag":252,"props":1308,"children":1309},{"class":254,"line":255},[1310,1315,1320,1325,1329],{"type":17,"tag":252,"props":1311,"children":1312},{"class":265},[1313],{"type":23,"value":1314},"error_x.append(ref_path[",{"type":17,"tag":252,"props":1316,"children":1317},{"class":300},[1318],{"type":23,"value":1319},"0",{"type":17,"tag":252,"props":1321,"children":1322},{"class":265},[1323],{"type":23,"value":1324},"]",{"type":17,"tag":252,"props":1326,"children":1327},{"class":259},[1328],{"type":23,"value":972},{"type":17,"tag":252,"props":1330,"children":1331},{"class":265},[1332],{"type":23,"value":1333},"current_x)\n",{"type":17,"tag":252,"props":1335,"children":1336},{"class":254,"line":282},[1337,1342,1346,1350,1354],{"type":17,"tag":252,"props":1338,"children":1339},{"class":265},[1340],{"type":23,"value":1341},"error_y.append(ref_path[",{"type":17,"tag":252,"props":1343,"children":1344},{"class":300},[1345],{"type":23,"value":977},{"type":17,"tag":252,"props":1347,"children":1348},{"class":265},[1349],{"type":23,"value":1324},{"type":17,"tag":252,"props":1351,"children":1352},{"class":259},[1353],{"type":23,"value":972},{"type":17,"tag":252,"props":1355,"children":1356},{"class":265},[1357],{"type":23,"value":1358},"current_y)\n",{"type":17,"tag":252,"props":1360,"children":1361},{"class":254,"line":311},[1362,1367,1371,1375,1379],{"type":17,"tag":252,"props":1363,"children":1364},{"class":265},[1365],{"type":23,"value":1366},"error_yaw.append(ref_path[",{"type":17,"tag":252,"props":1368,"children":1369},{"class":300},[1370],{"type":23,"value":1171},{"type":17,"tag":252,"props":1372,"children":1373},{"class":265},[1374],{"type":23,"value":1324},{"type":17,"tag":252,"props":1376,"children":1377},{"class":259},[1378],{"type":23,"value":972},{"type":17,"tag":252,"props":1380,"children":1381},{"class":265},[1382],{"type":23,"value":1383},"current_yaw)",{"type":17,"tag":26,"props":1385,"children":1386},{},[1387],{"type":23,"value":1388},"Then, let's apply PID",{"type":17,"tag":237,"props":1390,"children":1393},{"className":1391,"code":1392,"language":242,"meta":7},[240],"output_vx = pid_controller_x.calculate_pid(error_x)\noutput_vy = pid_controller_y.calculate_pid(error_y)\noutput_omega = pid_controller_yaw.calculate_pid(error_yaw)\n",[1394],{"type":17,"tag":245,"props":1395,"children":1396},{},[1397],{"type":17,"tag":237,"props":1398,"children":1399},{"__ignoreMap":7},[1400,1417,1434],{"type":17,"tag":252,"props":1401,"children":1402},{"class":254,"line":255},[1403,1408,1412],{"type":17,"tag":252,"props":1404,"children":1405},{"class":265},[1406],{"type":23,"value":1407},"output_vx ",{"type":17,"tag":252,"props":1409,"children":1410},{"class":259},[1411],{"type":23,"value":332},{"type":17,"tag":252,"props":1413,"children":1414},{"class":265},[1415],{"type":23,"value":1416}," pid_controller_x.calculate_pid(error_x)\n",{"type":17,"tag":252,"props":1418,"children":1419},{"class":254,"line":282},[1420,1425,1429],{"type":17,"tag":252,"props":1421,"children":1422},{"class":265},[1423],{"type":23,"value":1424},"output_vy ",{"type":17,"tag":252,"props":1426,"children":1427},{"class":259},[1428],{"type":23,"value":332},{"type":17,"tag":252,"props":1430,"children":1431},{"class":265},[1432],{"type":23,"value":1433}," pid_controller_y.calculate_pid(error_y)\n",{"type":17,"tag":252,"props":1435,"children":1436},{"class":254,"line":311},[1437,1442,1446],{"type":17,"tag":252,"props":1438,"children":1439},{"class":265},[1440],{"type":23,"value":1441},"output_omega ",{"type":17,"tag":252,"props":1443,"children":1444},{"class":259},[1445],{"type":23,"value":332},{"type":17,"tag":252,"props":1447,"children":1448},{"class":265},[1449],{"type":23,"value":1450}," pid_controller_yaw.calculate_pid(error_yaw)",{"type":17,"tag":26,"props":1452,"children":1453},{},[1454],{"type":23,"value":1455},"We will also need to update current position of the robot with the given optimal value from the PID controller.",{"type":17,"tag":237,"props":1457,"children":1460},{"className":1458,"code":1459,"language":242,"meta":7},[240],"x_next, y_next, yaw_next = diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) # Skip for omega we only look for x, y\ncurrent_x = x_next\ncurrent_y = y_next\ncurrent_yaw = yaw_next\n",[1461],{"type":17,"tag":245,"props":1462,"children":1463},{},[1464],{"type":17,"tag":237,"props":1465,"children":1466},{"__ignoreMap":7},[1467,1489,1506,1523],{"type":17,"tag":252,"props":1468,"children":1469},{"class":254,"line":255},[1470,1475,1479,1484],{"type":17,"tag":252,"props":1471,"children":1472},{"class":265},[1473],{"type":23,"value":1474},"x_next, y_next, yaw_next ",{"type":17,"tag":252,"props":1476,"children":1477},{"class":259},[1478],{"type":23,"value":332},{"type":17,"tag":252,"props":1480,"children":1481},{"class":265},[1482],{"type":23,"value":1483}," diff_drive.discrete_state(current_x, current_y, current_yaw, v_pid, omega_pid, sampling_time) ",{"type":17,"tag":252,"props":1485,"children":1486},{"class":931},[1487],{"type":23,"value":1488},"# Skip for omega we only look for x, y\n",{"type":17,"tag":252,"props":1490,"children":1491},{"class":254,"line":282},[1492,1497,1501],{"type":17,"tag":252,"props":1493,"children":1494},{"class":265},[1495],{"type":23,"value":1496},"current_x ",{"type":17,"tag":252,"props":1498,"children":1499},{"class":259},[1500],{"type":23,"value":332},{"type":17,"tag":252,"props":1502,"children":1503},{"class":265},[1504],{"type":23,"value":1505}," x_next\n",{"type":17,"tag":252,"props":1507,"children":1508},{"class":254,"line":311},[1509,1514,1518],{"type":17,"tag":252,"props":1510,"children":1511},{"class":265},[1512],{"type":23,"value":1513},"current_y ",{"type":17,"tag":252,"props":1515,"children":1516},{"class":259},[1517],{"type":23,"value":332},{"type":17,"tag":252,"props":1519,"children":1520},{"class":265},[1521],{"type":23,"value":1522}," y_next\n",{"type":17,"tag":252,"props":1524,"children":1525},{"class":254,"line":344},[1526,1531,1535],{"type":17,"tag":252,"props":1527,"children":1528},{"class":265},[1529],{"type":23,"value":1530},"current_yaw ",{"type":17,"tag":252,"props":1532,"children":1533},{"class":259},[1534],{"type":23,"value":332},{"type":17,"tag":252,"props":1536,"children":1537},{"class":265},[1538],{"type":23,"value":1539}," yaw_next",{"type":17,"tag":26,"props":1541,"children":1542},{},[1543,1545,1550],{"type":23,"value":1544},"I use ",{"type":17,"tag":1289,"props":1546,"children":1547},{},[1548],{"type":23,"value":1549},"matplotlib",{"type":23,"value":1551}," library to simulate my robot.",{"type":17,"tag":237,"props":1553,"children":1556},{"className":1554,"code":1555,"language":242,"meta":7},[240],"plt.clf()\nplt.gcf().canvas.mpl_connect('key_release_event',\n            lambda event: [exit(0) if event.key == 'escape' else None])\nplot_arrow(current_x, current_y, current_yaw)\nplt.plot(5, 5)\nplt.plot(ref_path[0], ref_path[1], marker=\"x\", color=\"blue\", label=\"Input Trajectory\")\nplt.axis(\"equal\")\nplt.grid(True)\nplt.legend()\nplt.pause(0.0001)\n",[1557],{"type":17,"tag":245,"props":1558,"children":1559},{},[1560],{"type":17,"tag":237,"props":1561,"children":1562},{"__ignoreMap":7},[1563,1571,1590,1674,1682,1709,1790,1807,1824,1832],{"type":17,"tag":252,"props":1564,"children":1565},{"class":254,"line":255},[1566],{"type":17,"tag":252,"props":1567,"children":1568},{"class":265},[1569],{"type":23,"value":1570},"plt.clf()\n",{"type":17,"tag":252,"props":1572,"children":1573},{"class":254,"line":282},[1574,1579,1585],{"type":17,"tag":252,"props":1575,"children":1576},{"class":265},[1577],{"type":23,"value":1578},"plt.gcf().canvas.mpl_connect(",{"type":17,"tag":252,"props":1580,"children":1582},{"class":1581},"ct-244866",[1583],{"type":23,"value":1584},"'key_release_event'",{"type":17,"tag":252,"props":1586,"children":1587},{"class":265},[1588],{"type":23,"value":1589},",\n",{"type":17,"tag":252,"props":1591,"children":1592},{"class":254,"line":311},[1593,1598,1603,1608,1613,1618,1622,1627,1632,1637,1642,1646,1651,1655,1660,1664,1669],{"type":17,"tag":252,"props":1594,"children":1595},{"class":265},[1596],{"type":23,"value":1597},"            ",{"type":17,"tag":252,"props":1599,"children":1600},{"class":259},[1601],{"type":23,"value":1602},"lambda",{"type":17,"tag":252,"props":1604,"children":1605},{"class":265},[1606],{"type":23,"value":1607}," event: [",{"type":17,"tag":252,"props":1609,"children":1610},{"class":300},[1611],{"type":23,"value":1612},"exit",{"type":17,"tag":252,"props":1614,"children":1615},{"class":265},[1616],{"type":23,"value":1617},"(",{"type":17,"tag":252,"props":1619,"children":1620},{"class":300},[1621],{"type":23,"value":1319},{"type":17,"tag":252,"props":1623,"children":1624},{"class":265},[1625],{"type":23,"value":1626},") ",{"type":17,"tag":252,"props":1628,"children":1629},{"class":259},[1630],{"type":23,"value":1631},"if",{"type":17,"tag":252,"props":1633,"children":1634},{"class":265},[1635],{"type":23,"value":1636}," event.key ",{"type":17,"tag":252,"props":1638,"children":1639},{"class":259},[1640],{"type":23,"value":1641},"==",{"type":17,"tag":252,"props":1643,"children":1644},{"class":265},[1645],{"type":23,"value":268},{"type":17,"tag":252,"props":1647,"children":1648},{"class":1581},[1649],{"type":23,"value":1650},"'escape'",{"type":17,"tag":252,"props":1652,"children":1653},{"class":265},[1654],{"type":23,"value":268},{"type":17,"tag":252,"props":1656,"children":1657},{"class":259},[1658],{"type":23,"value":1659},"else",{"type":17,"tag":252,"props":1661,"children":1662},{"class":265},[1663],{"type":23,"value":268},{"type":17,"tag":252,"props":1665,"children":1666},{"class":300},[1667],{"type":23,"value":1668},"None",{"type":17,"tag":252,"props":1670,"children":1671},{"class":265},[1672],{"type":23,"value":1673},"])\n",{"type":17,"tag":252,"props":1675,"children":1676},{"class":254,"line":344},[1677],{"type":17,"tag":252,"props":1678,"children":1679},{"class":265},[1680],{"type":23,"value":1681},"plot_arrow(current_x, current_y, current_yaw)\n",{"type":17,"tag":252,"props":1683,"children":1684},{"class":254,"line":374},[1685,1690,1695,1700,1704],{"type":17,"tag":252,"props":1686,"children":1687},{"class":265},[1688],{"type":23,"value":1689},"plt.plot(",{"type":17,"tag":252,"props":1691,"children":1692},{"class":300},[1693],{"type":23,"value":1694},"5",{"type":17,"tag":252,"props":1696,"children":1697},{"class":265},[1698],{"type":23,"value":1699},", ",{"type":17,"tag":252,"props":1701,"children":1702},{"class":300},[1703],{"type":23,"value":1694},{"type":17,"tag":252,"props":1705,"children":1706},{"class":265},[1707],{"type":23,"value":1708},")\n",{"type":17,"tag":252,"props":1710,"children":1711},{"class":254,"line":400},[1712,1717,1721,1726,1730,1735,1741,1745,1750,1754,1759,1763,1768,1772,1777,1781,1786],{"type":17,"tag":252,"props":1713,"children":1714},{"class":265},[1715],{"type":23,"value":1716},"plt.plot(ref_path[",{"type":17,"tag":252,"props":1718,"children":1719},{"class":300},[1720],{"type":23,"value":1319},{"type":17,"tag":252,"props":1722,"children":1723},{"class":265},[1724],{"type":23,"value":1725},"], ref_path[",{"type":17,"tag":252,"props":1727,"children":1728},{"class":300},[1729],{"type":23,"value":977},{"type":17,"tag":252,"props":1731,"children":1732},{"class":265},[1733],{"type":23,"value":1734},"], ",{"type":17,"tag":252,"props":1736,"children":1738},{"class":1737},"ct-657843",[1739],{"type":23,"value":1740},"marker",{"type":17,"tag":252,"props":1742,"children":1743},{"class":259},[1744],{"type":23,"value":332},{"type":17,"tag":252,"props":1746,"children":1747},{"class":1581},[1748],{"type":23,"value":1749},"\"x\"",{"type":17,"tag":252,"props":1751,"children":1752},{"class":265},[1753],{"type":23,"value":1699},{"type":17,"tag":252,"props":1755,"children":1756},{"class":1737},[1757],{"type":23,"value":1758},"color",{"type":17,"tag":252,"props":1760,"children":1761},{"class":259},[1762],{"type":23,"value":332},{"type":17,"tag":252,"props":1764,"children":1765},{"class":1581},[1766],{"type":23,"value":1767},"\"blue\"",{"type":17,"tag":252,"props":1769,"children":1770},{"class":265},[1771],{"type":23,"value":1699},{"type":17,"tag":252,"props":1773,"children":1774},{"class":1737},[1775],{"type":23,"value":1776},"label",{"type":17,"tag":252,"props":1778,"children":1779},{"class":259},[1780],{"type":23,"value":332},{"type":17,"tag":252,"props":1782,"children":1783},{"class":1581},[1784],{"type":23,"value":1785},"\"Input Trajectory\"",{"type":17,"tag":252,"props":1787,"children":1788},{"class":265},[1789],{"type":23,"value":1708},{"type":17,"tag":252,"props":1791,"children":1792},{"class":254,"line":428},[1793,1798,1803],{"type":17,"tag":252,"props":1794,"children":1795},{"class":265},[1796],{"type":23,"value":1797},"plt.axis(",{"type":17,"tag":252,"props":1799,"children":1800},{"class":1581},[1801],{"type":23,"value":1802},"\"equal\"",{"type":17,"tag":252,"props":1804,"children":1805},{"class":265},[1806],{"type":23,"value":1708},{"type":17,"tag":252,"props":1808,"children":1809},{"class":254,"line":454},[1810,1815,1820],{"type":17,"tag":252,"props":1811,"children":1812},{"class":265},[1813],{"type":23,"value":1814},"plt.grid(",{"type":17,"tag":252,"props":1816,"children":1817},{"class":300},[1818],{"type":23,"value":1819},"True",{"type":17,"tag":252,"props":1821,"children":1822},{"class":265},[1823],{"type":23,"value":1708},{"type":17,"tag":252,"props":1825,"children":1826},{"class":254,"line":472},[1827],{"type":17,"tag":252,"props":1828,"children":1829},{"class":265},[1830],{"type":23,"value":1831},"plt.legend()\n",{"type":17,"tag":252,"props":1833,"children":1834},{"class":254,"line":481},[1835,1840,1845],{"type":17,"tag":252,"props":1836,"children":1837},{"class":265},[1838],{"type":23,"value":1839},"plt.pause(",{"type":17,"tag":252,"props":1841,"children":1842},{"class":300},[1843],{"type":23,"value":1844},"0.0001",{"type":17,"tag":252,"props":1846,"children":1847},{"class":265},[1848],{"type":23,"value":1849},")",{"type":17,"tag":1271,"props":1851,"children":1853},{"id":1852},"path-tracking",[1854],{"type":23,"value":1855},"Path Tracking",{"type":17,"tag":26,"props":1857,"children":1858},{},[1859,1861,1866,1868,1873],{"type":23,"value":1860},"The code is all way the same. The different is that, I fit the continuous point into the robot instead of fixed goal point. I use ",{"type":17,"tag":1289,"props":1862,"children":1863},{},[1864],{"type":23,"value":1865},"BeizerCurve",{"type":23,"value":1867}," function to generate ",{"type":17,"tag":687,"props":1869,"children":1870},{},[1871],{"type":23,"value":1872}," Spline Trajectory ",{"type":23,"value":1874}," for the robot.",{"type":17,"tag":26,"props":1876,"children":1877},{},[1878,1880,1889],{"type":23,"value":1879},"The full code is published open-source on my Github. Link here ",{"type":17,"tag":1881,"props":1882,"children":1886},"a",{"href":1883,"rel":1884},"https://github.com/SokhengDin/PathTracking/tree/main/PID",[1885],"nofollow",[1887],{"type":23,"value":1888},"Github",{"type":23,"value":1890},". Hit the star for me if you like my work ðŸ™‚.",{"type":17,"tag":1271,"props":1892,"children":1894},{"id":1893},"result",[1895],{"type":23,"value":1896},"Result",{"type":17,"tag":95,"props":1898,"children":1900},{"className":1899},[98,99,100],[1901,1902],{"type":23,"value":103},{"type":17,"tag":105,"props":1903,"children":1906},{"className":1904,"src":1905},[108],"/topics/nmpc/Figure_pid_p.png",[],{"type":17,"tag":112,"props":1908,"children":1910},{"className":1909},[60,115,116,117],[1911],{"type":23,"value":1912},"\n    PID Controller with position control on Differential Drive Robot\n",{"type":17,"tag":95,"props":1914,"children":1916},{"className":1915},[98,99,100],[1917,1918],{"type":23,"value":103},{"type":17,"tag":105,"props":1919,"children":1922},{"className":1920,"src":1921},[108],"/topics/nmpc/Figure_pid_t.png",[],{"type":17,"tag":112,"props":1924,"children":1926},{"className":1925},[60,115,116,117],[1927],{"type":23,"value":1928},"\n    PID Controller with path tracking control on Differential Drive Robot\n",{"type":17,"tag":40,"props":1930,"children":1932},{"id":1931},"in-conclusion",[1933],{"type":23,"value":1934},"In Conclusion",{"type":17,"tag":26,"props":1936,"children":1937},{},[1938],{"type":23,"value":1939},"In my opinion, the PID Controller is an excellent choice for most control system applications due to its simplicity and powerful capabilities in handling complex control challenges arising from various systems.",{"type":17,"tag":40,"props":1941,"children":1943},{"id":1942},"references",[1944],{"type":23,"value":1945},"References",{"type":17,"tag":1947,"props":1948,"children":1949},"ol",{},[1950,1963,1968,1979],{"type":17,"tag":67,"props":1951,"children":1952},{},[1953,1955,1962],{"type":23,"value":1954},"BeizerCurve: ",{"type":17,"tag":1881,"props":1956,"children":1959},{"href":1957,"rel":1958},"https://en.wikipedia.org/wiki/B%C3%A9zier_curve",[1885],[1960],{"type":23,"value":1961},"https://en.wikipedia.org/wiki/BÃ©zier_curve",{"type":23,"value":38},{"type":17,"tag":67,"props":1964,"children":1965},{},[1966],{"type":23,"value":1967},"PID Controller: Control Systems Engineering by Normal S. Nise.",{"type":17,"tag":67,"props":1969,"children":1970},{},[1971,1973],{"type":23,"value":1972},"Beizer Path : ",{"type":17,"tag":1881,"props":1974,"children":1977},{"href":1975,"rel":1976},"https://github.com/AtsushiSakai/PythonRobotics/tree/master/PathPlanning/BezierPath",[1885],[1978],{"type":23,"value":1975},{"type":17,"tag":67,"props":1980,"children":1981},{},[1982,1984],{"type":23,"value":1983},"PID Lecture : ",{"type":17,"tag":1881,"props":1985,"children":1988},{"href":1986,"rel":1987},"https://www.cds.caltech.edu/~murray/courses/cds101/fa02/caltech/astrom-ch6.pdf",[1885],[1989],{"type":23,"value":1986},{"type":17,"tag":1991,"children":1992},"style",[1993],{"type":23,"value":1994},".ct-857441{color:#F97583;}\n.ct-767297{color:#E1E4E8;}\n.ct-806137{color:#B392F0;}\n.ct-533739{color:#79B8FF;}\n.ct-326375{color:#6A737D;}\n.ct-244866{color:#9ECBFF;}\n.ct-657843{color:#FFAB70;}",{"title":7,"searchDepth":282,"depth":282,"links":1996},[1997,1998,1999,2000,2001,2006,2007],{"id":42,"depth":282,"text":45},{"id":53,"depth":282,"text":56},{"id":123,"depth":282,"text":126},{"id":184,"depth":282,"text":187},{"id":1266,"depth":282,"text":1269,"children":2002},[2003,2004,2005],{"id":1273,"depth":311,"text":1276},{"id":1852,"depth":311,"text":1855},{"id":1893,"depth":311,"text":1896},{"id":1931,"depth":282,"text":1934},{"id":1942,"depth":282,"text":1945},"markdown","content:topics:pid-controller.md","content","topics/pid-controller.md","md",1693570461372]