import{k as h}from"./katex.4b08437e.js";import{o as f,c as u,F as v,r as y,a as m,t as x,n as E}from"./entry.78b86276.js";var b=function(t,a,e){for(var r=e,n=0,l=t.length;r<a.length;){var i=a[r];if(n<=0&&a.slice(r,r+l)===t)return r;i==="\\"?r++:i==="{"?n++:i==="}"&&n--,r++}return-1},T=function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},$=/^\\begin{/,k=function(t,a){for(var e,r=[],n=new RegExp("("+a.map(g=>T(g.left)).join("|")+")");e=t.search(n),e!==-1;){e>0&&(r.push({type:"text",data:t.slice(0,e)}),t=t.slice(e));var l=a.findIndex(g=>t.startsWith(g.left));if(e=b(a[l].right,t,a[l].left.length),e===-1)break;var i=t.slice(0,e+a[l].right.length),d=$.test(i)?i:t.slice(a[l].left.length,e);r.push({type:"math",data:d,rawData:i,display:a[l].display}),t=t.slice(e+a[l].right.length)}return t!==""&&r.push({type:"text",data:t}),r},w=function(t,a){var e=k(t,a.delimiters);if(e.length===1&&e[0].type==="text")return null;for(var r=document.createDocumentFragment(),n=0;n<e.length;n++)if(e[n].type==="text")r.appendChild(document.createTextNode(e[n].data));else{var l=document.createElement("span"),i=e[n].data;a.displayMode=e[n].display;try{a.preProcess&&(i=a.preProcess(i)),h.render(i,l,a)}catch(d){if(!(d instanceof h.ParseError))throw d;a.errorCallback("KaTeX auto-render: Failed to parse `"+e[n].data+"` with ",d),r.appendChild(document.createTextNode(e[n].rawData));continue}r.appendChild(l)}return r},C=function s(t,a){for(var e=0;e<t.childNodes.length;e++){var r=t.childNodes[e];if(r.nodeType===3){for(var n=r.textContent,l=r.nextSibling,i=0;l&&l.nodeType===Node.TEXT_NODE;)n+=l.textContent,l=l.nextSibling,i++;var d=w(n,a);if(d){for(var g=0;g<i;g++)r.nextSibling.remove();e+=d.childNodes.length-1,t.replaceChild(d,r)}else e+=i}else r.nodeType===1&&function(){var o=" "+r.className+" ",c=a.ignoredTags.indexOf(r.nodeName.toLowerCase())===-1&&a.ignoredClasses.every(p=>o.indexOf(" "+p+" ")===-1);c&&s(r,a)}()}},D=function(t,a){if(!t)throw new Error("No element provided to render");var e={};for(var r in a)a.hasOwnProperty(r)&&(e[r]=a[r]);e.delimiters=e.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],e.ignoredTags=e.ignoredTags||["script","noscript","style","textarea","pre","code","option"],e.ignoredClasses=e.ignoredClasses||[],e.errorCallback=e.errorCallback||console.error,e.macros=e.macros||{},C(t,e)};const O={__name:"auto-render",props:{latexExpress:{type:[String,Array],require:!0},styles:{type:String,require:!0}},setup(s){function t(e){const r=D(e,a);return console.log(r),r}const a=[{left:"$",right:"$",display:!1},{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}];return(e,r)=>(f(),u("div",{class:E(s.styles)},[(f(!0),u(v,null,y(s.latexExpress,n=>(f(),u("div",{key:n},[m("span",null,x(t(n)),1)]))),128))],2))}};export{O as default};
